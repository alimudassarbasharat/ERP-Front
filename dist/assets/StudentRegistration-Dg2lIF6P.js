import{_ as xt,M as yt,H as _t,P as wt,l as g,c as kt,Q as Ct,w as le,p as Te,a7 as St,R as Nt,a,o as i,d as t,b as p,i as w,t as c,e as d,F as V,z as A,n as Ye,C as be,J as O,A as m,a8 as ae,K as h,h as He,B as P}from"./index-xvPUEXLW.js";import{C as Ze}from"./CompactDatePicker-xqVnbMy9.js";import"./createVueComponent-mtWgRR3y.js";const Mt={class:"relative w-full min-h-screen pl-0 pr-0 sm:pl-0 sm:pr-0 lg:pl-1 lg:pr-0 py-2 sm:py-3 lg:py-4"},Pt={class:"relative z-10 w-full mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500 border border-gray-200"},It={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},Vt={class:"flex items-center gap-2 text-base font-medium text-gray-500"},At={class:"text-gray-900 font-bold"},Ut={key:0,class:"relative z-10 w-full mb-6"},jt={class:"bg-white/90 rounded-lg shadow-lg p-6 border border-gray-200"},Dt={class:"flex items-center justify-between"},qt={class:"flex bg-white rounded-full p-1"},Bt={key:1,class:"relative z-10 w-full mb-6"},Et={class:"bg-white/90 rounded-lg shadow-lg border border-gray-200 p-4"},Ft={class:"relative"},$t={class:"flex items-center justify-between"},zt={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},Ot={key:1,class:"text-sm font-semibold"},Rt={class:"absolute top-5 left-5 right-5 h-0.5 bg-gray-300 rounded-full -z-0"},Lt={key:2,class:"relative z-10 w-full mb-6"},Gt={key:3,class:"relative z-10 w-full"},Tt={class:"bg-white/90 rounded-lg shadow-lg border border-gray-200 overflow-hidden"},Yt={class:"p-8"},Ht={class:"space-y-6"},Zt={class:"flex flex-col lg:flex-row items-start gap-8 mb-8"},Kt={class:"flex-shrink-0 lg:mr-8"},Wt={class:"relative"},Jt={class:"w-32 h-32 rounded-full border-4 border-gray-200 overflow-hidden bg-white flex items-center justify-center relative group cursor-pointer hover:border-indigo-400 transition-all duration-300 hover:shadow-lg hover:scale-105"},Xt=["src"],Qt={key:1,class:"text-center animate-pulse"},el={class:"absolute inset-0 bg-gradient-to-br from-indigo-500/50 to-purple-500/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 backdrop-blur-sm"},tl={class:"text-center"},ll={class:"text-white text-xs font-medium"},sl={key:1,class:"absolute -bottom-2 -right-2 w-6 h-6 bg-indigo-500 text-white rounded-full flex items-center justify-center text-xs font-bold shadow-lg animate-pulse"},ol={key:0,class:"text-red-500 text-xs mt-2 text-center animate-shake"},rl={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},nl={class:"filter-input-group"},al={class:"filter-input-container"},il={key:0,class:"text-red-500 text-xs mt-1"},dl={class:"filter-input-group"},ul={class:"filter-input-container"},cl={key:0,class:"text-red-500 text-xs mt-1"},pl={class:"filter-input-group"},ml={class:"filter-input-container relative"},fl={key:0,class:"text-red-500 text-xs mt-1"},vl={class:"filter-input-group"},hl={class:"filter-input-container"},gl={key:0,class:"text-red-500 text-xs mt-1"},bl={class:"filter-input-group"},xl={class:"filter-input-container"},yl={key:0,class:"text-red-500 text-xs mt-1"},_l={class:"filter-input-group"},wl={class:"filter-input-container"},kl=["value"],Cl={class:"filter-input-group"},Sl={class:"filter-input-container"},Nl={class:"space-y-6"},Ml={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Pl={class:"filter-input-group"},Il={class:"filter-input-container"},Vl={key:0,class:"text-red-500 text-xs mt-1"},Al={class:"filter-input-group"},Ul={class:"filter-input-container"},jl={key:0,class:"text-red-500 text-xs mt-1"},Dl={class:"filter-input-group"},ql={class:"filter-input-container"},Bl={key:0,class:"text-red-500 text-xs mt-1"},El={class:"filter-input-group"},Fl={class:"filter-input-container"},$l=["value"],zl={class:"filter-input-group"},Ol={class:"filter-input-container"},Rl={key:0,class:"text-red-500 text-xs mt-1"},Ll={class:"filter-input-group"},Gl={class:"filter-input-container"},Tl={key:0,class:"text-red-500 text-xs mt-1"},Yl={class:"space-y-6"},Hl={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Zl={class:"filter-input-group"},Kl={class:"filter-input-container"},Wl={class:"filter-input-group"},Jl={class:"filter-input-container"},Xl={key:0,class:"text-red-500 text-xs mt-1"},Ql={class:"filter-input-group"},es={class:"filter-input-container"},ts=["value"],ls={key:0,class:"text-red-500 text-xs mt-1"},ss={class:"filter-input-group"},os={class:"filter-input-container"},rs=["value"],ns={key:0,class:"text-red-500 text-xs mt-1"},as={class:"filter-input-group"},is={class:"filter-input-container"},ds={key:0,class:"text-red-500 text-xs mt-1"},us={class:"filter-input-group"},cs={class:"filter-input-container"},ps=["value"],ms={key:0,class:"text-red-500 text-xs mt-1"},fs={class:"filter-input-group"},vs={class:"filter-input-container"},hs={key:0,class:"text-red-500 text-xs mt-1"},gs={class:"space-y-6"},bs={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100"},xs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ys={class:"filter-input-group"},_s={class:"filter-input-container"},ws={key:0,class:"text-red-500 text-xs mt-1"},ks={class:"filter-input-group"},Cs={class:"filter-input-container"},Ss={key:0,class:"text-red-500 text-xs mt-1"},Ns={class:"filter-input-group"},Ms={class:"filter-input-container"},Ps={key:0,class:"text-red-500 text-xs mt-1"},Is={class:"filter-input-group"},Vs={class:"filter-input-container"},As={key:0,class:"text-red-500 text-xs mt-1"},Us={class:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-6 border border-pink-100"},js={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ds={class:"filter-input-group"},qs={class:"filter-input-container"},Bs={key:0,class:"text-red-500 text-xs mt-1"},Es={class:"filter-input-group"},Fs={class:"filter-input-container"},$s={key:0,class:"text-red-500 text-xs mt-1"},zs={class:"filter-input-group"},Os={class:"filter-input-container"},Rs={key:0,class:"text-red-500 text-xs mt-1"},Ls={class:"filter-input-group"},Gs={class:"filter-input-container"},Ts={key:0,class:"text-red-500 text-xs mt-1"},Ys={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100"},Hs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Zs={class:"filter-input-group"},Ks={class:"filter-input-container"},Ws={key:0,class:"text-red-500 text-xs mt-1"},Js={class:"filter-input-group"},Xs={class:"filter-input-container"},Qs={key:0,class:"text-red-500 text-xs mt-1"},eo={class:"filter-input-group"},to={class:"filter-input-container"},lo={class:"bg-white px-8 py-6 border-t border-gray-200 flex justify-between items-center"},so={key:1},oo={class:"flex space-x-3"},ro=["disabled"],no={key:0,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},ao={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},io={key:4,class:"w-full"},uo={class:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden"},co={class:"p-8 space-y-8"},po={class:"flex items-center justify-between mb-6"},mo={class:"flex items-center gap-3"},fo={class:"w-10 h-10 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center text-white font-bold"},vo={class:"text-base font-medium text-gray-900 tracking-tight"},ho=["onClick"],go={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},bo={class:"filter-input-group"},xo={class:"filter-input-container"},yo=["onUpdate:modelValue"],_o={key:0,class:"text-red-500 text-xs mt-1"},wo={class:"filter-input-group"},ko={class:"filter-input-container"},Co=["onUpdate:modelValue"],So={key:0,class:"text-red-500 text-xs mt-1"},No={class:"filter-input-group"},Mo={class:"filter-input-container"},Po=["onUpdate:modelValue"],Io={key:0,class:"text-red-500 text-xs mt-1"},Vo={class:"filter-input-group"},Ao={class:"filter-input-container"},Uo=["onUpdate:modelValue","onChange"],jo=["value"],Do={key:0,class:"text-red-500 text-xs mt-1"},qo={class:"filter-input-group"},Bo={class:"filter-input-container"},Eo=["onUpdate:modelValue"],Fo=["value"],$o={key:0,class:"text-red-500 text-xs mt-1"},zo={class:"filter-input-group"},Oo={class:"filter-input-container"},Ro=["onUpdate:modelValue"],Lo={key:0,class:"text-red-500 text-xs mt-1"},Go={class:"filter-input-group"},To={class:"filter-input-container"},Yo=["onUpdate:modelValue"],Ho={key:0,class:"text-red-500 text-xs mt-1"},Zo={class:"filter-input-group"},Ko={class:"filter-input-container"},Wo=["onUpdate:modelValue"],Jo={key:0,class:"text-red-500 text-xs mt-1"},Xo={class:"filter-input-group"},Qo={class:"filter-input-container"},er=["onUpdate:modelValue"],tr={key:0,class:"text-red-500 text-xs mt-1"},lr={class:"mt-6"},sr={class:"filter-input-group"},or={class:"filter-input-container"},rr=["onUpdate:modelValue"],nr={key:0,class:"text-red-500 text-xs mt-1"},ar={class:"bg-white px-8 py-6 border-t border-gray-200 flex justify-between items-center"},ir={class:"text-sm text-gray-600"},dr={class:"font-semibold text-indigo-600"},ur={class:"flex space-x-3"},cr=["disabled"],pr={key:0,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},mr={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},fr={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},vr={class:"w-full"},hr={class:"text-center"},gr={class:"text-sm text-gray-500 mb-6"},br={class:"flex justify-center space-x-3"},xr={class:"absolute top-4 right-4 bg-white/95 px-4 py-2 rounded-full text-lg font-bold text-gray-900 shadow-lg z-20"},yr=["src"],_r={__name:"StudentRegistration",setup(wr){const D=Nt,ie=yt(),de=_t(),B=wt(),b=g(0),U=g(!1),ue=g(!1),E=g(null),R=g(!1),L=g([]),G=g([]),se=g([]),j=g(!1),y=g([]),s=g({}),F=g(!1),q=g(!1),I=g(1),$=g(0),z=g(0),oe=g(!1),ce=g({x:0,y:0}),Ke=g(null),We=g(null),C=kt(()=>B.params.id&&B.params.id!=="add"),xe=r=>{j.value=r,r&&(y.value=[pe()])},pe=()=>({first_name:"",last_name:"",roll_number:"",classId:"",sectionId:"",fatherName:"",fatherCnic:"",motherName:"",phone:"",address:""}),re=[{title:"Personal",icon:"user"},{title:"Contact",icon:"phone"},{title:"Academic",icon:"book"},{title:"Family",icon:"users"}],l=Ct({first_name:"",last_name:"",date_of_birth:"",gender:"",cnic_number:"",bloodGroup:"",religion:"",profilePicture:"",email:"",phone:"",address:"",city:"",province:"",postalCode:"",studentId:"",roll_number:"",classId:"",sectionId:"",admission_date:"",academicSession:"",previousSchool:"",fatherName:"",fatherCnic:"",fatherOccupation:"",fatherPhone:"",motherName:"",motherCnic:"",motherOccupation:"",motherPhone:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelation:""}),Je=["A+","A-","B+","B-","AB+","AB-","O+","O-"],Xe=["Punjab","Sindh","KPK","Balochistan","Gilgit-Baltistan","AJK","Islamabad"],Qe=()=>{Ie(b.value)?(F.value=!1,b.value<re.length-1&&b.value++):(F.value=!0,setTimeout(()=>{F.value=!1},5e3))},et=()=>{b.value>0&&b.value--},tt=r=>{const o=["image/jpeg","image/jpg","image/png","image/gif"];return r.size>5242880?"File size should not exceed 5MB":o.includes(r.type)?null:"Only JPEG, PNG and GIF files are allowed"},lt=r=>{const e=r.target.files[0];if(e){const o=tt(e);if(o){s.value.profilePicture=o;return}x("profilePicture");const n=new FileReader;n.onload=f=>{l.profilePicture=f.target.result},n.readAsDataURL(e)}},st=()=>{l.profilePicture=""},ot=()=>{l.profilePicture&&(q.value=!0,fe(),document.addEventListener("keydown",ve),document.body.style.overflow="hidden")},me=()=>{q.value=!1,document.removeEventListener("keydown",ve),document.body.style.overflow="auto"},ye=()=>{const r=Math.min(I.value*1.25,5);I.value=r},_e=()=>{const r=Math.max(I.value/1.25,.2);I.value=r},fe=()=>{I.value=1,$.value=0,z.value=0},rt=r=>{if(!q.value)return;r.preventDefault(),r.stopPropagation();const e=r.deltaY>0?.9:1.1,o=Math.max(.2,Math.min(5,I.value*e));I.value=o},nt=r=>{q.value&&(oe.value=!0,ce.value={x:r.clientX-$.value,y:r.clientY-z.value})},at=r=>{!oe.value||!q.value||(r.preventDefault(),$.value=r.clientX-ce.value.x,z.value=r.clientY-ce.value.y)},we=()=>{oe.value=!1},ve=r=>{if(q.value)switch(r.key){case"Escape":r.preventDefault(),me();break;case"ArrowUp":r.preventDefault(),z.value+=30;break;case"ArrowDown":r.preventDefault(),z.value-=30;break;case"ArrowLeft":r.preventDefault(),$.value+=30;break;case"ArrowRight":r.preventDefault(),$.value-=30;break;case"+":case"=":r.preventDefault(),ye();break;case"-":case"_":r.preventDefault(),_e();break;case"0":r.preventDefault(),fe();break}},ke=async()=>{try{const r=await D.get("/classes");r.data.success&&Array.isArray(r.data.result)?L.value=r.data.result:(L.value=[],console.error("Failed to load classes:",r.data.message))}catch(r){L.value=[],console.error("Error loading classes:",r)}},T=async()=>{try{const r=await D.get("/sections");r.data.success&&Array.isArray(r.data.result)?G.value=r.data.result:(G.value=[],console.error("Failed to load sections:",r.data.message))}catch(r){G.value=[],console.error("Error loading sections:",r)}},he=()=>{const r=new Date().getFullYear(),e=Math.floor(Math.random()*1e4).toString().padStart(4,"0");l.studentId=`STD${r}${e}`},Ce=()=>{y.value.push(pe())},it=r=>{y.value.length>1&&y.value.splice(r,1)},dt=async r=>{y.value[r].classId&&await T()},ut=()=>{const r={};let e=!0;for(let o=0;o<y.value.length;o++){const n=y.value[o],f={};n.first_name?S(n.first_name)||(f.first_name="First Name should contain only letters (2-50 characters)",e=!1):(f.first_name="First Name is required",e=!1),n.last_name?S(n.last_name)||(f.last_name="Last Name should contain only letters (2-50 characters)",e=!1):(f.last_name="Last Name is required",e=!1),n.roll_number?Pe(n.roll_number)||(f.roll_number="Roll Number should be 3-20 characters (letters and numbers only)",e=!1):(f.roll_number="Roll Number is required",e=!1),n.classId||(f.classId="Class is required",e=!1),n.sectionId||(f.sectionId="Section is required",e=!1),n.phone?Y(n.phone)||(f.phone="Phone format: +92 300 1234567 or 03001234567",e=!1):(f.phone="Phone is required",e=!1),n.fatherName?S(n.fatherName)||(f.fatherName="Father's Name should contain only letters (2-50 characters)",e=!1):(f.fatherName="Father's Name is required",e=!1),n.fatherCnic?ne(n.fatherCnic)||(f.fatherCnic="Father'scnic_number format should be 00000-0000000-0",e=!1):(f.fatherCnic="Father'scnic_number is required",e=!1),n.motherName?S(n.motherName)||(f.motherName="Mother's Name should contain only letters (2-50 characters)",e=!1):(f.motherName="Mother's Name is required",e=!1),n.address?n.address.trim().length<10&&(f.address="Address should be at least 10 characters long",e=!1):(f.address="Address is required",e=!1),Object.keys(f).length>0&&(r[o]=f)}return s.value=r,e},ct=async()=>{if(!ut()){F.value=!0,setTimeout(()=>{F.value=!1},5e3);return}U.value=!0;try{const r=y.value.map(o=>{const n={first_name:o.first_name,last_name:o.last_name,roll_number:o.roll_number,gender:"Male",date_of_birth:"2010-01-01",status:"active",phone:o.phone,address:o.address,student_id:pt(),class_id:o.classId,section_id:o.sectionId,admission_date:new Date().toISOString().split("T")[0],academic_session:"2024-2025",father_name:o.fatherName,father_cnic:o.fatherCnic,mother_name:o.motherName};return D.post("/students/store",n)});(await Promise.all(r)).every(o=>o.data.success)&&(R.value=!0)}catch(r){console.error("Error submitting multiple students:",r)}finally{U.value=!1}},pt=()=>{const r=new Date().getFullYear(),e=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`STD${r}${e}`},Se=async()=>{U.value=!0;try{const r={first_name:l.first_name,last_name:l.last_name,roll_number:l.roll_number,gender:l.gender,date_of_birth:l.date_of_birth,status:"active",email:l.email,phone:l.phone,address:l.address,city:l.city,province:l.province,postal_code:l.postalCode,student_id:l.studentId,class_id:l.classId,section_id:l.sectionId,admission_date:l.admission_date,academic_session:l.academicSession,previous_school:l.previousSchool,father_name:l.fatherName,father_cnic:l.fatherCnic,father_occupation:l.fatherOccupation,father_phone:l.fatherPhone,mother_name:l.motherName,mother_cnic:l.motherCnic,mother_occupation:l.motherOccupation,mother_phone:l.motherPhone,emergency_contact_name:l.emergencyContactName,emergency_contact_phone:l.emergencyContactPhone,emergency_contact_relation:l.emergencyContactRelation,cnic_number:l.cnic,blood_group:l.bloodGroup,religion:l.religion,profile_picture:l.profilePicture};let e;C.value?e=await D.post(`/students/update/${B.params.id}`,r):e=await D.post("/students/store",r),e.data.success&&(R.value=!0)}catch(r){console.error("Error submitting form:",r)}finally{U.value=!1}},Ne=()=>{ie.push("/students/list")},mt=()=>{j.value?y.value=[pe()]:(Object.keys(l).forEach(r=>{l[r]=""}),b.value=0,he()),R.value=!1},Me=async()=>{var r,e,o,n,f,k,N,H,Z,K,W,J,X,Q,ee,te;if(C.value){ue.value=!0,E.value=null;try{const M=B.params.id;if(!M)throw new Error("Student ID is missing from URL");const _=await D.get(`/students/${M}`);if(_.data.status||_.data.success){const u=_.data.result||_.data.data||_.data;if(!u)throw new Error("Student data not found in response");l.first_name=u.first_name||"",l.last_name=u.last_name||"",l.date_of_birth=u.date_of_birth||u.DOB||"",l.gender=u.gender||"",l.cnic=u.cnic_number||u.cnic||"",l.bloodGroup=u.blood_group||"",l.religion=u.religion||"",l.profilePicture=u.profile_picture||u.photo_path||"",l.email=u.email||"",l.phone=u.phone||((r=u.contact_info)==null?void 0:r.phone)||"",l.address=u.address||((e=u.contact_info)==null?void 0:e.address)||"",l.city=u.city||"",l.province=u.province||"",l.postalCode=u.postal_code||"",l.studentId=u.student_id||u.studentId||u.id||(u.prefix?`${u.prefix}${u.id}`:"")||"",l.roll_number=u.roll_number||"",l.classId=u.class_id||"",l.sectionId=u.section_id||"",l.admission_date=u.admission_date||u.DOA||"",l.academicSession=u.academic_session||"",l.previousSchool=u.previous_school||"",l.fatherName=((o=u.family_info)==null?void 0:o.father_name)||u.father_name||"",l.fatherCnic=((n=u.family_info)==null?void 0:n.father_cnic)||u.father_cnic||"",l.fatherOccupation=((f=u.family_info)==null?void 0:f.father_occupation)||u.father_occupation||"",l.fatherPhone=((k=u.family_info)==null?void 0:k.father_phone)||u.father_phone||"",l.motherName=((N=u.family_info)==null?void 0:N.mother_name)||u.mother_name||"",l.motherCnic=((H=u.family_info)==null?void 0:H.mother_cnic)||u.mother_cnic||"",l.motherOccupation=((Z=u.family_info)==null?void 0:Z.mother_occupation)||u.mother_occupation||"",l.motherPhone=((K=u.family_info)==null?void 0:K.mother_phone)||u.mother_phone||"",l.emergencyContactName=((W=u.family_info)==null?void 0:W.emergency_contact_name)||u.emergency_contact_name||"",l.emergencyContactPhone=((J=u.family_info)==null?void 0:J.emergency_contact_phone)||u.emergency_contact_phone||"",l.emergencyContactRelation=((X=u.family_info)==null?void 0:X.emergency_contact_relation)||u.emergency_contact_relation||"",l.classId&&await T()}else{const u=_.data.message||"Failed to load student data";E.value=u,de.error(u),console.error("API returned error:",_.data)}}catch(M){console.error("Error loading student data:",M);const _=((ee=(Q=M.response)==null?void 0:Q.data)==null?void 0:ee.message)||M.message||"Failed to load student data. Please try again.";E.value=_,de.error(_),((te=M.response)==null?void 0:te.status)===404&&(E.value="Student not found. The student may have been deleted or the ID is invalid.",setTimeout(()=>{ie.push("/students/list")},3e3))}finally{ue.value=!1}}},ft=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),Y=r=>/^(\+92|0)?[0-9]{10}$/.test(r.replace(/\s|-/g,"")),ne=r=>{constcnic_numberRegex=/^[0-9]{5}-[0-9]{7}-[0-9]$/,returncnic_numberRegex.test(r)},vt=r=>{if(Array.isArray(r)&&r.length>0){let e=r[0];typeof e=="string"&&e.includes(" ")?e=e.split(" ")[0]:e instanceof Date&&(e=e.toISOString().split("T")[0]),l.date_of_birth=e}else r&&!Array.isArray(r)?typeof r=="string"&&r.includes(" ")?l.date_of_birth=r.split(" ")[0]:r instanceof Date?l.date_of_birth=r.toISOString().split("T")[0]:l.date_of_birth=r:l.date_of_birth="";x("date_of_birth")},ht=r=>{if(!r)return!1;const e=Array.isArray(r)?r[0]:r,o=typeof e=="string"&&e.includes(" ")?e.split(" ")[0]:e,n=new Date,f=new Date(o);let k=n.getFullYear()-f.getFullYear();const N=n.getMonth()-f.getMonth();return(N<0||N===0&&n.getDate()<f.getDate())&&k--,k>=3&&k<=25},gt=(r,e)=>{const o=Array.isArray(e)?e[0]:e,n=typeof o=="string"&&o.includes(" ")?o.split(" ")[0]:o,f=new Date(r),k=new Date(n),N=new Date;return f>k&&f<=N},S=r=>/^[a-zA-Z\s]{2,50}$/.test(r.trim()),Pe=r=>/^[A-Z0-9]{3,20}$/.test(r.trim()),Ie=r=>{s.value={};let e=!0;switch(r){case 0:l.first_name?S(l.first_name)||(s.value.first_name="First Name should contain only letters (2-50 characters)",e=!1):(s.value.first_name="First Name is required",e=!1),l.last_name?S(l.last_name)||(s.value.last_name="Last Name should contain only letters (2-50 characters)",e=!1):(s.value.last_name="Last Name is required",e=!1),l.date_of_birth?ht(l.date_of_birth)||(s.value.date_of_birth="Invalid age. Student must be between 3-25 years old",e=!1):(s.value.date_of_birth="Date of Birth is required",e=!1),l.gender||(s.value.gender="Gender is required",e=!1),l.cnic&&!ne(l.cnic)&&(s.value.cnic="CNIC format should be 00000-0000000-0",e=!1);break;case 1:l.email?ft(l.email)||(s.value.email="Please enter a valid email address",e=!1):(s.value.email="Email is required",e=!1),l.phone?Y(l.phone)||(s.value.phone="Phone format: +92 300 1234567 or 03001234567",e=!1):(s.value.phone="Phone is required",e=!1),l.address?l.address.trim().length<10&&(s.value.address="Address should be at least 10 characters long",e=!1):(s.value.address="Address is required",e=!1),l.city?S(l.city)||(s.value.city="City name should contain only letters",e=!1):(s.value.city="City is required",e=!1),l.postalCode&&!/^[0-9]{5}$/.test(l.postalCode)&&(s.value.postalCode="Postal code should be 5 digits",e=!1);break;case 2:l.roll_number?Pe(l.roll_number)||(s.value.roll_number="Roll Number should be 3-20 characters (letters and numbers only)",e=!1):(s.value.roll_number="Roll Number is required",e=!1),l.classId||(s.value.classId="Class is required",e=!1),l.sectionId||(s.value.sectionId="Section is required",e=!1),l.admission_date?l.date_of_birth&&!gt(l.admission_date,l.date_of_birth)&&(s.value.admission_date="Admission date must be after birth date and not in future",e=!1):(s.value.admission_date="Admission Date is required",e=!1),l.academicSession||(s.value.academicSession="Academic Session is required",e=!1),l.previousSchool&&l.previousSchool.trim().length<3&&(s.value.previousSchool="Previous school name should be at least 3 characters",e=!1);break;case 3:l.fatherName?S(l.fatherName)||(s.value.fatherName="Father's Name should contain only letters (2-50 characters)",e=!1):(s.value.fatherName="Father's Name is required",e=!1),l.fatherCnic?ne(l.fatherCnic)||(s.value.fatherCnic="Father'scnic_number format should be 00000-0000000-0",e=!1):(s.value.fatherCnic="Father'scnic_number is required",e=!1),l.motherName?S(l.motherName)||(s.value.motherName="Mother's Name should contain only letters (2-50 characters)",e=!1):(s.value.motherName="Mother's Name is required",e=!1),l.fatherPhone&&!Y(l.fatherPhone)&&(s.value.fatherPhone="Father's phone format: +92 300 1234567",e=!1),l.motherPhone&&!Y(l.motherPhone)&&(s.value.motherPhone="Mother's phone format: +92 300 1234567",e=!1),l.motherCnic&&!ne(l.motherCnic)&&(s.value.motherCnic="Mother'scnic_number format should be 00000-0000000-0",e=!1),l.emergencyContactPhone&&!Y(l.emergencyContactPhone)&&(s.value.emergencyContactPhone="Emergency contact phone format: +92 300 1234567",e=!1),l.emergencyContactName&&!S(l.emergencyContactName)&&(s.value.emergencyContactName="Emergency contact name should contain only letters",e=!1);break;default:return!0}return e},x=r=>{s.value[r]&&delete s.value[r]};le(()=>B.params.id,async(r,e)=>{C.value&&r&&r!==e&&await Me()},{immediate:!1}),Te(async()=>{if(await Promise.all([ke(),T(),bt()]),C.value){if(!B.params.id){E.value="Student ID is missing from URL",de.error("Invalid student ID"),setTimeout(()=>{ie.push("/students/list")},2e3);return}await Me()}else he()}),Te(()=>{ke(),T(),he()}),St(()=>{document.removeEventListener("keydown",ve),document.body.style.overflow="auto"});function ge(r){const e=r.replace(/\D/g,"").slice(0,13);let o="";return e.length>5?o=e.slice(0,5)+"-"+e.slice(5):o=e,e.length>12&&(o=o.slice(0,13)+"-"+o.slice(13)),o}le(()=>l.cnic,r=>{r&&(l.cnic=ge(r))}),le(()=>l.fatherCnic,r=>{r&&(l.fatherCnic=ge(r))}),le(()=>l.motherCnic,r=>{r&&(l.motherCnic=ge(r))}),le(()=>l.date_of_birth,r=>{r&&Ie(b.value)});const bt=async()=>{try{const r=await D.get("/sessions");if(r.data.success&&Array.isArray(r.data.result))se.value=r.data.result;else{console.error("Failed to fetch sessions:",r.data.message);const e=new Date().getFullYear();se.value=[{id:1,name:`${e}-${e+1}`},{id:2,name:`${e-1}-${e}`},{id:3,name:`${e-2}-${e-1}`}]}}catch(r){console.error("Error fetching sessions:",r);const e=new Date().getFullYear();se.value=[{id:1,name:`${e}-${e+1}`},{id:2,name:`${e-1}-${e}`},{id:3,name:`${e-2}-${e-1}`}]}};return(r,e)=>(i(),a("div",Mt,[t("div",Pt,[t("h2",It,[e[47]||(e[47]=t("div",{class:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"},null,-1)),w(" "+c(C.value?"Edit Student":j.value?"Add Multiple Students":"Add New Student"),1)]),t("nav",Vt,[t("button",{onClick:Ne,class:"hover:text-purple-600 cursor-pointer transition-colors duration-200"}," Students "),e[48]||(e[48]=t("span",{class:"mx-2"},"|",-1)),t("span",At,c(C.value?"Edit":"Add"),1)])]),C.value?p("",!0):(i(),a("div",Ut,[t("div",jt,[t("div",Dt,[e[51]||(e[51]=t("div",null,[t("h3",{class:"text-lg font-semibold text-gray-900 mb-1"},"Registration Mode"),t("p",{class:"text-sm text-gray-600"},"Choose how you want to add students")],-1)),t("div",qt,[t("button",{onClick:e[0]||(e[0]=o=>xe(!1)),class:d(["px-6 py-2 rounded-full text-sm font-medium transition-all duration-300",j.value?"text-gray-900 hover:text-gray-900":"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md"])},[...e[49]||(e[49]=[t("svg",{class:"w-4 h-4 mr-2 inline-block",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),w(" Single Student ",-1)])],2),t("button",{onClick:e[1]||(e[1]=o=>xe(!0)),class:d(["px-6 py-2 rounded-full text-sm font-medium transition-all duration-300",j.value?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md":"text-gray-900 hover:text-gray-900"])},[...e[50]||(e[50]=[t("svg",{class:"w-4 h-4 mr-2 inline-block",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),w(" Multiple Students ",-1)])],2)])])])])),j.value?p("",!0):(i(),a("div",Bt,[t("div",Et,[t("div",Ft,[t("div",$t,[(i(),a(V,null,A(re,(o,n)=>t("div",{key:n,class:"flex flex-col items-center relative z-10"},[t("div",{class:d(["w-10 h-10 rounded-full flex items-center justify-center text-xs font-semibold transition-all duration-300 transform",b.value>n?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-md scale-105":b.value===n?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md scale-105":"bg-white text-gray-500 border-2 border-gray-200 shadow-sm"])},[b.value>n?(i(),a("svg",zt,[...e[52]||(e[52]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):(i(),a("span",Ot,c(n+1),1))],2),t("span",{class:d(["text-xs font-medium mt-2 transition-colors duration-300",b.value>=n?"text-indigo-600":"text-gray-500"])},c(o.title),3)])),64))]),t("div",Rt,[t("div",{class:"h-full bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full transition-all duration-500 ease-in-out",style:Ye({width:`${b.value/(re.length-1)*100}%`})},null,4)])])])])),F.value?(i(),a("div",Lt,[...e[53]||(e[53]=[be('<div class="bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3 animate-pulse" data-v-88e285d7><svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-88e285d7><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.232 13.5c-.77.833-.192 2.5 1.732 2.5z" data-v-88e285d7></path></svg><div data-v-88e285d7><h4 class="text-red-800 font-semibold" data-v-88e285d7>Please fill all required fields</h4><p class="text-red-700 text-sm" data-v-88e285d7>Complete the marked fields before proceeding to the next step.</p></div></div>',1)])])):p("",!0),!j.value&&!ue.value&&!E.value?(i(),a("div",Gt,[t("div",Tt,[t("div",Yt,[t("form",{onSubmit:O(Se,["prevent"])},[m(t("div",Ht,[t("div",Zt,[e[58]||(e[58]=t("div",{class:"flex-1"},[t("h2",{class:"text-base font-medium text-gray-900 mb-1 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent tracking-tight"},"Personal Information"),t("p",{class:"text-gray-600 text-sm"},"Let's start with basic personal details")],-1)),t("div",Kt,[t("div",Wt,[t("div",Jt,[l.profilePicture?(i(),a("img",{key:0,src:l.profilePicture,alt:"Profile",class:"w-full h-full object-cover transition-transform duration-300 hover:scale-110",onClick:ot,style:{cursor:"zoom-in"}},null,8,Xt)):(i(),a("div",Qt,[...e[54]||(e[54]=[t("svg",{class:"w-12 h-12 text-gray-500 mx-auto mb-1 transition-transform duration-300 group-hover:scale-110",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})],-1),t("p",{class:"text-xs text-gray-500 font-medium"},"Upload Photo",-1)])])),t("div",el,[t("div",tl,[e[55]||(e[55]=t("svg",{class:"w-6 h-6 text-white mx-auto mb-1 animate-bounce",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),t("p",ll,c(l.profilePicture?"Change":"Upload"),1)])])]),t("input",{type:"file",onChange:lt,accept:"image/*",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,32),l.profilePicture?(i(),a("button",{key:0,onClick:st,type:"button",class:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-all duration-200 hover:scale-110 hover:rotate-90 shadow-lg"},[...e[56]||(e[56]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])):p("",!0),l.profilePicture?(i(),a("div",sl,[...e[57]||(e[57]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1)])])):p("",!0)]),s.value.profilePicture?(i(),a("p",ol,c(s.value.profilePicture),1)):p("",!0)])]),t("div",rl,[t("div",nl,[e[59]||(e[59]=t("label",{class:"filter-label"},"First Name *",-1)),t("div",al,[m(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l.first_name=o),type:"text",class:d(["filter-input",s.value.first_name?"border-red-500 text-red-600":""]),placeholder:"Enter first name",required:"",onInput:e[3]||(e[3]=o=>x("first_name"))},null,34),[[h,l.first_name]]),t("div",{class:d(["filter-underline",s.value.first_name?"bg-red-500":""])},null,2)]),s.value.first_name?(i(),a("p",il,c(s.value.first_name),1)):p("",!0)]),t("div",dl,[e[60]||(e[60]=t("label",{class:"filter-label"},"Last Name *",-1)),t("div",ul,[m(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>l.last_name=o),type:"text",class:d(["filter-input",s.value.last_name?"border-red-500 text-red-600":""]),placeholder:"Enter last name",required:""},null,2),[[h,l.last_name]]),t("div",{class:d(["filter-underline",s.value.last_name?"bg-red-500":""])},null,2)]),s.value.last_name?(i(),a("p",cl,c(s.value.last_name),1)):p("",!0)]),t("div",pl,[e[61]||(e[61]=t("label",{class:"filter-label"},"Date of Birth *",-1)),t("div",ml,[He(Ze,{modelValue:l.date_of_birth,"onUpdate:modelValue":[e[5]||(e[5]=o=>l.date_of_birth=o),vt],placeholder:"Select date of birth","min-date":new Date(1950,0,1),"max-date":new Date,dateFormat:"YYYY-MM-DD",range:!1,class:d(["date-picker-input",s.value.date_of_birth?"error":""])},null,8,["modelValue","min-date","max-date","class"]),t("div",{class:d(["filter-underline",s.value.date_of_birth?"bg-red-500":""])},null,2)]),s.value.date_of_birth?(i(),a("p",fl,c(s.value.date_of_birth),1)):p("",!0)]),t("div",vl,[e[64]||(e[64]=t("label",{class:"filter-label"},"Gender *",-1)),t("div",hl,[m(t("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>l.gender=o),class:d(["filter-input appearance-none pr-8",s.value.gender?"border-red-500 text-red-600":""]),required:"",onChange:e[7]||(e[7]=o=>x("gender"))},[...e[62]||(e[62]=[t("option",{value:""},"Select Gender",-1),t("option",{value:"Male"},"Male",-1),t("option",{value:"Female"},"Female",-1),t("option",{value:"Other"},"Other",-1)])],34),[[P,l.gender]]),e[63]||(e[63]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t("div",{class:d(["filter-underline",s.value.gender?"bg-red-500":""])},null,2)]),s.value.gender?(i(),a("p",gl,c(s.value.gender),1)):p("",!0)]),t("div",bl,[e[65]||(e[65]=t("label",{class:"filter-label"},"CNIC Number",-1)),t("div",xl,[m(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>l.cnic=o),type:"text",class:d(["filter-input",s.value.cnic?"border-red-500 text-red-600":""]),placeholder:"00000-0000000-0",onInput:e[9]||(e[9]=o=>x("cnic"))},null,34),[[h,l.cnic]]),t("div",{class:d(["filter-underline",s.value.cnic?"bg-red-500":""])},null,2)]),s.value.cnic?(i(),a("p",yl,c(s.value.cnic),1)):p("",!0)]),t("div",_l,[e[69]||(e[69]=t("label",{class:"filter-label"},"Blood Group",-1)),t("div",wl,[m(t("select",{"onUpdate:modelValue":e[10]||(e[10]=o=>l.bloodGroup=o),class:"filter-input appearance-none pr-8"},[e[66]||(e[66]=t("option",{value:""},"Select Blood Group",-1)),(i(),a(V,null,A(Je,o=>t("option",{key:o,value:o},c(o),9,kl)),64))],512),[[P,l.bloodGroup]]),e[67]||(e[67]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[68]||(e[68]=t("div",{class:"filter-underline"},null,-1))])]),t("div",Cl,[e[73]||(e[73]=t("label",{class:"filter-label"},"Religion",-1)),t("div",Sl,[m(t("select",{"onUpdate:modelValue":e[11]||(e[11]=o=>l.religion=o),class:"filter-input appearance-none pr-8"},[...e[70]||(e[70]=[be('<option value="" data-v-88e285d7>Select Religion</option><option value="islam" data-v-88e285d7>Islam</option><option value="christianity" data-v-88e285d7>Christianity</option><option value="hinduism" data-v-88e285d7>Hinduism</option><option value="other" data-v-88e285d7>Other</option>',5)])],512),[[P,l.religion]]),e[71]||(e[71]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[72]||(e[72]=t("div",{class:"filter-underline"},null,-1))])])])],512),[[ae,b.value===0]]),m(t("div",Nl,[e[83]||(e[83]=t("div",{class:"text-center mb-6"},[t("h2",{class:"text-base font-medium text-gray-900 mb-1 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent tracking-tight"},"Contact Information"),t("p",{class:"text-gray-600 text-sm"},"How can we reach you?")],-1)),t("div",Ml,[t("div",Pl,[e[74]||(e[74]=t("label",{class:"filter-label"},"Email Address *",-1)),t("div",Il,[m(t("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>l.email=o),type:"email",class:d(["filter-input",s.value.email?"border-red-500 text-red-600":""]),placeholder:"student@example.com",required:""},null,2),[[h,l.email]]),t("div",{class:d(["filter-underline",s.value.email?"bg-red-500":""])},null,2)]),s.value.email?(i(),a("p",Vl,c(s.value.email),1)):p("",!0)]),t("div",Al,[e[75]||(e[75]=t("label",{class:"filter-label"},"Phone Number *",-1)),t("div",Ul,[m(t("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>l.phone=o),type:"tel",class:d(["filter-input",s.value.phone?"border-red-500 text-red-600":""]),placeholder:"+92 300 1234567",required:""},null,2),[[h,l.phone]]),t("div",{class:d(["filter-underline",s.value.phone?"bg-red-500":""])},null,2)]),s.value.phone?(i(),a("p",jl,c(s.value.phone),1)):p("",!0)]),t("div",Dl,[e[76]||(e[76]=t("label",{class:"filter-label"},"City *",-1)),t("div",ql,[m(t("input",{"onUpdate:modelValue":e[14]||(e[14]=o=>l.city=o),type:"text",class:d(["filter-input",s.value.city?"border-red-500 text-red-600":""]),placeholder:"Enter city",required:""},null,2),[[h,l.city]]),t("div",{class:d(["filter-underline",s.value.city?"bg-red-500":""])},null,2)]),s.value.city?(i(),a("p",Bl,c(s.value.city),1)):p("",!0)]),t("div",El,[e[80]||(e[80]=t("label",{class:"filter-label"},"Province",-1)),t("div",Fl,[m(t("select",{"onUpdate:modelValue":e[15]||(e[15]=o=>l.province=o),class:"filter-input appearance-none pr-8"},[e[77]||(e[77]=t("option",{value:""},"Select Province",-1)),(i(),a(V,null,A(Xe,o=>t("option",{key:o,value:o},c(o),9,$l)),64))],512),[[P,l.province]]),e[78]||(e[78]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[79]||(e[79]=t("div",{class:"filter-underline"},null,-1))])]),t("div",zl,[e[81]||(e[81]=t("label",{class:"filter-label"},"Postal Code",-1)),t("div",Ol,[m(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>l.postalCode=o),type:"text",class:d(["filter-input",s.value.postalCode?"border-red-500 text-red-600":""]),placeholder:"12345",onInput:e[17]||(e[17]=o=>x("postalCode"))},null,34),[[h,l.postalCode]]),t("div",{class:d(["filter-underline",s.value.postalCode?"bg-red-500":""])},null,2)]),s.value.postalCode?(i(),a("p",Rl,c(s.value.postalCode),1)):p("",!0)])]),t("div",Ll,[e[82]||(e[82]=t("label",{class:"filter-label"},"Address *",-1)),t("div",Gl,[m(t("textarea",{"onUpdate:modelValue":e[18]||(e[18]=o=>l.address=o),class:d(["filter-input",s.value.address?"border-red-500 text-red-600":""]),rows:"3",placeholder:"Enter complete address",required:""},null,2),[[h,l.address]]),t("div",{class:d(["filter-underline",s.value.address?"bg-red-500":""])},null,2)]),s.value.address?(i(),a("p",Tl,c(s.value.address),1)):p("",!0)])],512),[[ae,b.value===1]]),m(t("div",Yl,[e[98]||(e[98]=t("div",{class:"text-center mb-6"},[t("h2",{class:"text-base font-medium text-gray-900 mb-1 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent tracking-tight"},"Academic Information"),t("p",{class:"text-gray-600 text-sm"},"Educational details and enrollment")],-1)),t("div",Hl,[t("div",Zl,[e[85]||(e[85]=t("label",{class:"filter-label"},"Student ID *",-1)),t("div",Kl,[m(t("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>l.studentId=o),type:"text",class:"filter-input",placeholder:"Auto-generated",readonly:""},null,512),[[h,l.studentId]]),e[84]||(e[84]=t("div",{class:"filter-underline"},null,-1))])]),t("div",Wl,[e[86]||(e[86]=t("label",{class:"filter-label"},"Roll Number *",-1)),t("div",Jl,[m(t("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>l.roll_number=o),type:"text",class:d(["filter-input",s.value.roll_number?"border-red-500 text-red-600":""]),placeholder:"Enter roll number",required:""},null,2),[[h,l.roll_number]]),t("div",{class:d(["filter-underline",s.value.roll_number?"bg-red-500":""])},null,2)]),s.value.roll_number?(i(),a("p",Xl,c(s.value.roll_number),1)):p("",!0)]),t("div",Ql,[e[89]||(e[89]=t("label",{class:"filter-label"},"Class *",-1)),t("div",es,[m(t("select",{"onUpdate:modelValue":e[21]||(e[21]=o=>l.classId=o),onChange:T,class:d(["filter-input appearance-none pr-8",s.value.classId?"border-red-500 text-red-600":""]),required:""},[e[87]||(e[87]=t("option",{value:""},"Select Class",-1)),(i(!0),a(V,null,A(L.value,o=>(i(),a("option",{key:o.id,value:o.id},c(o.name),9,ts))),128))],34),[[P,l.classId]]),e[88]||(e[88]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t("div",{class:d(["filter-underline",s.value.classId?"bg-red-500":""])},null,2)]),s.value.classId?(i(),a("p",ls,c(s.value.classId),1)):p("",!0)]),t("div",ss,[e[92]||(e[92]=t("label",{class:"filter-label"},"Section *",-1)),t("div",os,[m(t("select",{"onUpdate:modelValue":e[22]||(e[22]=o=>l.sectionId=o),class:d(["filter-input appearance-none pr-8",s.value.sectionId?"border-red-500 text-red-600":""]),required:""},[e[90]||(e[90]=t("option",{value:""},"Select Section",-1)),(i(!0),a(V,null,A(G.value,o=>(i(),a("option",{key:o.id,value:o.id},c(o.name),9,rs))),128))],2),[[P,l.sectionId]]),e[91]||(e[91]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t("div",{class:d(["filter-underline",s.value.sectionId?"bg-red-500":""])},null,2)]),s.value.sectionId?(i(),a("p",ns,c(s.value.sectionId),1)):p("",!0)]),t("div",as,[e[93]||(e[93]=t("label",{class:"filter-label"},"Admission Date *",-1)),t("div",is,[He(Ze,{modelValue:l.admission_date,"onUpdate:modelValue":e[23]||(e[23]=o=>l.admission_date=o),placeholder:""},null,8,["modelValue"]),t("div",{class:d(["filter-underline",s.value.admission_date?"bg-red-500":""])},null,2)]),s.value.admission_date?(i(),a("p",ds,c(s.value.admission_date),1)):p("",!0)]),t("div",us,[e[96]||(e[96]=t("label",{class:"filter-label"},"Academic Session *",-1)),t("div",cs,[m(t("select",{"onUpdate:modelValue":e[24]||(e[24]=o=>l.academicSession=o),class:d(["filter-input appearance-none pr-8",s.value.academicSession?"border-red-500 text-red-600":""]),required:""},[e[94]||(e[94]=t("option",{value:""},"Select Session",-1)),(i(!0),a(V,null,A(se.value,o=>(i(),a("option",{key:o.id,value:o.name},c(o.name),9,ps))),128))],2),[[P,l.academicSession]]),e[95]||(e[95]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t("div",{class:d(["filter-underline",s.value.academicSession?"bg-red-500":""])},null,2)]),s.value.academicSession?(i(),a("p",ms,c(s.value.academicSession),1)):p("",!0)]),t("div",fs,[e[97]||(e[97]=t("label",{class:"filter-label"},"Previous School",-1)),t("div",vs,[m(t("input",{"onUpdate:modelValue":e[25]||(e[25]=o=>l.previousSchool=o),type:"text",class:d(["filter-input",s.value.previousSchool?"border-red-500 text-red-600":""]),placeholder:"Enter previous school name",onInput:e[26]||(e[26]=o=>x("previousSchool"))},null,34),[[h,l.previousSchool]]),t("div",{class:d(["filter-underline",s.value.previousSchool?"bg-red-500":""])},null,2)]),s.value.previousSchool?(i(),a("p",hs,c(s.value.previousSchool),1)):p("",!0)])])],512),[[ae,b.value===2]]),m(t("div",gs,[e[116]||(e[116]=t("div",{class:"text-center mb-6"},[t("h2",{class:"text-base font-medium text-gray-900 mb-1 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent tracking-tight"},"Family Information"),t("p",{class:"text-gray-600 text-sm"},"Parent and guardian details")],-1)),t("div",bs,[e[103]||(e[103]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),w(" Father's Information ")],-1)),t("div",xs,[t("div",ys,[e[99]||(e[99]=t("label",{class:"filter-label"},"Father's Name *",-1)),t("div",_s,[m(t("input",{"onUpdate:modelValue":e[27]||(e[27]=o=>l.fatherName=o),type:"text",class:d(["filter-input",s.value.fatherName?"border-red-500 text-red-600":""]),placeholder:"Enter father's name",required:""},null,2),[[h,l.fatherName]]),t("div",{class:d(["filter-underline",s.value.fatherName?"bg-red-500":""])},null,2)]),s.value.fatherName?(i(),a("p",ws,c(s.value.fatherName),1)):p("",!0)]),t("div",ks,[e[100]||(e[100]=t("label",{class:"filter-label"},"Father'scnic_number *",-1)),t("div",Cs,[m(t("input",{"onUpdate:modelValue":e[28]||(e[28]=o=>l.fatherCnic=o),type:"text",class:d(["filter-input",s.value.fatherCnic?"border-red-500 text-red-600":""]),placeholder:"00000-0000000-0",required:""},null,2),[[h,l.fatherCnic]]),t("div",{class:d(["filter-underline",s.value.fatherCnic?"bg-red-500":""])},null,2)]),s.value.fatherCnic?(i(),a("p",Ss,c(s.value.fatherCnic),1)):p("",!0)]),t("div",Ns,[e[101]||(e[101]=t("label",{class:"filter-label"},"Father's Occupation",-1)),t("div",Ms,[m(t("input",{"onUpdate:modelValue":e[29]||(e[29]=o=>l.fatherOccupation=o),type:"text",class:d(["filter-input",s.value.fatherOccupation?"border-red-500 text-red-600":""]),placeholder:"Enter occupation",onInput:e[30]||(e[30]=o=>x("fatherOccupation"))},null,34),[[h,l.fatherOccupation]]),t("div",{class:d(["filter-underline",s.value.fatherOccupation?"bg-red-500":""])},null,2)]),s.value.fatherOccupation?(i(),a("p",Ps,c(s.value.fatherOccupation),1)):p("",!0)]),t("div",Is,[e[102]||(e[102]=t("label",{class:"filter-label"},"Father's Phone",-1)),t("div",Vs,[m(t("input",{"onUpdate:modelValue":e[31]||(e[31]=o=>l.fatherPhone=o),type:"tel",class:d(["filter-input",s.value.fatherPhone?"border-red-500 text-red-600":""]),placeholder:"+92 300 1234567",onInput:e[32]||(e[32]=o=>x("fatherPhone"))},null,34),[[h,l.fatherPhone]]),t("div",{class:d(["filter-underline",s.value.fatherPhone?"bg-red-500":""])},null,2)]),s.value.fatherPhone?(i(),a("p",As,c(s.value.fatherPhone),1)):p("",!0)])])]),t("div",Us,[e[108]||(e[108]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-pink-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),w(" Mother's Information ")],-1)),t("div",js,[t("div",Ds,[e[104]||(e[104]=t("label",{class:"filter-label"},"Mother's Name *",-1)),t("div",qs,[m(t("input",{"onUpdate:modelValue":e[33]||(e[33]=o=>l.motherName=o),type:"text",class:d(["filter-input",s.value.motherName?"border-red-500 text-red-600":""]),placeholder:"Enter mother's name",required:""},null,2),[[h,l.motherName]]),t("div",{class:d(["filter-underline",s.value.motherName?"bg-red-500":""])},null,2)]),s.value.motherName?(i(),a("p",Bs,c(s.value.motherName),1)):p("",!0)]),t("div",Es,[e[105]||(e[105]=t("label",{class:"filter-label"},"Mother'scnic_number",-1)),t("div",Fs,[m(t("input",{"onUpdate:modelValue":e[34]||(e[34]=o=>l.motherCnic=o),type:"text",class:d(["filter-input",s.value.motherCnic?"border-red-500 text-red-600":""]),placeholder:"00000-0000000-0",onInput:e[35]||(e[35]=o=>x("motherCnic"))},null,34),[[h,l.motherCnic]]),t("div",{class:d(["filter-underline",s.value.motherCnic?"bg-red-500":""])},null,2)]),s.value.motherCnic?(i(),a("p",$s,c(s.value.motherCnic),1)):p("",!0)]),t("div",zs,[e[106]||(e[106]=t("label",{class:"filter-label"},"Mother's Occupation",-1)),t("div",Os,[m(t("input",{"onUpdate:modelValue":e[36]||(e[36]=o=>l.motherOccupation=o),type:"text",class:d(["filter-input",s.value.motherOccupation?"border-red-500 text-red-600":""]),placeholder:"Enter occupation",onInput:e[37]||(e[37]=o=>x("motherOccupation"))},null,34),[[h,l.motherOccupation]]),t("div",{class:d(["filter-underline",s.value.motherOccupation?"bg-red-500":""])},null,2)]),s.value.motherOccupation?(i(),a("p",Rs,c(s.value.motherOccupation),1)):p("",!0)]),t("div",Ls,[e[107]||(e[107]=t("label",{class:"filter-label"},"Mother's Phone",-1)),t("div",Gs,[m(t("input",{"onUpdate:modelValue":e[38]||(e[38]=o=>l.motherPhone=o),type:"tel",class:d(["filter-input",s.value.motherPhone?"border-red-500 text-red-600":""]),placeholder:"+92 300 1234567",onInput:e[39]||(e[39]=o=>x("motherPhone"))},null,34),[[h,l.motherPhone]]),t("div",{class:d(["filter-underline",s.value.motherPhone?"bg-red-500":""])},null,2)]),s.value.motherPhone?(i(),a("p",Ts,c(s.value.motherPhone),1)):p("",!0)])])]),t("div",Ys,[e[115]||(e[115]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},[t("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})]),w(" Emergency Contact ")],-1)),t("div",Hs,[t("div",Zs,[e[109]||(e[109]=t("label",{class:"filter-label"},"Emergency Contact Name",-1)),t("div",Ks,[m(t("input",{"onUpdate:modelValue":e[40]||(e[40]=o=>l.emergencyContactName=o),type:"text",class:d(["filter-input",s.value.emergencyContactName?"border-red-500 text-red-600":""]),placeholder:"Enter emergency contact name",onInput:e[41]||(e[41]=o=>x("emergencyContactName"))},null,34),[[h,l.emergencyContactName]]),t("div",{class:d(["filter-underline",s.value.emergencyContactName?"bg-red-500":""])},null,2)]),s.value.emergencyContactName?(i(),a("p",Ws,c(s.value.emergencyContactName),1)):p("",!0)]),t("div",Js,[e[110]||(e[110]=t("label",{class:"filter-label"},"Emergency Contact Phone",-1)),t("div",Xs,[m(t("input",{"onUpdate:modelValue":e[42]||(e[42]=o=>l.emergencyContactPhone=o),type:"tel",class:d(["filter-input",s.value.emergencyContactPhone?"border-red-500 text-red-600":""]),placeholder:"+92 300 1234567",onInput:e[43]||(e[43]=o=>x("emergencyContactPhone"))},null,34),[[h,l.emergencyContactPhone]]),t("div",{class:d(["filter-underline",s.value.emergencyContactPhone?"bg-red-500":""])},null,2)]),s.value.emergencyContactPhone?(i(),a("p",Qs,c(s.value.emergencyContactPhone),1)):p("",!0)]),t("div",eo,[e[114]||(e[114]=t("label",{class:"filter-label"},"Relationship",-1)),t("div",to,[m(t("select",{"onUpdate:modelValue":e[44]||(e[44]=o=>l.emergencyContactRelation=o),class:"filter-input appearance-none pr-8"},[...e[111]||(e[111]=[be('<option value="" data-v-88e285d7>Select Relationship</option><option value="father" data-v-88e285d7>Father</option><option value="mother" data-v-88e285d7>Mother</option><option value="guardian" data-v-88e285d7>Guardian</option><option value="uncle" data-v-88e285d7>Uncle</option><option value="aunt" data-v-88e285d7>Aunt</option><option value="grandparent" data-v-88e285d7>Grandparent</option><option value="other" data-v-88e285d7>Other</option>',8)])],512),[[P,l.emergencyContactRelation]]),e[112]||(e[112]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[113]||(e[113]=t("div",{class:"filter-underline"},null,-1))])])])])],512),[[ae,b.value===3]])],32)]),t("div",lo,[b.value>0?(i(),a("button",{key:0,onClick:et,type:"button",class:"h-9 px-8 rounded-full bg-white hover:bg-gradient-to-r hover:from-purple-500 hover:to-pink-500 text-gray-900 hover:text-white text-sm font-bold border border-gray-200 hover:border-transparent transition-all duration-300 transform hover:scale-105 flex items-center gap-2"},[...e[117]||(e[117]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1),w(" Previous ",-1)])])):(i(),a("div",so)),t("div",oo,[b.value<re.length-1?(i(),a("button",{key:0,onClick:Qe,type:"button",class:"h-9 px-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 hover:bg-white hover:from-gray-100 hover:to-gray-200 text-white hover:text-gray-900 text-sm font-bold shadow hover:shadow-none border-0 hover:border hover:border-gray-200 transition-all duration-300 transform hover:scale-105 flex items-center gap-2"},[...e[118]||(e[118]=[w(" Next ",-1),t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1)])])):(i(),a("button",{key:1,onClick:Se,type:"button",class:"h-9 px-8 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-sm font-bold text-white shadow hover:from-green-600 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:U.value},[U.value?(i(),a("svg",no,[...e[119]||(e[119]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),a("svg",ao,[...e[120]||(e[120]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])),w(" "+c(C.value?"Update Student":"Create Student"),1)],8,ro))])])])])):(i(),a("div",io,[t("div",uo,[t("div",{class:"bg-gradient-to-r from-indigo-600 to-purple-600 px-8 py-6"},[t("div",{class:"flex items-center justify-between"},[e[122]||(e[122]=t("div",null,[t("h2",{class:"text-base font-medium text-white mb-1 tracking-tight"},"Add Multiple Students"),t("p",{class:"text-indigo-100 text-sm"},"Add students quickly with essential information only")],-1)),t("button",{onClick:Ce,class:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2"},[...e[121]||(e[121]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),w(" Add Student ",-1)])])])]),t("div",co,[(i(!0),a(V,null,A(y.value,(o,n)=>{var f,k,N,H,Z,K,W,J,X,Q,ee,te,M,_,u,Ve,Ae,Ue,je,De,qe,Be,Ee,Fe,$e,ze,Oe,Re,Le,Ge;return i(),a("div",{key:n,class:"border border-gray-200 rounded-xl p-6 relative"},[t("div",po,[t("div",mo,[t("div",fo,c(n+1),1),t("div",null,[t("h3",vo,"Student "+c(n+1),1),e[123]||(e[123]=t("p",{class:"text-sm text-gray-600"},"Essential information required",-1))])]),y.value.length>1?(i(),a("button",{key:0,onClick:v=>it(n),class:"text-red-600 hover:text-red-800 hover:bg-red-50 p-2 rounded-lg transition-all duration-200",title:"Remove Student"},[...e[124]||(e[124]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ho)):p("",!0)]),t("div",go,[t("div",bo,[e[125]||(e[125]=t("label",{class:"filter-label"},"First Name *",-1)),t("div",xo,[m(t("input",{"onUpdate:modelValue":v=>o.first_name=v,type:"text",class:d(["filter-input",(f=s.value[n])!=null&&f.first_name?"border-red-500 text-red-600":""]),placeholder:"Enter first name",required:""},null,10,yo),[[h,o.first_name]]),t("div",{class:d(["filter-underline",(k=s.value[n])!=null&&k.first_name?"bg-red-500":""])},null,2)]),(N=s.value[n])!=null&&N.first_name?(i(),a("p",_o,c(s.value[n].first_name),1)):p("",!0)]),t("div",wo,[e[126]||(e[126]=t("label",{class:"filter-label"},"Last Name *",-1)),t("div",ko,[m(t("input",{"onUpdate:modelValue":v=>o.last_name=v,type:"text",class:d(["filter-input",(H=s.value[n])!=null&&H.last_name?"border-red-500 text-red-600":""]),placeholder:"Enter last name",required:""},null,10,Co),[[h,o.last_name]]),t("div",{class:d(["filter-underline",(Z=s.value[n])!=null&&Z.last_name?"bg-red-500":""])},null,2)]),(K=s.value[n])!=null&&K.last_name?(i(),a("p",So,c(s.value[n].last_name),1)):p("",!0)]),t("div",No,[e[127]||(e[127]=t("label",{class:"filter-label"},"Roll Number *",-1)),t("div",Mo,[m(t("input",{"onUpdate:modelValue":v=>o.roll_number=v,type:"text",class:d(["filter-input",(W=s.value[n])!=null&&W.roll_number?"border-red-500 text-red-600":""]),placeholder:"Enter roll number",required:""},null,10,Po),[[h,o.roll_number]]),t("div",{class:d(["filter-underline",(J=s.value[n])!=null&&J.roll_number?"bg-red-500":""])},null,2)]),(X=s.value[n])!=null&&X.roll_number?(i(),a("p",Io,c(s.value[n].roll_number),1)):p("",!0)]),t("div",Vo,[e[130]||(e[130]=t("label",{class:"filter-label"},"Class *",-1)),t("div",Ao,[m(t("select",{"onUpdate:modelValue":v=>o.classId=v,onChange:v=>dt(n),class:d(["filter-input appearance-none pr-8",(Q=s.value[n])!=null&&Q.classId?"border-red-500 text-red-600":""]),required:""},[e[128]||(e[128]=t("option",{value:""},"Select Class",-1)),(i(!0),a(V,null,A(L.value,v=>(i(),a("option",{key:v.id,value:v.id},c(v.name),9,jo))),128))],42,Uo),[[P,o.classId]]),e[129]||(e[129]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t("div",{class:d(["filter-underline",(ee=s.value[n])!=null&&ee.classId?"bg-red-500":""])},null,2)]),(te=s.value[n])!=null&&te.classId?(i(),a("p",Do,c(s.value[n].classId),1)):p("",!0)]),t("div",qo,[e[133]||(e[133]=t("label",{class:"filter-label"},"Section *",-1)),t("div",Bo,[m(t("select",{"onUpdate:modelValue":v=>o.sectionId=v,class:d(["filter-input appearance-none pr-8",(M=s.value[n])!=null&&M.sectionId?"border-red-500 text-red-600":""]),required:""},[e[131]||(e[131]=t("option",{value:""},"Select Section",-1)),(i(!0),a(V,null,A(G.value,v=>(i(),a("option",{key:v.id,value:v.id},c(v.name),9,Fo))),128))],10,Eo),[[P,o.sectionId]]),e[132]||(e[132]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t("div",{class:d(["filter-underline",(_=s.value[n])!=null&&_.sectionId?"bg-red-500":""])},null,2)]),(u=s.value[n])!=null&&u.sectionId?(i(),a("p",$o,c(s.value[n].sectionId),1)):p("",!0)]),t("div",zo,[e[134]||(e[134]=t("label",{class:"filter-label"},"Phone *",-1)),t("div",Oo,[m(t("input",{"onUpdate:modelValue":v=>o.phone=v,type:"tel",class:d(["filter-input",(Ve=s.value[n])!=null&&Ve.phone?"border-red-500 text-red-600":""]),placeholder:"+92 300 1234567",required:""},null,10,Ro),[[h,o.phone]]),t("div",{class:d(["filter-underline",(Ae=s.value[n])!=null&&Ae.phone?"bg-red-500":""])},null,2)]),(Ue=s.value[n])!=null&&Ue.phone?(i(),a("p",Lo,c(s.value[n].phone),1)):p("",!0)]),t("div",Go,[e[135]||(e[135]=t("label",{class:"filter-label"},"Father's Name *",-1)),t("div",To,[m(t("input",{"onUpdate:modelValue":v=>o.fatherName=v,type:"text",class:d(["filter-input",(je=s.value[n])!=null&&je.fatherName?"border-red-500 text-red-600":""]),placeholder:"Enter father's name",required:""},null,10,Yo),[[h,o.fatherName]]),t("div",{class:d(["filter-underline",(De=s.value[n])!=null&&De.fatherName?"bg-red-500":""])},null,2)]),(qe=s.value[n])!=null&&qe.fatherName?(i(),a("p",Ho,c(s.value[n].fatherName),1)):p("",!0)]),t("div",Zo,[e[136]||(e[136]=t("label",{class:"filter-label"},"Father'scnic_number *",-1)),t("div",Ko,[m(t("input",{"onUpdate:modelValue":v=>o.fatherCnic=v,type:"text",class:d(["filter-input",(Be=s.value[n])!=null&&Be.fatherCnic?"border-red-500 text-red-600":""]),placeholder:"00000-0000000-0",required:""},null,10,Wo),[[h,o.fatherCnic]]),t("div",{class:d(["filter-underline",(Ee=s.value[n])!=null&&Ee.fatherCnic?"bg-red-500":""])},null,2)]),(Fe=s.value[n])!=null&&Fe.fatherCnic?(i(),a("p",Jo,c(s.value[n].fatherCnic),1)):p("",!0)]),t("div",Xo,[e[137]||(e[137]=t("label",{class:"filter-label"},"Mother's Name *",-1)),t("div",Qo,[m(t("input",{"onUpdate:modelValue":v=>o.motherName=v,type:"text",class:d(["filter-input",($e=s.value[n])!=null&&$e.motherName?"border-red-500 text-red-600":""]),placeholder:"Enter mother's name",required:""},null,10,er),[[h,o.motherName]]),t("div",{class:d(["filter-underline",(ze=s.value[n])!=null&&ze.motherName?"bg-red-500":""])},null,2)]),(Oe=s.value[n])!=null&&Oe.motherName?(i(),a("p",tr,c(s.value[n].motherName),1)):p("",!0)])]),t("div",lr,[t("div",sr,[e[138]||(e[138]=t("label",{class:"filter-label"},"Address *",-1)),t("div",or,[m(t("textarea",{"onUpdate:modelValue":v=>o.address=v,class:d(["filter-input",(Re=s.value[n])!=null&&Re.address?"border-red-500 text-red-600":""]),rows:"2",placeholder:"Enter complete address",required:""},null,10,rr),[[h,o.address]]),t("div",{class:d(["filter-underline",(Le=s.value[n])!=null&&Le.address?"bg-red-500":""])},null,2)]),(Ge=s.value[n])!=null&&Ge.address?(i(),a("p",nr,c(s.value[n].address),1)):p("",!0)])])])}),128))]),t("div",ar,[t("div",ir,[e[139]||(e[139]=w(" Total Students: ",-1)),t("span",dr,c(y.value.length),1)]),t("div",ur,[t("button",{onClick:Ce,type:"button",class:"h-9 px-8 rounded-full bg-white hover:bg-white text-gray-900 text-sm font-bold border border-gray-200 transition-all duration-300 transform hover:scale-105 flex items-center gap-2"},[...e[140]||(e[140]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),w(" Add Another ",-1)])]),t("button",{onClick:ct,type:"button",class:"h-9 px-8 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-sm font-bold text-white shadow hover:from-green-600 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:U.value},[U.value?(i(),a("svg",pr,[...e[141]||(e[141]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(i(),a("svg",mr,[...e[142]||(e[142]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])),e[143]||(e[143]=w(" Register All Students ",-1))],8,cr)])])])])),R.value?(i(),a("div",{key:5,class:"relative z-10",onClick:e[45]||(e[45]=O(o=>R.value=!1,["self"]))},[t("div",fr,[t("div",vr,[t("div",hr,[e[144]||(e[144]=t("div",{class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4"},[t("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})])],-1)),e[145]||(e[145]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-2"},"Success!",-1)),t("p",gr,c(C.value?"Student information has been updated successfully.":j.value?`All ${y.value.length} students have been registered successfully!`:"Student has been registered successfully."),1),t("div",br,[t("button",{onClick:Ne,class:"h-9 px-8 rounded-full bg-white hover:bg-white text-gray-900 text-sm font-bold border border-gray-200 transition-all duration-300 transform hover:scale-105"},"Go to Student List"),C.value?p("",!0):(i(),a("button",{key:0,onClick:mt,class:"h-9 px-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105"},"Add Another Student"))])])])])])):p("",!0),q.value?(i(),a("div",{key:6,class:"relative z-10 bg-white rounded-lg shadow-xl border border-gray-200",onClick:O(me,["self"])},[t("div",{class:"w-full",onClick:e[46]||(e[46]=O(()=>{},["stop"]))},[t("button",{onClick:me,class:"absolute -top-4 -right-4 w-12 h-12 bg-white text-gray-900 rounded-full flex items-center justify-center hover:bg-white transition-all duration-200 hover:scale-110 shadow-lg z-20"},[...e[146]||(e[146]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])]),t("div",{class:"absolute top-4 left-4 flex flex-col gap-3 z-20"},[t("button",{onClick:ye,class:"w-12 h-12 bg-white/95 text-gray-900 rounded-full flex items-center justify-center hover:bg-white transition-all duration-200 hover:scale-110 shadow-lg"},[...e[147]||(e[147]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)])]),t("button",{onClick:_e,class:"w-12 h-12 bg-white/95 text-gray-900 rounded-full flex items-center justify-center hover:bg-white transition-all duration-200 hover:scale-110 shadow-lg"},[...e[148]||(e[148]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 12H6"})],-1)])]),t("button",{onClick:fe,class:"w-12 h-12 bg-white/95 text-gray-900 rounded-full flex items-center justify-center hover:bg-white transition-all duration-200 hover:scale-110 shadow-lg"},[...e[149]||(e[149]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})],-1)])])]),t("div",xr,c(Math.round(I.value*100))+"% ",1),e[150]||(e[150]=t("div",{class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white/95 px-6 py-3 rounded-full text-sm font-medium text-gray-900 shadow-lg z-20"},[t("div",{class:"flex items-center gap-4 text-center"},[t("span",null," Mouse Wheel: Zoom"),t("span",null," Arrow Keys: Scroll"),t("span",null,"ESC: Close")])],-1)),t("div",{ref_key:"imageContainer",ref:Ke,class:"relative overflow-hidden rounded-lg shadow-2xl bg-white",onWheel:O(rt,["prevent"]),onMousedown:O(nt,["prevent"]),onMousemove:at,onMouseup:we,onMouseleave:we,style:{width:"80vw",height:"80vh","max-width":"1000px","max-height":"700px"}},[t("img",{ref_key:"zoomImage",ref:We,src:l.profilePicture,alt:"Profile Preview",class:"absolute top-1/2 left-1/2 select-none transition-transform duration-150 ease-out",style:Ye({transform:`translate(-50%, -50%) translate(${$.value}px, ${z.value}px) scale(${I.value})`,transformOrigin:"center center",cursor:oe.value?"grabbing":"grab",maxWidth:"none",maxHeight:"none"}),draggable:"false"},null,12,yr)],544)])])):p("",!0)]))}},Nr=xt(_r,[["__scopeId","data-v-88e285d7"]]);export{Nr as default};
