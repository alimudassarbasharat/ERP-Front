import{_ as Be,M as De,H as Pe,aB as $e,l as u,c as V,p as Fe,a as i,o as n,d as e,b as c,F as C,z as E,e as M,i as p,t as l,J as Ie,A as L,K as de,B as ue,h as pe,f as ce,n as fe,C as Ve,R as Ee,L as Le}from"./index-xvPUEXLW.js";import{T as ve}from"./TableLoader-DpFqaoeq.js";import{P as Te}from"./Pagination-HhCy8CrH.js";import{C as He}from"./CompactDatePicker-xqVnbMy9.js";import"./createVueComponent-mtWgRR3y.js";const Re={class:"relative w-full min-h-screen pl-0 pr-0 sm:pl-0 sm:pr-0 lg:pl-1 lg:pr-0 py-2 sm:py-3 lg:py-4"},Ue={class:"relative z-10 w-full mb-6 flex justify-end"},Ge={class:"flex bg-white rounded-full shadow-lg p-1 border border-gray-200"},We=["onClick"],Qe={class:"relative z-10 flex items-center gap-2"},Ke={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},qe={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},Je={key:2,class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},Oe={key:3,class:"px-2 py-0.5 rounded-full text-xs font-bold bg-white text-purple-700 border border-purple-200 ml-1"},Xe={key:0,class:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-20 animate-pulse rounded-full"},Ye={key:0,class:"h-6 w-px bg-purple-200 mx-1 self-center"},Ze={class:"relative z-10 w-full mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500 border border-gray-200"},et={class:"text-base font-medium text-gray-900 tracking-tight flex items-center gap-2"},tt={class:"relative z-10 w-full rounded-lg transition-all duration-500 ease-in-out transform hover:shadow-lg bg-white p-4"},st={class:"flex flex-wrap items-end gap-x-4 gap-y-3"},ot={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},lt={class:"relative"},at={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},nt={class:"relative"},it=["value"],rt={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},dt={class:"relative"},ut={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},pt={class:"relative"},ct={class:"relative z-10 w-full flex items-center justify-between mb-6 mt-8"},ft={class:"flex flex-col items-start"},vt={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},mt={class:"flex-1 flex justify-center"},gt={class:"relative w-full max-w-xs flex items-center"},xt={key:0,class:"relative z-10 w-full"},ht={class:"border border-gray-200 rounded-xl p-8 bg-white/40 shadow-sm"},bt={key:1,class:"relative z-10 w-full"},yt={class:"bg-white rounded-lg shadow-lg overflow-hidden"},wt={key:1,class:"overflow-x-auto"},kt={class:"min-w-full divide-y divide-gray-200"},_t={class:"bg-gradient-to-r from-indigo-50 to-purple-50"},Ct=["onClick"],jt={class:"flex items-center gap-1"},St={class:"flex flex-col ml-1"},Mt={key:0,class:"w-3 h-3 text-purple-500 transform -rotate-180",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},At={key:1,class:"w-3 h-3 text-purple-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},Nt={key:2,class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},zt={class:"bg-white divide-y divide-gray-200"},Bt={class:"py-2 px-2 text-gray-900 font-normal text-xs #ffffffspace-nowrap"},Dt={class:"flex items-center gap-2"},Pt={class:"relative w-7 h-7"},$t=["src","alt"],Ft=["onClick"],It={class:"text-xs text-gray-900"},Vt={key:0,class:"text-xs text-gray-900/50 leading-tight"},Et={class:"py-2 px-2 text-gray-900 font-normal text-xs #ffffffspace-nowrap"},Lt={class:"text-xs text-gray-900"},Tt={class:"py-2 px-2 text-gray-900 font-normal text-xs #ffffffspace-nowrap"},Ht={class:"text-xs text-gray-900"},Rt={class:"py-2 px-2 text-gray-900 font-normal text-xs #ffffffspace-nowrap"},Ut={class:"py-2 px-2 text-gray-900 font-normal text-xs #ffffffspace-nowrap"},Gt={class:"flex items-center gap-2 justify-center"},Wt=["onClick"],Qt=["onClick"],Kt=["onClick"],qt={key:0,class:"bg-white border-b border-gray-200"},Jt={colspan:"6",class:"px-6 py-4"},Ot={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Xt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Yt={class:"bg-blue-50 rounded-lg p-3"},Zt={class:"space-y-3 text-xs"},es={class:"flex justify-between pb-2 border-b-2 border-blue-200"},ts={class:"font-medium"},ss={class:"flex justify-between pb-2 border-b-2 border-purple-200"},os={class:"font-medium"},ls={class:"flex justify-between pb-2 border-b-2 border-green-200"},as={class:"font-medium"},ns={class:"flex justify-between pb-2 border-b-2 border-orange-200"},is={class:"font-medium text-right"},rs={class:"bg-green-50 rounded-lg p-3"},ds={class:"space-y-3 text-xs"},us={class:"flex justify-between pb-2 border-b-2 border-purple-200"},ps={class:"font-medium"},cs={class:"flex justify-between pb-2 border-b-2 border-green-200"},fs={class:"font-medium"},vs={class:"flex justify-between pb-2 border-b-2 border-orange-200"},ms={class:"font-medium"},gs={class:"bg-purple-50 rounded-lg p-3"},xs={class:"space-y-3 text-xs"},hs={class:"flex justify-between pb-2 border-b-2 border-blue-200"},bs={class:"font-medium"},ys={class:"flex justify-between pb-2 border-b-2 border-pink-200"},ws={class:"font-medium"},ks={class:"flex justify-between pb-2 border-b-2 border-green-200"},_s={class:"font-medium"},Cs={class:"flex justify-between pb-2 border-b-2 border-purple-200"},js={class:"font-medium"},Ss={key:0,class:"py-12"},Ms={class:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl transform transition-transform duration-300 ease-in-out"},As={class:"flex flex-col h-full"},Ns={key:0,class:"flex-1 flex items-center justify-center"},zs={key:1,class:"flex-1 overflow-y-auto p-6 space-y-6"},Bs={class:"text-center"},Ds={class:"relative mx-auto w-24 h-24 mb-4"},Ps=["src","alt"],$s={class:"text-xl font-bold text-gray-900"},Fs={class:"text-gray-600"},Is={class:"grid grid-cols-2 gap-4"},Vs={class:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg"},Es={class:"text-2xl font-bold text-purple-600"},Ls={class:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg"},Ts={class:"text-2xl font-bold text-green-600"},Hs={class:"bg-white rounded-lg p-4"},Rs={class:"space-y-3"},Us={class:"flex justify-between"},Gs={class:"font-medium"},Ws={class:"flex justify-between"},Qs={class:"font-medium"},Ks={class:"flex justify-between"},qs={class:"font-medium"},Js={class:"flex justify-between"},Os={class:"font-medium text-right"},Xs={class:"bg-white rounded-lg p-4"},Ys={class:"space-y-3"},Zs={class:"flex justify-between"},eo={class:"font-medium"},to={class:"flex justify-between"},so={class:"font-medium"},oo={class:"flex justify-between"},lo={key:0,class:"bg-white rounded-lg p-4"},ao={class:"space-y-3"},no={class:"flex justify-between"},io={class:"font-medium"},ro={class:"flex justify-between"},uo={class:"font-medium"},po={class:"flex justify-between"},co={class:"font-medium"},fo={class:"flex justify-between"},vo={class:"font-medium"},mo={class:"bg-white rounded-lg p-4"},go={class:"space-y-2"},xo={class:"flex items-center text-sm text-gray-600"},ho={class:"flex items-center text-sm text-gray-600"},bo={class:"flex items-center text-sm text-gray-600"},yo={class:"p-6 bg-white border-t"},wo={class:"flex gap-3"},ko={__name:"StudentList",setup(_o){const T=Ee,H=De(),f=Pe(),me=$e(),A=u(!1),ge=()=>{var t;const s=me.user;return s&&(s.merchant_id||((t=s.admin)==null?void 0:t.merchant_id))||null},N=u(!1),h=u(""),z=u(""),B=u("active"),v=u(1),D=u(10),P=u(0),b=u([]),m=u([]),y=u("student"),j=u(""),w=u("asc"),S=u(""),W=u(!1),a=u(null),Q=u(!1);u(1);const $=u({}),k=u(null),xe=[{key:"student",label:"Student Name"},{key:"section",label:"Section"},{key:"roll",label:"Roll No"},{key:"status",label:"Status"},{key:"actions",label:"Actions"}],R=V(()=>[{key:"student",label:"Student Wise",count:b.value.length},{key:"family",label:"Family Wise",count:0}]),he=V(()=>Math.ceil(P.value/D.value));V(()=>{const s=[],t=he.value,r=v.value;if(t<=4){for(let d=1;d<=t;d++)s.push({type:"page",page:d,key:`page-${d}`});return s}return s.push({type:"page",page:1,key:"page-1"}),r===1?(s.push({type:"page",page:2,key:"page-2"}),t>3&&s.push({type:"ellipsis",key:"ellipsis-1"})):r===2?(s.push({type:"page",page:2,key:"page-2"}),s.push({type:"page",page:3,key:"page-3"}),t>4&&s.push({type:"ellipsis",key:"ellipsis-2"})):r>=t-1?(t>4&&s.push({type:"ellipsis",key:"ellipsis-3"}),s.push({type:"page",page:t-2,key:`page-${t-2}`}),s.push({type:"page",page:t-1,key:`page-${t-1}`})):(s.push({type:"ellipsis",key:"ellipsis-4"}),s.push({type:"page",page:r,key:`page-${r}`}),s.push({type:"page",page:r+1,key:`page-${r+1}`}),s.push({type:"ellipsis",key:"ellipsis-5"})),s.push({type:"page",page:t,key:`page-${t}`}),s});const be=V(()=>{const s=R.value.find(t=>t.key===y.value);return s?s.label:"Student Wise"}),g=async()=>{var s,t;A.value=!0;try{const r={page:v.value,per_page:D.value,search:h.value,section_id:z.value||null,status:B.value,sort_by:j.value,sort_direction:w.value};S.value&&(r.date=S.value);const d=await T.get("/students",{params:r});d.data.status?(b.value=d.data.result.data||[],P.value=d.data.result.total||0):f.error(d.data.message||"Failed to fetch students")}catch(r){console.error("Error fetching students:",r),f.error(((t=(s=r.response)==null?void 0:s.data)==null?void 0:t.message)||"Failed to fetch students")}finally{A.value=!1}},ye=async()=>{N.value=!0;try{const s=ge(),t={};s&&(t.merchant_id=s);const r=await T.get("/sections",{params:t});r.data.success&&Array.isArray(r.data.result)?m.value=r.data.result.map(d=>({id:d.id,name:d.name})):m.value=[]}catch{m.value=[],f.error("Failed to fetch sections")}finally{N.value=!1}},we=()=>{v.value=1,g()},ke=()=>{k.value&&clearTimeout(k.value),v.value=1,k.value=setTimeout(()=>{g()},500)},_e=()=>{k.value&&(clearTimeout(k.value),k.value=null),h.value="",z.value="",B.value="active",S.value="",v.value=1,g()},Ce=s=>{v.value=s,g()},je=s=>{D.value=s,v.value=1,g()},Se=()=>{try{console.log("Navigating to add student page..."),H.push({name:"AddStudent"})}catch(s){console.error("Error navigating to add student:",s),f.error("Failed to navigate to add student page")}},K=s=>{try{if(!s||!s.id){f.error("Invalid student data");return}console.log("Navigating to edit student:",s.id),H.push({name:"EditStudent",params:{id:s.id}})}catch(t){console.error("Error navigating to edit student:",t),f.error("Failed to navigate to edit student page")}},q=s=>{try{if(!s||!s.id){f.error("Invalid student data");return}H.push({name:"StudentDetail",params:{id:s.id}})}catch(t){console.error("Error navigating to view student:",t),f.error("Failed to navigate to student detail page")}},Me=async s=>{var t,r;try{await Le.confirm(`Are you sure you want to delete student ${s.first_name} ${s.last_name}?`,"Delete Student?",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"});const d=await T.delete(`/students/${s.id}`,{withCredentials:!0});if(d.data.success)f.success("Student deleted successfully"),g();else throw new Error(d.data.message||"Failed to delete student")}catch(d){d!=="cancel"&&f.error(((r=(t=d.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to delete student")}},J=s=>{if(!s)return"ST";const t=s.first_name||"",r=s.last_name||"",d=t.charAt(0).toUpperCase(),F=r.charAt(0).toUpperCase();return`${d}${F}`||"ST"},_=s=>s.profile_picture?s.profile_picture.startsWith("http")?s.profile_picture:`http://localhost:8000/api/storage/${s.profile_picture}`:null,O=s=>{s.target.style.display="none";const t=s.target.parentElement;if(t){const r=t.querySelector(".initials-fallback");r&&(r.style.display="flex")}},U=s=>s.is_active||s.status==="active"||s.status===1?"active":"inactive",Ae=s=>{j.value===s?w.value=w.value==="asc"?"desc":"asc":(j.value=s,w.value="asc"),g()},Ne=s=>{y.value!==s&&(y.value=s)},X=()=>{W.value=!1,a.value=null,Q.value=!1},ze=s=>{s&&($.value[s]=!$.value[s])};return Fe(async()=>{await ye(),g()}),(s,t)=>{var r,d,F,Y,Z,ee;return n(),i("div",Re,[e("div",Ue,[e("div",Ge,[(n(!0),i(C,null,E(R.value,(o,I)=>(n(),i(C,{key:o.key},[e("button",{onClick:G=>Ne(o.key),class:M([y.value===o.key?"px-3":"px-4","py-2 rounded-full text-sm font-medium transition-all duration-300 ease-in-out transform relative overflow-hidden",y.value===o.key?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md scale-105":"text-purple-600 hover:text-purple-700 hover:bg-purple-50 hover:scale-102"])},[e("span",Qe,[o.key==="student"?(n(),i("svg",Ke,[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])])):o.key==="class"?(n(),i("svg",qe,[...t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"},null,-1)])])):o.key==="family"?(n(),i("svg",Je,[...t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"},null,-1)])])):c("",!0),p(" "+l(o.label)+" ",1),o.count!==null?(n(),i("span",Oe,l(o.count),1)):c("",!0)]),y.value===o.key?(n(),i("div",Xe)):c("",!0)],10,We),I<R.value.length-1?(n(),i("div",Ye)):c("",!0)],64))),128))])]),e("div",Ze,[e("h2",et,[t[10]||(t[10]=e("div",{class:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"},null,-1)),p(" Student List - "+l(be.value),1)]),t[11]||(t[11]=e("nav",{class:"flex items-center gap-2 text-base font-medium text-gray-600"},[e("span",{class:"hover:text-purple-600 cursor-pointer transition-colors duration-200"},"Dashboard"),e("span",{class:"mx-2"},"|"),e("span",{class:"text-gray-900 font-bold"},"Students")],-1))]),t[78]||(t[78]=e("div",{class:"relative z-10 w-full mb-2"},[e("div",{class:"flex flex-col items-start"},[e("h3",{class:"text-base font-medium text-gray-900 tracking-tight"},"Select Criteria"),e("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-300",style:{"max-width":"110px"}})])],-1)),e("div",tt,[e("form",{class:"w-full",onSubmit:Ie(we,["prevent"])},[e("div",st,[e("div",ot,[t[13]||(t[13]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Search",-1)),e("div",lt,[L(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>h.value=o),type:"text",placeholder:"Search students...",class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[de,h.value]]),t[12]||(t[12]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",at,[t[17]||(t[17]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Section",-1)),e("div",nt,[L(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>z.value=o),class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[t[14]||(t[14]=e("option",{value:""},"All",-1)),(n(!0),i(C,null,E(m.value,o=>(n(),i("option",{key:o.id,value:o.id},l(o.name),9,it))),128))],512),[[ue,z.value]]),t[15]||(t[15]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[16]||(t[16]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",rt,[t[21]||(t[21]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Status",-1)),e("div",dt,[L(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>B.value=o),class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[...t[18]||(t[18]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1),e("option",{value:"graduated"},"Graduated",-1)])],512),[[ue,B.value]]),t[19]||(t[19]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[20]||(t[20]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",ut,[t[23]||(t[23]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Date",-1)),e("div",pt,[pe(He,{modelValue:S.value,"onUpdate:modelValue":t[3]||(t[3]=o=>S.value=o),placeholder:""},null,8,["modelValue"]),t[22]||(t[22]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[1.5px] bg-purple-200 pointer-events-none"},null,-1))])])]),e("div",{class:"flex justify-end mt-3"},[e("div",{class:"flex items-center gap-2"},[e("button",{type:"button",onClick:_e,class:"h-9 px-6 bg-white hover:bg-white text-gray-900 text-sm font-medium rounded-full border border-gray-200 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[...t[24]||(t[24]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),p(" Clear ",-1)])]),t[26]||(t[26]=e("button",{type:"submit",class:"h-9 px-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-medium rounded-full hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]),p(" Search ")],-1)),e("button",{type:"button",onClick:Se,class:"h-9 px-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-sm font-medium rounded-full hover:from-green-600 hover:to-emerald-600 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[...t[25]||(t[25]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),p(" Add Student ",-1)])])])])],32)]),e("div",ct,[e("div",ft,[e("h3",vt,[t[27]||(t[27]=e("div",{class:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 animate-bounce"},null,-1)),p(" Students List ("+l(P.value)+") ",1)]),t[28]||(t[28]=e("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-500",style:{"max-width":"120px"}},null,-1))]),e("div",mt,[e("div",gt,[t[29]||(t[29]=e("span",{class:"absolute left-0 top-1/2 -translate-y-1/2 pl-2 text-purple-400"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})])],-1)),L(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>h.value=o),onInput:ke,type:"text",placeholder:"QUICK SEARCH",class:"w-full border-0 bg-transparent pl-10 pr-0 py-2 text-gray-900 font-medium text-xs tracking-wider uppercase focus:ring-0 focus:outline-none transition placeholder:text-gray-600 placeholder:font-medium placeholder:opacity-100 placeholder:text-xs shadow-none",style:{"letter-spacing":"0.08em"}},null,544),[[de,h.value]]),t[30]||(t[30]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[1.5px] bg-purple-200 pointer-events-none"},null,-1))])])]),t[79]||(t[79]=e("div",{class:"relative z-10 w-full"},[e("div",{class:"h-[2px] w-full bg-purple-200 mb-4"})],-1)),N.value?(n(),i("div",xt,[e("div",ht,[pe(ve,{message:"Loading Filters..."})])])):(n(),i("div",bt,[e("div",yt,[A.value?(n(),ce(ve,{key:0,message:"Loading Students..."})):(n(),i("div",wt,[e("table",kt,[e("thead",_t,[e("tr",null,[(n(),i(C,null,E(xe,o=>e("th",{key:o.key,onClick:I=>Ae(o.key),class:"py-2 px-2 font-medium text-gray-600 text-sm tracking-wider cursor-pointer select-none group transition-all duration-150 hover:bg-purple-50 border-b-2 border-purple-400 relative #ffffffspace-nowrap"},[e("span",jt,[p(l(o.label)+" ",1),e("span",St,[j.value===o.key&&w.value==="asc"?(n(),i("svg",Mt,[...t[31]||(t[31]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])])):j.value===o.key&&w.value==="desc"?(n(),i("svg",At,[...t[32]||(t[32]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])])):(n(),i("svg",Nt,[...t[33]||(t[33]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])]))])]),t[34]||(t[34]=e("span",{class:"absolute left-0 bottom-0 w-full h-0.5 bg-purple-100 opacity-0 group-hover:opacity-100 transition"},null,-1))],8,Ct)),64))])]),e("tbody",zt,[(n(!0),i(C,null,E(b.value,(o,I)=>{var G,te,se,oe,le,ae,ne,ie,re;return n(),i(C,{key:o.id},[e("tr",{class:M(["hover:bg-indigo-50 transition-colors","border-b border-purple-200",I===b.value.length-1?"border-b-2 border-purple-400":""])},[e("td",Bt,[e("div",Dt,[e("div",Pt,[_(o)?(n(),i("img",{key:0,src:_(o),alt:o.first_name,class:"w-7 h-7 rounded-full object-cover border border-gray-200",onError:O},null,40,$t)):(n(),i("div",{key:1,class:"w-7 h-7 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-xs font-medium border border-gray-200 initials-fallback",style:fe({display:_(o)?"none":"flex"})},l(J(o)),5))]),e("button",{onClick:x=>o&&ze(o.id),class:"p-1 rounded-full hover:bg-white transition-colors duration-200",title:"Toggle Details"},[(n(),i("svg",{class:M(["w-4 h-4 text-gray-600 transition-transform duration-200",{"rotate-90":$.value[o.id]}]),fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[...t[35]||(t[35]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1)])],2))],8,Ft),e("div",null,[e("div",It,l(o.first_name)+" "+l(o.last_name),1),o.email?(n(),i("div",Vt,l(o.email),1)):c("",!0)])])]),e("td",Et,[e("div",Lt,l(o.section_name||((G=m.value.find(x=>x.id===o.section_id))==null?void 0:G.name)||"-"),1)]),e("td",Tt,[e("div",Ht,l(o.roll_number||"-"),1)]),e("td",Rt,[e("span",{class:M(["px-2 inline-flex text-xs leading-5 font-medium rounded-full",U(o)==="active"?"bg-green-100 text-green-700":U(o)==="inactive"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"])},l(U(o)),3)]),e("td",Ut,[e("div",Gt,[e("button",{onClick:x=>q(o),class:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-1 rounded-full text-xs font-medium transition-colors duration-200",title:"View Profile"}," View ",8,Wt),e("button",{onClick:x=>K(o),class:"bg-green-600 hover:bg-green-700 text-white px-4 py-1 rounded-full text-xs font-medium transition-colors duration-200",title:"Edit Student"}," Edit ",8,Qt),e("button",{onClick:x=>Me(o),class:"bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded-full text-xs font-medium transition-colors duration-200",title:"Delete Student"}," Delete ",8,Kt)])])],2),o&&$.value[o.id]?(n(),i("tr",qt,[e("td",Jt,[e("div",Ot,[e("div",Xt,[e("div",Yt,[t[40]||(t[40]=e("h4",{class:"font-semibold text-gray-900 mb-2 flex items-center text-sm"},[e("svg",{class:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),p(" Personal Information ")],-1)),e("div",Zt,[e("div",es,[t[36]||(t[36]=e("span",{class:"text-gray-600"},"Date of Birth:",-1)),e("span",ts,l(o.date_of_birth||"N/A"),1)]),e("div",ss,[t[37]||(t[37]=e("span",{class:"text-gray-600"},"Gender:",-1)),e("span",os,l(o.gender||"N/A"),1)]),e("div",ls,[t[38]||(t[38]=e("span",{class:"text-gray-600"},"Phone:",-1)),e("span",as,l(((te=o.contact_info)==null?void 0:te.phone)||"N/A"),1)]),e("div",ns,[t[39]||(t[39]=e("span",{class:"text-gray-600"},"Address:",-1)),e("span",is,l(((se=o.contact_info)==null?void 0:se.address)||"N/A"),1)])])]),e("div",rs,[t[44]||(t[44]=e("h4",{class:"font-semibold text-gray-900 mb-2 flex items-center text-sm"},[e("svg",{class:"w-4 h-4 mr-2 text-green-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})]),p(" Academic Information ")],-1)),e("div",ds,[e("div",us,[t[41]||(t[41]=e("span",{class:"text-gray-600"},"Section:",-1)),e("span",ps,l(o.section_name||((oe=m.value.find(x=>x.id===o.section_id))==null?void 0:oe.name)||"N/A"),1)]),e("div",cs,[t[42]||(t[42]=e("span",{class:"text-gray-600"},"Roll Number:",-1)),e("span",fs,l(o.roll_number||"N/A"),1)]),e("div",vs,[t[43]||(t[43]=e("span",{class:"text-gray-600"},"Admission Date:",-1)),e("span",ms,l(o.admission_date||"N/A"),1)])])]),e("div",gs,[t[49]||(t[49]=e("h4",{class:"font-semibold text-gray-900 mb-2 flex items-center text-sm"},[e("svg",{class:"w-4 h-4 mr-2 text-purple-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),p(" Family Information ")],-1)),e("div",xs,[e("div",hs,[t[45]||(t[45]=e("span",{class:"text-gray-600"},"Father's Name:",-1)),e("span",bs,l(((le=o.family_info)==null?void 0:le.father_name)||"N/A"),1)]),e("div",ys,[t[46]||(t[46]=e("span",{class:"text-gray-600"},"Mother's Name:",-1)),e("span",ws,l(((ae=o.family_info)==null?void 0:ae.mother_name)||"N/A"),1)]),e("div",ks,[t[47]||(t[47]=e("span",{class:"text-gray-600"},"Guardian Phone:",-1)),e("span",_s,l(((ne=o.family_info)==null?void 0:ne.guardian_phone)||((ie=o.family_info)==null?void 0:ie.father_phone)||"N/A"),1)]),e("div",Cs,[t[48]||(t[48]=e("span",{class:"text-gray-600"},"CNIC:",-1)),e("span",js,l(((re=o.family_info)==null?void 0:re.father_cnic)||"N/A"),1)])])])])])])])):c("",!0)],64)}),128))])]),b.value.length===0?(n(),i("div",Ss,[...t[50]||(t[50]=[Ve('<div class="flex flex-col items-center justify-center" data-v-fa8b47fa><div class="relative mb-4" data-v-fa8b47fa><div class="w-16 h-16 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full flex items-center justify-center" data-v-fa8b47fa><svg class="w-8 h-8 text-purple-300" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-fa8b47fa><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-fa8b47fa></path></svg></div><div class="absolute -top-2 -right-2 w-4 h-4 bg-purple-100 rounded-full animate-ping opacity-20" data-v-fa8b47fa></div><div class="absolute -bottom-2 -left-2 w-3 h-3 bg-indigo-100 rounded-full animate-pulse" data-v-fa8b47fa></div></div><div class="text-center max-w-xs mx-auto" data-v-fa8b47fa><div class="text-lg font-light text-gray-500 mb-1" data-v-fa8b47fa>No Students Found</div><div class="text-gray-500 text-base font-light mb-2" data-v-fa8b47fa>We couldn&#39;t find any students matching your current filters.</div><div class="flex flex-wrap justify-center gap-2 text-xs text-gray-500 font-light" data-v-fa8b47fa><span class="px-2 py-1 bg-white rounded-full" data-v-fa8b47fa>• Check filters</span><span class="px-2 py-1 bg-white rounded-full" data-v-fa8b47fa>• Clear search</span></div></div></div>',1)])])):c("",!0),b.value.length>0?(n(),ce(Te,{key:1,"current-page":v.value,"page-size":D.value,total:P.value,show:!A.value&&!N.value,onPageChange:Ce,onPageSizeChange:je},null,8,["current-page","page-size","total","show"])):c("",!0)]))])])),W.value?(n(),i("div",{key:2,class:"fixed inset-0 z-50 overflow-hidden",onClick:X},[t[77]||(t[77]=e("div",{class:"absolute inset-0 bg-black bg-opacity-50 transition-opacity duration-300"},null,-1)),e("div",Ms,[e("div",As,[e("div",{class:"bg-gradient-to-r from-indigo-600 to-purple-700 px-6 py-4 text-white"},[e("div",{class:"flex items-center justify-between"},[t[52]||(t[52]=e("h3",{class:"text-lg font-semibold"},"Student Details",-1)),e("button",{onClick:X,class:"rounded-full bg-white/20 p-2 hover:bg-white/30 transition-colors duration-200"},[...t[51]||(t[51]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),Q.value?(n(),i("div",Ns,[...t[53]||(t[53]=[e("div",{class:"text-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e("p",{class:"text-gray-600"},"Loading student details...")],-1)])])):a.value?(n(),i("div",zs,[e("div",Bs,[e("div",Ds,[_(a.value)?(n(),i("img",{key:0,src:_(a.value),alt:a.value.first_name,class:"w-full h-full rounded-full object-cover border-4 border-indigo-100",onError:O},null,40,Ps)):(n(),i("div",{key:1,class:"w-full h-full rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-xl font-medium border-4 border-indigo-100 initials-fallback",style:fe({display:_(a.value)?"none":"flex"})},l(J(a.value)),5)),t[54]||(t[54]=e("div",{class:"absolute bottom-0 right-0 w-6 h-6 bg-green-500 rounded-full border-2 border-gray-200"},null,-1))]),e("h4",$s,l(a.value.first_name)+" "+l(a.value.last_name),1),e("p",Fs,l(a.value.email),1)]),e("div",Is,[e("div",Vs,[e("div",Es,l(a.value.roll_number||"N/A"),1),t[55]||(t[55]=e("div",{class:"text-sm text-gray-600"},"Roll Number",-1))]),e("div",Ls,[e("div",Ts,l(a.value.section_name||((r=a.value.section)==null?void 0:r.name)||((d=m.value.find(o=>o.id===a.value.section_id))==null?void 0:d.name)||"N/A"),1),t[56]||(t[56]=e("div",{class:"text-sm text-gray-600"},"Section",-1))])]),e("div",Hs,[t[61]||(t[61]=e("h5",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),p(" Personal Information ")],-1)),e("div",Rs,[e("div",Us,[t[57]||(t[57]=e("span",{class:"text-gray-600"},"Date of Birth:",-1)),e("span",Gs,l(a.value.date_of_birth||"N/A"),1)]),e("div",Ws,[t[58]||(t[58]=e("span",{class:"text-gray-600"},"Gender:",-1)),e("span",Qs,l(a.value.gender||"N/A"),1)]),e("div",Ks,[t[59]||(t[59]=e("span",{class:"text-gray-600"},"Phone:",-1)),e("span",qs,l(((F=a.value.contact_info)==null?void 0:F.phone)||"N/A"),1)]),e("div",Js,[t[60]||(t[60]=e("span",{class:"text-gray-600"},"Address:",-1)),e("span",Os,l(((Y=a.value.contact_info)==null?void 0:Y.address)||"N/A"),1)])])]),e("div",Xs,[t[65]||(t[65]=e("h5",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})]),p(" Academic Information ")],-1)),e("div",Ys,[e("div",Zs,[t[62]||(t[62]=e("span",{class:"text-gray-600"},"Section:",-1)),e("span",eo,l(a.value.section_name||((Z=a.value.section)==null?void 0:Z.name)||((ee=m.value.find(o=>o.id===a.value.section_id))==null?void 0:ee.name)||"N/A"),1)]),e("div",to,[t[63]||(t[63]=e("span",{class:"text-gray-600"},"Admission Date:",-1)),e("span",so,l(a.value.admission_date||"N/A"),1)]),e("div",oo,[t[64]||(t[64]=e("span",{class:"text-gray-600"},"Status:",-1)),e("span",{class:M(["px-2 py-1 rounded-full text-xs font-medium",a.value.status==="active"?"bg-green-100 text-green-700":a.value.status==="inactive"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"])},l(a.value.status),3)])])]),a.value.family_info?(n(),i("div",lo,[t[70]||(t[70]=e("h5",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),p(" Family Information ")],-1)),e("div",ao,[e("div",no,[t[66]||(t[66]=e("span",{class:"text-gray-600"},"Father's Name:",-1)),e("span",io,l(a.value.family_info.father_name||"N/A"),1)]),e("div",ro,[t[67]||(t[67]=e("span",{class:"text-gray-600"},"Mother's Name:",-1)),e("span",uo,l(a.value.family_info.mother_name||"N/A"),1)]),e("div",po,[t[68]||(t[68]=e("span",{class:"text-gray-600"},"Guardian Phone:",-1)),e("span",co,l(a.value.family_info.guardian_phone||a.value.family_info.father_phone||"N/A"),1)]),e("div",fo,[t[69]||(t[69]=e("span",{class:"text-gray-600"},"CNIC:",-1)),e("span",vo,l(a.value.family_info.father_cnic||"N/A"),1)])])])):c("",!0),e("div",mo,[t[74]||(t[74]=e("h5",{class:"font-semibold text-gray-900 mb-3 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),p(" Recent Activity ")],-1)),e("div",go,[e("div",xo,[t[71]||(t[71]=e("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-2"},null,-1)),p(" Last attendance: "+l(a.value.last_attendance||"N/A"),1)]),e("div",ho,[t[72]||(t[72]=e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mr-2"},null,-1)),p(" Last fee payment: "+l(a.value.last_fee_payment||"N/A"),1)]),e("div",bo,[t[73]||(t[73]=e("div",{class:"w-2 h-2 bg-purple-500 rounded-full mr-2"},null,-1)),p(" Profile updated: "+l(a.value.updated_at||"N/A"),1)])])])])):c("",!0),e("div",yo,[e("div",wo,[e("button",{onClick:t[5]||(t[5]=o=>K(a.value)),class:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-700 text-white py-2 px-4 rounded-lg font-medium hover:from-indigo-700 hover:to-purple-800 transition-all duration-200 transform hover:scale-105 flex items-center justify-center gap-2"},[...t[75]||(t[75]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),p(" Edit Profile ",-1)])]),e("button",{onClick:t[6]||(t[6]=o=>q(a.value)),class:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-700 text-white py-2 px-4 rounded-lg font-medium hover:from-emerald-700 hover:to-teal-800 transition-all duration-200 transform hover:scale-105 flex items-center justify-center gap-2"},[...t[76]||(t[76]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),p(" Full View ",-1)])])])])])])])):c("",!0)])}}},No=Be(ko,[["__scopeId","data-v-fa8b47fa"]]);export{No as default};
