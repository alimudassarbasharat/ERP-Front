import{_ as Q,u as X,r as d,l as Z,s as n,x as ee,c as S,b as M,y as e,z as a,d as s,w as te,F as ae,g as le,E as ne,f as c,t as i,A as b,I as oe,J as se,C as ce,a3 as ie,T as de}from"./index-z4YXot-9.js";const ue={class:"maintenance-container"},re={class:"card-header"},_e={class:"header-actions"},pe={class:"filters-section"},me={class:"expanded-row"},fe={class:"facility-info"},ve={class:"facility-details"},ge={class:"facility-name"},ye={class:"facility-type"},he={class:"pagination-container"},be={__name:"Maintenance",setup(Ce){const f=X(),T=d([{id:1,facilityName:"Computer Lab 1",facilityType:"Laboratory",image:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",location:"Block A, Room 101",scheduledDate:"2024-05-10",completionDate:"2024-05-12",status:"Scheduled",maintenanceType:"Routine",priority:"High",assignedTo:"John Smith",notes:"Regular maintenance check"}]),k=d(!1),v=d(""),g=d(""),y=d(""),h=d(1),C=d(10),z=d(100),V=[{value:"lab1",label:"Computer Lab 1"},{value:"lab2",label:"Computer Lab 2"},{value:"class1",label:"Classroom 1"},{value:"class2",label:"Classroom 2"}],N=Z(()=>T.value.filter(o=>{const l=!v.value||o.facilityName===v.value,u=!g.value||o.status.toLowerCase()===g.value,r=!y.value||o.scheduledDate===y.value;return l&&u&&r})),Y=o=>{switch(o.toLowerCase()){case"scheduled":return"warning";case"in_progress":return"primary";case"completed":return"success";case"cancelled":return"danger";default:return"info"}},B=()=>{f.info("Add maintenance functionality to be implemented")},E=()=>{f.info("Export functionality to be implemented")},w=()=>{h.value=1},L=()=>{w()},A=o=>{f.info(`Edit maintenance for ${o.facilityName}`)},F=o=>{de.confirm(`Are you sure you want to delete maintenance record for ${o.facilityName}?`,"Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{f.success("Maintenance record deleted")}).catch(()=>{})},U=o=>{C.value=o},P=o=>{h.value=o};return(o,l)=>{const u=n("el-icon"),r=n("el-button"),m=n("el-option"),x=n("el-select"),D=n("el-col"),$=n("el-date-picker"),I=n("el-row"),_=n("el-descriptions-item"),R=n("el-descriptions"),p=n("el-table-column"),J=n("el-avatar"),j=n("el-tag"),H=n("el-button-group"),O=n("el-table"),W=n("el-pagination"),q=n("el-card"),G=ee("loading");return M(),S("div",ue,[e(q,{class:"maintenance-card"},{header:a(()=>[s("div",re,[l[7]||(l[7]=s("h2",{class:"title"},"Maintenance Management",-1)),s("div",_e,[e(r,{type:"primary",onClick:B},{default:a(()=>[e(u,null,{default:a(()=>[e(b(ce))]),_:1}),l[5]||(l[5]=c(" Schedule Maintenance "))]),_:1,__:[5]}),e(r,{type:"success",onClick:E},{default:a(()=>[e(u,null,{default:a(()=>[e(b(ie))]),_:1}),l[6]||(l[6]=c(" Export "))]),_:1,__:[6]})])])]),default:a(()=>[s("div",pe,[e(I,{gutter:20},{default:a(()=>[e(D,{span:6},{default:a(()=>[e(x,{modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=t=>v.value=t),placeholder:"Select Facility",clearable:"",onChange:w},{default:a(()=>[(M(),S(ae,null,le(V,t=>e(m,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(D,{span:6},{default:a(()=>[e(x,{modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=t=>g.value=t),placeholder:"Maintenance Status",clearable:"",onChange:w},{default:a(()=>[e(m,{label:"Scheduled",value:"scheduled"}),e(m,{label:"In Progress",value:"in_progress"}),e(m,{label:"Completed",value:"completed"}),e(m,{label:"Cancelled",value:"cancelled"})]),_:1},8,["modelValue"])]),_:1}),e(D,{span:6},{default:a(()=>[e($,{modelValue:y.value,"onUpdate:modelValue":l[2]||(l[2]=t=>y.value=t),type:"date",placeholder:"Select Date",format:"DD/MM/YYYY","value-format":"YYYY-MM-DD",onChange:L},null,8,["modelValue"])]),_:1})]),_:1})]),te((M(),ne(O,{data:N.value,style:{width:"100%"},border:"",stripe:""},{default:a(()=>[e(p,{type:"expand"},{default:a(t=>[s("div",me,[e(R,{column:2,border:""},{default:a(()=>[e(_,{label:"Facility Type"},{default:a(()=>[c(i(t.row.facilityType),1)]),_:2},1024),e(_,{label:"Location"},{default:a(()=>[c(i(t.row.location),1)]),_:2},1024),e(_,{label:"Maintenance Type"},{default:a(()=>[c(i(t.row.maintenanceType),1)]),_:2},1024),e(_,{label:"Priority"},{default:a(()=>[c(i(t.row.priority),1)]),_:2},1024),e(_,{label:"Assigned To"},{default:a(()=>[c(i(t.row.assignedTo),1)]),_:2},1024),e(_,{label:"Notes"},{default:a(()=>[c(i(t.row.notes),1)]),_:2},1024)]),_:2},1024)])]),_:1}),e(p,{label:"Facility","min-width":"200"},{default:a(({row:t})=>[s("div",fe,[e(J,{size:32,src:t.image},null,8,["src"]),s("div",ve,[s("div",ge,i(t.facilityName),1),s("div",ye,i(t.facilityType),1)])])]),_:1}),e(p,{prop:"scheduledDate",label:"Scheduled Date",width:"150"}),e(p,{prop:"completionDate",label:"Completion Date",width:"150"}),e(p,{label:"Status",width:"120"},{default:a(({row:t})=>[e(j,{type:Y(t.status)},{default:a(()=>[c(i(t.status),1)]),_:2},1032,["type"])]),_:1}),e(p,{label:"Actions",width:"200",fixed:"right"},{default:a(({row:t})=>[e(H,null,{default:a(()=>[e(r,{type:"primary",size:"small",onClick:K=>A(t)},{default:a(()=>[e(u,null,{default:a(()=>[e(b(oe))]),_:1})]),_:2},1032,["onClick"]),e(r,{type:"danger",size:"small",onClick:K=>F(t)},{default:a(()=>[e(u,null,{default:a(()=>[e(b(se))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[G,k.value]]),s("div",he,[e(W,{"current-page":h.value,"onUpdate:currentPage":l[3]||(l[3]=t=>h.value=t),"page-size":C.value,"onUpdate:pageSize":l[4]||(l[4]=t=>C.value=t),"page-sizes":[10,20,50,100],total:z.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:U,onCurrentChange:P},null,8,["current-page","page-size","total"])])]),_:1})])}}},De=Q(be,[["__scopeId","data-v-dffd6ffa"]]);export{De as default};
