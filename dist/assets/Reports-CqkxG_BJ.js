import{_ as W,H as X,y as r,N as Z,a as ee,o as M,d as l,h as e,u as s,am as h,D as t,i as u,t as d,A as te,f as ae,e as k}from"./index-xvPUEXLW.js";import{C as le}from"./CompactDatePicker-xqVnbMy9.js";import"./createVueComponent-mtWgRR3y.js";const oe={class:"reports"},ne={class:"page-header"},se={class:"header-actions"},re={class:"card-header"},de={class:"card-content"},ue={class:"card-header"},ie={class:"card-content"},ce={class:"card-header"},pe={class:"card-content"},_e={class:"card-header"},me={class:"card-content"},fe={class:"card-header"},ve={class:"card-header"},ge={class:"pagination-container"},ye={__name:"Reports",setup(he){const b=X(),_=ref(!1),x=ref(null),R=ref("monthly"),T=ref("income"),C=ref(1),w=ref(10),N=ref(0),$=o=>{x.value=o,P()},S=ref([{date:"2024-03-15",category:"Tuition",description:"Tuition Payment",type:"income",amount:5e3,balance:5e3},{date:"2024-03-14",category:"Utilities",description:"Utility Bill",type:"expense",amount:500,balance:4500}]),m=computed(()=>S.value.filter(o=>o.type==="income").reduce((o,a)=>o+a.amount,0)),V=computed(()=>S.value.filter(o=>o.type==="expense").reduce((o,a)=>o+a.amount,0)),f=computed(()=>m.value-V.value),z=computed(()=>m.value===0?0:f.value/m.value*100),i=o=>o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),I=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),P=async()=>{try{_.value=!0,await new Promise(o=>setTimeout(o,1e3)),b.success("Report generated successfully")}catch{b.error("Failed to generate report")}finally{_.value=!1}},A=async()=>{try{_.value=!0,await new Promise(o=>setTimeout(o,1e3)),b.success("Report exported successfully")}catch{b.error("Failed to export report")}finally{_.value=!1}},L=o=>{w.value=o,P()},q=o=>{C.value=o,P()};return(o,a)=>{const H=r("Download"),v=r("el-icon"),Q=r("el-button"),g=r("el-tag"),U=r("Money"),D=r("el-statistic"),c=r("el-card"),p=r("el-col"),Y=r("TrendCharts"),B=r("el-row"),E=r("el-radio-button"),j=r("el-radio-group"),F=r("el-option"),G=r("el-select"),y=r("el-table-column"),J=r("el-table"),K=r("el-pagination"),O=Z("loading");return M(),ee("div",oe,[l("div",ne,[a[6]||(a[6]=l("h2",null,"Financial Reports",-1)),l("div",se,[e(le,{modelValue:s(x),"onUpdate:modelValue":a[0]||(a[0]=n=>h(x)?x.value=n:null),placeholder:"",onChange:$},null,8,["modelValue"]),e(Q,{type:"primary",onClick:A},{default:t(()=>[e(v,null,{default:t(()=>[e(H)]),_:1}),a[5]||(a[5]=u(" Export Report ",-1))]),_:1})])]),e(B,{gutter:20,class:"summary-cards"},{default:t(()=>[e(p,{span:6},{default:t(()=>[e(c,{shadow:"hover"},{header:t(()=>[l("div",re,[a[7]||(a[7]=l("span",null,"Total Revenue",-1)),e(g,{type:"success"},{default:t(()=>[u("+$"+d(i(s(m))),1)]),_:1})])]),default:t(()=>[l("div",de,[e(D,{value:i(s(m))},{prefix:t(()=>[e(v,null,{default:t(()=>[e(U)]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1}),e(p,{span:6},{default:t(()=>[e(c,{shadow:"hover"},{header:t(()=>[l("div",ue,[a[8]||(a[8]=l("span",null,"Total Expenses",-1)),e(g,{type:"danger"},{default:t(()=>[u("-$"+d(i(s(V))),1)]),_:1})])]),default:t(()=>[l("div",ie,[e(D,{value:i(s(V))},{prefix:t(()=>[e(v,null,{default:t(()=>[e(U)]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1}),e(p,{span:6},{default:t(()=>[e(c,{shadow:"hover"},{header:t(()=>[l("div",ce,[a[9]||(a[9]=l("span",null,"Net Profit",-1)),e(g,{type:s(f)>=0?"success":"danger"},{default:t(()=>[u(d(s(f)>=0?"+":"-")+"$"+d(i(Math.abs(s(f)))),1)]),_:1},8,["type"])])]),default:t(()=>[l("div",pe,[e(D,{value:i(s(f))},{prefix:t(()=>[e(v,null,{default:t(()=>[e(U)]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1}),e(p,{span:6},{default:t(()=>[e(c,{shadow:"hover"},{header:t(()=>[l("div",_e,[a[10]||(a[10]=l("span",null,"Profit Margin",-1)),e(g,{type:s(z)>=0?"success":"danger"},{default:t(()=>[u(d(s(z).toFixed(2))+"% ",1)]),_:1},8,["type"])])]),default:t(()=>[l("div",me,[e(D,{value:s(z).toFixed(2),suffix:"%"},{prefix:t(()=>[e(v,null,{default:t(()=>[e(Y)]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1})]),_:1}),e(B,{gutter:20,class:"charts"},{default:t(()=>[e(p,{span:12},{default:t(()=>[e(c,{class:"chart-card"},{header:t(()=>[l("div",fe,[a[14]||(a[14]=l("span",null,"Revenue vs Expenses",-1)),e(j,{modelValue:s(R),"onUpdate:modelValue":a[1]||(a[1]=n=>h(R)?R.value=n:null),size:"small"},{default:t(()=>[e(E,{label:"monthly"},{default:t(()=>[...a[11]||(a[11]=[u("Monthly",-1)])]),_:1}),e(E,{label:"quarterly"},{default:t(()=>[...a[12]||(a[12]=[u("Quarterly",-1)])]),_:1}),e(E,{label:"yearly"},{default:t(()=>[...a[13]||(a[13]=[u("Yearly",-1)])]),_:1})]),_:1},8,["modelValue"])])]),default:t(()=>[a[15]||(a[15]=l("div",{class:"chart-container"},[l("div",{class:"placeholder-chart"},"Revenue vs Expenses Chart")],-1))]),_:1})]),_:1}),e(p,{span:12},{default:t(()=>[e(c,{class:"chart-card"},{header:t(()=>[...a[16]||(a[16]=[l("div",{class:"card-header"},[l("span",null,"Expense Categories")],-1)])]),default:t(()=>[a[17]||(a[17]=l("div",{class:"chart-container"},[l("div",{class:"placeholder-chart"},"Expense Categories Chart")],-1))]),_:1})]),_:1})]),_:1}),e(c,{class:"report-table"},{header:t(()=>[l("div",ve,[a[18]||(a[18]=l("span",null,"Detailed Report",-1)),e(G,{modelValue:s(T),"onUpdate:modelValue":a[2]||(a[2]=n=>h(T)?T.value=n:null),placeholder:"Select Report Type"},{default:t(()=>[e(F,{label:"Income Statement",value:"income"}),e(F,{label:"Balance Sheet",value:"balance"}),e(F,{label:"Cash Flow",value:"cash"})]),_:1},8,["modelValue"])])]),default:t(()=>[te((M(),ae(J,{data:s(S),style:{width:"100%"}},{default:t(()=>[e(y,{prop:"date",label:"Date",width:"120"},{default:t(({row:n})=>[u(d(I(n.date)),1)]),_:1}),e(y,{prop:"category",label:"Category",width:"150"},{default:t(({row:n})=>[e(g,null,{default:t(()=>[u(d(n.category),1)]),_:2},1024)]),_:1}),e(y,{prop:"description",label:"Description"}),e(y,{prop:"amount",label:"Amount",width:"150"},{default:t(({row:n})=>[l("span",{class:k(n.type==="income"?"income":"expense")},d(n.type==="income"?"+":"-")+"$"+d(i(n.amount)),3)]),_:1}),e(y,{prop:"balance",label:"Balance",width:"150"},{default:t(({row:n})=>[l("span",{class:k(n.balance>=0?"income":"expense")},d(n.balance>=0?"+":"-")+"$"+d(i(Math.abs(n.balance))),3)]),_:1})]),_:1},8,["data"])),[[O,s(_)]]),l("div",ge,[e(K,{"current-page":s(C),"onUpdate:currentPage":a[3]||(a[3]=n=>h(C)?C.value=n:null),"page-size":s(w),"onUpdate:pageSize":a[4]||(a[4]=n=>h(w)?w.value=n:null),"page-sizes":[10,20,50,100],total:s(N),layout:"total, sizes, prev, pager, next",onSizeChange:L,onCurrentChange:q},null,8,["current-page","page-size","total"])])]),_:1})])}}},we=W(ye,[["__scopeId","data-v-9ee8dde5"]]);export{we as default};
