import{_ as q,H as G,l as d,c as K,y as n,N as Q,a as T,o as D,h as e,D as a,d as s,A as X,F as ee,z as te,i as c,f as ae,t as i,u as h,Y as le,Z as ne,U as oe,an as se,L as ce}from"./index-xvPUEXLW.js";import{C as ie}from"./CompactDatePicker-xqVnbMy9.js";import"./createVueComponent-mtWgRR3y.js";const de={class:"maintenance-container"},ue={class:"card-header"},re={class:"header-actions"},pe={class:"filters-section"},_e={class:"expanded-row"},me={class:"facility-info"},fe={class:"facility-details"},ve={class:"facility-name"},ge={class:"facility-type"},ye={class:"pagination-container"},be={__name:"Maintenance",setup(he){const f=G(),M=d([{id:1,facilityName:"Computer Lab 1",facilityType:"Laboratory",image:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",location:"Block A, Room 101",scheduledDate:"2024-05-10",completionDate:"2024-05-12",status:"Scheduled",maintenanceType:"Routine",priority:"High",assignedTo:"John Smith",notes:"Regular maintenance check"}]),k=d(!1),v=d(""),g=d(""),y=d(""),b=d(1),C=d(10),z=d(100),V=[{value:"lab1",label:"Computer Lab 1"},{value:"lab2",label:"Computer Lab 2"},{value:"class1",label:"Classroom 1"},{value:"class2",label:"Classroom 2"}],N=K(()=>M.value.filter(o=>{const l=!v.value||o.facilityName===v.value,u=!g.value||o.status.toLowerCase()===g.value,r=!y.value||o.scheduledDate===y.value;return l&&u&&r})),L=o=>{switch(o.toLowerCase()){case"scheduled":return"warning";case"in_progress":return"primary";case"completed":return"success";case"cancelled":return"danger";default:return"info"}},B=()=>{f.info("Add maintenance functionality to be implemented")},A=()=>{f.info("Export functionality to be implemented")},x=()=>{b.value=1},E=o=>{f.info(`Edit maintenance for ${o.facilityName}`)},F=o=>{ce.confirm(`Are you sure you want to delete maintenance record for ${o.facilityName}?`,"Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{f.success("Maintenance record deleted")}).catch(()=>{})},U=o=>{C.value=o},P=o=>{b.value=o};return(o,l)=>{const u=n("el-icon"),r=n("el-button"),m=n("el-option"),S=n("el-select"),w=n("el-col"),$=n("el-row"),p=n("el-descriptions-item"),R=n("el-descriptions"),_=n("el-table-column"),H=n("el-avatar"),I=n("el-tag"),Y=n("el-button-group"),j=n("el-table"),J=n("el-pagination"),O=n("el-card"),W=Q("loading");return D(),T("div",de,[e(O,{class:"maintenance-card"},{header:a(()=>[s("div",ue,[l[7]||(l[7]=s("h2",{class:"title"},"Maintenance Management",-1)),s("div",re,[e(r,{type:"primary",onClick:B},{default:a(()=>[e(u,null,{default:a(()=>[e(h(oe))]),_:1}),l[5]||(l[5]=c(" Schedule Maintenance ",-1))]),_:1}),e(r,{type:"success",onClick:A},{default:a(()=>[e(u,null,{default:a(()=>[e(h(se))]),_:1}),l[6]||(l[6]=c(" Export ",-1))]),_:1})])])]),default:a(()=>[s("div",pe,[e($,{gutter:20},{default:a(()=>[e(w,{span:6},{default:a(()=>[e(S,{modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=t=>v.value=t),placeholder:"Select Facility",clearable:"",onChange:x},{default:a(()=>[(D(),T(ee,null,te(V,t=>e(m,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(w,{span:6},{default:a(()=>[e(S,{modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=t=>g.value=t),placeholder:"Maintenance Status",clearable:"",onChange:x},{default:a(()=>[e(m,{label:"Scheduled",value:"scheduled"}),e(m,{label:"In Progress",value:"in_progress"}),e(m,{label:"Completed",value:"completed"}),e(m,{label:"Cancelled",value:"cancelled"})]),_:1},8,["modelValue"])]),_:1}),e(w,{span:6},{default:a(()=>[e(ie,{modelValue:y.value,"onUpdate:modelValue":l[2]||(l[2]=t=>y.value=t),placeholder:""},null,8,["modelValue"]),l[8]||(l[8]=c(' @change="handleDateChange" /> ',-1))]),_:1})]),_:1})]),X((D(),ae(j,{data:N.value,style:{width:"100%"},border:"",stripe:""},{default:a(()=>[e(_,{type:"expand"},{default:a(t=>[s("div",_e,[e(R,{column:2,border:""},{default:a(()=>[e(p,{label:"Facility Type"},{default:a(()=>[c(i(t.row.facilityType),1)]),_:2},1024),e(p,{label:"Location"},{default:a(()=>[c(i(t.row.location),1)]),_:2},1024),e(p,{label:"Maintenance Type"},{default:a(()=>[c(i(t.row.maintenanceType),1)]),_:2},1024),e(p,{label:"Priority"},{default:a(()=>[c(i(t.row.priority),1)]),_:2},1024),e(p,{label:"Assigned To"},{default:a(()=>[c(i(t.row.assignedTo),1)]),_:2},1024),e(p,{label:"Notes"},{default:a(()=>[c(i(t.row.notes),1)]),_:2},1024)]),_:2},1024)])]),_:1}),e(_,{label:"Facility","min-width":"200"},{default:a(({row:t})=>[s("div",me,[e(H,{size:32,src:t.image},null,8,["src"]),s("div",fe,[s("div",ve,i(t.facilityName),1),s("div",ge,i(t.facilityType),1)])])]),_:1}),e(_,{prop:"scheduledDate",label:"Scheduled Date",width:"150"}),e(_,{prop:"completionDate",label:"Completion Date",width:"150"}),e(_,{label:"Status",width:"120"},{default:a(({row:t})=>[e(I,{type:L(t.status)},{default:a(()=>[c(i(t.status),1)]),_:2},1032,["type"])]),_:1}),e(_,{label:"Actions",width:"200",fixed:"right"},{default:a(({row:t})=>[e(Y,null,{default:a(()=>[e(r,{type:"primary",size:"small",onClick:Z=>E(t)},{default:a(()=>[e(u,null,{default:a(()=>[e(h(le))]),_:1})]),_:1},8,["onClick"]),e(r,{type:"danger",size:"small",onClick:Z=>F(t)},{default:a(()=>[e(u,null,{default:a(()=>[e(h(ne))]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[W,k.value]]),s("div",ye,[e(J,{"current-page":b.value,"onUpdate:currentPage":l[3]||(l[3]=t=>b.value=t),"page-size":C.value,"onUpdate:pageSize":l[4]||(l[4]=t=>C.value=t),"page-sizes":[10,20,50,100],total:z.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:U,onCurrentChange:P},null,8,["current-page","page-size","total"])])]),_:1})])}}},xe=q(be,[["__scopeId","data-v-09afe0fb"]]);export{xe as default};
