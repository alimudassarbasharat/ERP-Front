import{l as n,_ as ls,H as rs,c as _,w as as,p as ns,a,o as r,d as t,A as x,b as f,C as Xe,t as c,e as D,h as Ye,J as k,K as y,B as Le,F as w,z as A,i as g,f as Ie,az as et,a8 as is,R as m,L as tt,v as ds}from"./index-xvPUEXLW.js";import{T as st}from"./TableLoader-DpFqaoeq.js";import{P as ot}from"./Pagination-HhCy8CrH.js";function us(){const Pe=n(0),S=n(!1),j=()=>{Pe.value++};return{listKey:Pe,isLoading:S,withAnimation:async E=>{S.value=!0;try{await E(),j()}finally{S.value=!1}}}}const cs={class:"relative w-full min-h-screen pl-0 pr-0 sm:pl-0 sm:pr-0 lg:pl-1 lg:pr-0 py-2 sm:py-3 lg:py-4",key:"class-list-root"},ps={class:"relative z-10 w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-4 sm:mb-6"},vs={class:"bg-white/90 rounded-xl shadow-lg p-4 sm:p-6 hover:shadow-xl transition-all duration-300 transform hover:scale-105"},ms={class:"flex items-center justify-between"},fs={class:"text-2xl sm:text-3xl font-bold text-indigo-600"},xs={class:"bg-white/90 rounded-xl shadow-lg p-4 sm:p-6 hover:shadow-xl transition-all duration-300 transform hover:scale-105"},gs={class:"flex items-center justify-between"},bs={class:"text-2xl sm:text-3xl font-bold text-purple-600"},hs={class:"bg-white/90 rounded-xl shadow-lg p-4 sm:p-6 hover:shadow-xl transition-all duration-300 transform hover:scale-105"},ws={class:"flex items-center justify-between"},ys={class:"text-2xl sm:text-3xl font-bold text-pink-600"},ks={class:"relative z-10 w-full mb-4 sm:mb-6"},Cs={class:"bg-white rounded-lg shadow-lg p-1 flex flex-col sm:flex-row border border-gray-200"},_s={class:"hidden sm:inline"},Ss={class:"hidden sm:inline"},js={class:"hidden sm:inline"},As={class:"relative z-10 w-full"},Ms={key:0,class:"w-full"},Fs={class:"relative z-10 w-full rounded-lg transition-all duration-500 ease-in-out transform hover:shadow-lg bg-white p-4 mb-6"},Bs={class:"flex flex-wrap items-end gap-x-4 gap-y-3"},Es={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},$s={class:"relative"},zs={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},Vs={class:"relative"},Ns=["disabled"],Us={key:0,value:"",disabled:""},Ds=["value"],Hs={class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},Ls={key:0,class:"w-4 h-4 text-purple-500 animate-spin",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},Ps={key:1,class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},Ts={class:"flex justify-end mt-3"},qs={class:"flex items-center gap-2"},Os=["disabled"],Qs={class:"relative z-10 w-full flex items-center justify-between mb-6 mt-8"},Gs={class:"flex flex-col items-start"},Ks={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},Zs={class:"relative z-10 w-full"},Js={class:"border border-gray-200 rounded-xl p-8 bg-white shadow-sm overflow-hidden"},Rs={key:1,class:"overflow-x-auto"},Ws={class:"min-w-full"},Xs={class:"bg-gradient-to-r from-indigo-50 to-purple-50"},Ys={class:"flex items-center gap-1"},Is={class:"flex flex-col ml-1"},eo={key:0,class:"w-3 h-3 text-purple-500 transform -rotate-180",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},to={key:1,class:"w-3 h-3 text-purple-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},so={key:2,class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},oo={class:"flex items-center gap-1"},lo={class:"flex flex-col ml-1"},ro={key:0,class:"w-3 h-3 text-purple-500 transform -rotate-180",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},ao={key:1,class:"w-3 h-3 text-purple-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},no={key:2,class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},io={class:"flex items-center gap-1"},uo={class:"flex flex-col ml-1"},co={key:0,class:"w-3 h-3 text-purple-500 transform -rotate-180",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},po={key:1,class:"w-3 h-3 text-purple-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},vo={key:2,class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},mo={class:"py-2 px-2 text-gray-900 font-normal text-xs"},fo={class:"py-2 px-2"},xo={class:"flex items-center gap-3"},go={class:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-sm font-medium"},bo={class:"text-sm font-medium text-gray-900"},ho={class:"text-xs text-gray-500"},wo={class:"py-2 px-2 text-gray-900 font-normal text-sm max-w-xs"},yo=["title"],ko={class:"py-2 px-2"},Co={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},_o={class:"py-2 px-2 text-center"},So={class:"flex items-center justify-center gap-2"},jo={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},Ao=["onClick"],Mo={class:"py-2 px-2"},Fo={class:"flex items-center justify-center gap-2"},Bo=["onClick"],Eo=["onClick"],$o=["onClick"],zo={key:2,class:"p-8"},Vo={class:"flex flex-col items-center justify-center py-12"},No={class:"text-center max-w-sm"},Uo={class:"text-gray-500 text-sm font-normal leading-relaxed mb-4"},Do={key:1,class:"relative z-10 w-full"},Ho={key:0,class:"relative z-10 w-full"},Lo={key:1},Po={class:"relative z-10 w-full rounded-lg transition-all duration-500 ease-in-out transform hover:shadow-lg bg-white p-4 mb-6"},To={class:"flex flex-wrap items-end gap-x-4 gap-y-3"},qo={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},Oo={class:"relative"},Qo={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},Go={class:"relative"},Ko=["value"],Zo={class:"flex justify-end mt-3"},Jo={class:"flex items-center gap-2"},Ro=["disabled"],Wo={class:"relative z-10 w-full flex items-center justify-between mb-6 mt-8"},Xo={class:"flex flex-col items-start"},Yo={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},Io={class:"relative z-10 w-full"},el={class:"border border-gray-200 rounded-xl p-8 bg-white shadow-sm overflow-hidden"},tl={key:1,class:"overflow-x-auto"},sl={class:"min-w-full"},ol={class:"py-2 px-2 text-gray-900 font-normal text-xs"},ll={class:"py-2 px-2"},rl={class:"flex items-center gap-2"},al={class:"w-7 h-7 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-xs font-medium"},nl={class:"text-xs font-medium text-gray-900"},il={class:"py-2 px-2 text-gray-900 font-normal text-xs max-w-xs"},dl=["title"],ul={class:"py-2 px-2 text-center"},cl={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},pl={class:"py-2 px-2"},vl=["onClick"],ml=["onClick"],fl=["onClick"],xl={key:2,class:"text-center py-16"},gl={key:2,class:"relative z-10 w-full"},bl={class:"relative z-10 w-full rounded-lg transition-all duration-500 ease-in-out transform hover:shadow-lg bg-white p-4 mb-6"},hl={class:"flex flex-wrap items-end gap-x-4 gap-y-3"},wl={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},yl={class:"relative"},kl={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},Cl={class:"relative"},_l=["value"],Sl={class:"flex justify-end mt-3"},jl={class:"flex items-center gap-2"},Al=["disabled"],Ml={class:"relative z-10 w-full flex items-center justify-between mb-6 mt-8"},Fl={class:"flex flex-col items-start"},Bl={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},El={class:"relative z-10 w-full"},$l={class:"border border-gray-200 rounded-xl p-8 bg-white shadow-sm overflow-hidden"},zl={key:1,class:"overflow-x-auto"},Vl={class:"min-w-full"},Nl={class:"py-2 px-2 text-gray-900 font-normal text-xs"},Ul={class:"py-2 px-2"},Dl={class:"flex items-center gap-2"},Hl={class:"w-7 h-7 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center text-white text-xs font-medium"},Ll={class:"text-xs font-medium text-gray-900"},Pl={class:"py-2 px-2 text-center"},Tl={class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},ql={class:"py-2 px-2 text-center text-xs text-gray-500"},Ol={class:"py-2 px-2"},Ql={class:"flex items-center justify-center gap-1"},Gl=["onClick"],Kl=["onClick"],Zl={key:2,class:"text-center py-16"},Jl={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Rl={class:"px-6 py-4 border-b border-gray-200"},Wl={class:"flex items-center justify-between"},Xl={class:"text-lg font-semibold text-gray-900"},Yl={class:"flex flex-col w-full"},Il={class:"relative"},er={class:"flex flex-col w-full"},tr={class:"relative"},sr={class:"flex flex-col w-full"},or={class:"relative"},lr=["value"],rr={class:"space-y-3 max-h-96 overflow-y-auto pr-2"},ar={class:"flex items-center justify-between mb-2"},nr={class:"text-xs font-semibold text-gray-500"},ir=["onClick"],dr={class:"flex flex-col w-full"},ur={class:"relative"},cr=["onUpdate:modelValue"],pr={class:"flex flex-col w-full"},vr={class:"relative"},mr=["onUpdate:modelValue"],fr={class:"flex gap-3 pt-4"},xr={type:"submit",class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300"},gr={class:"px-6 py-4 border-b border-gray-200"},br={class:"flex items-center justify-between"},hr={class:"text-lg font-semibold text-gray-900"},wr={class:"flex flex-col w-full"},yr={class:"relative"},kr={class:"flex flex-col w-full"},Cr={class:"relative"},_r={class:"space-y-3 max-h-96 overflow-y-auto pr-2"},Sr={class:"flex items-center justify-between mb-2"},jr={class:"text-xs font-semibold text-gray-500"},Ar=["onClick"],Mr={class:"flex flex-col w-full"},Fr={class:"relative"},Br=["onUpdate:modelValue","onInput"],Er={class:"flex flex-col w-full"},$r={class:"relative"},zr=["onUpdate:modelValue"],Vr={class:"flex gap-3 pt-4"},Nr={type:"submit",class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300"},Ur={class:"p-6 space-y-4"},Dr={class:"flex-1 flex flex-col"},Hr={class:"relative"},Lr=["onUpdate:modelValue"],Pr=["onClick"],Tr={class:"flex gap-3 pt-4"},qr={class:"px-4 py-3 border-b border-gray-200 flex-shrink-0"},Or={class:"text-base font-semibold text-gray-900"},Qr={class:"flex border-b border-gray-200 flex-shrink-0"},Gr={class:"flex-1 overflow-y-auto p-4"},Kr={key:0,class:"space-y-4"},Zr={class:"flex items-center gap-2 mb-3"},Jr={class:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto"},Rr=["value"],Wr={class:"text-xs"},Xr={key:0,class:"text-center py-8 text-gray-500 text-sm"},Yr={key:1,class:"space-y-4"},Ir={class:"flex items-center gap-2 mb-3"},ea={class:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto"},ta=["value"],sa={class:"text-xs"},oa={key:0,class:"text-center py-8 text-gray-500 text-sm"},la={class:"px-4 py-3 border-t border-gray-200 flex gap-3 flex-shrink-0"},ra={class:"px-6 py-4 border-b border-gray-200"},aa={class:"text-lg font-semibold text-gray-900"},na={class:"p-6"},ia={key:0,class:"space-y-2"},da={class:"text-sm font-medium text-gray-900"},ua={key:1,class:"text-center py-8"},ca={class:"pt-6"},pa={class:"px-6 py-4 border-b border-gray-200"},va={class:"text-lg font-semibold text-gray-900"},ma={class:"flex flex-col w-full"},fa={class:"relative"},xa={class:"flex gap-3 pt-4"},ga={type:"submit",class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300"},ba={class:"flex-1 overflow-y-auto p-4"},ha={class:"mb-4"},wa={class:"px-4 py-3 border-t border-gray-200 flex gap-3 flex-shrink-0"},ya={class:"flex-1 overflow-y-auto p-4"},ka={class:"mb-4"},Ca={class:"px-4 py-3 border-t border-gray-200 flex gap-3 flex-shrink-0"},_a={class:"px-4 py-3 border-b border-gray-200 flex-shrink-0"},Sa={class:"text-base font-semibold text-gray-900"},ja={class:"flex-1 overflow-y-auto p-4"},Aa={class:"flex items-center gap-2 mb-3"},Ma={class:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto"},Fa=["value"],Ba={class:"text-xs"},Ea={key:0,class:"text-center py-8 text-gray-500 text-sm"},$a={class:"px-4 py-3 border-t border-gray-200 flex gap-3 flex-shrink-0"},za={__name:"ClassList",setup(Pe){const S=n("classes");n();const j=n({name:"",description:"",section_id:""}),O=n(!1),E=n(!1),be=n(null),{withAnimation:ae}=us(),Te=n(!1),ne=n(!1),lt=n(!1),ie=n(!1),de=n([]),H=n({className:"",section:""}),Q=n("name"),L=n("asc"),I=n(1),he=n(10),we=n(0),ue=n(!1),C=n(0),ye=n(0),ke=n(0),F=n([]),P=n({search:"",class_id:""}),ee=n(1),Ce=n(10),Ve=n(0),$=n([]),G=n({search:"",class_id:""}),te=n(1),_e=n(10),ce=n(0),pe=n(!1),T=n(!1),Se=n(null);n();const B=n({name:"",description:"",class_id:""}),qe=n([]),z=n(!1),V=n([{name:"",description:""}]);n(null),n([]);const je=n(!1),J=n([""]),ve=n(!1),se=n(!1),Ae=n(null),R=n({name:""}),Me=n(!1),W=n("subjects"),Ne=n(null),oe=n([]),le=n([]),Fe=n(""),Be=n(""),Ue=n([]),De=n(!1),rt=n(null),Ee=n([]),K=n(!1),Oe=n(null),re=n([]),$e=n(""),He=n([]),Qe=n(!1),me=n(""),X=n(null),Ge=n(!1),fe=n(""),Y=n(null),N=n(!1),q=n([{name:"",description:""}]),d=rs(),vt=_(()=>Math.ceil(we.value/he.value)),mt=_(()=>Math.ceil(Ve.value/Ce.value)),ft=_(()=>Math.ceil(ce.value/_e.value)),Ke=_(()=>C.value||we.value||de.value.length),Ze=_(()=>ye.value||Ve.value||F.value.length),Je=_(()=>ke.value||ce.value||$.value.length),xt=_(()=>H.value.className.trim()!==""||H.value.section!==""),gt=_(()=>P.value.search.trim()!==""||P.value.class_id!==""),bt=_(()=>G.value.search.trim()!==""||G.value.class_id!=="");_(()=>{const s=[],e=vt.value,i=I.value;if(e<=7)for(let l=1;l<=e;l++)s.push(l);else if(i<=4){for(let l=1;l<=5;l++)s.push(l);s.push("...",e)}else if(i>=e-3){s.push(1,"...");for(let l=e-4;l<=e;l++)s.push(l)}else{s.push(1,"...");for(let l=i-1;l<=i+1;l++)s.push(l);s.push("...",e)}return s.filter(l=>l!=="...")}),_(()=>{const s=[],e=mt.value,i=ee.value;if(e<=7)for(let l=1;l<=e;l++)s.push(l);else if(i<=4){for(let l=1;l<=5;l++)s.push(l);s.push("...",e)}else if(i>=e-3){s.push(1,"...");for(let l=e-4;l<=e;l++)s.push(l)}else{s.push(1,"...");for(let l=i-1;l<=i+1;l++)s.push(l);s.push("...",e)}return s.filter(l=>l!=="...")}),_(()=>{const s=[],e=ft.value,i=te.value;if(e<=7)for(let l=1;l<=e;l++)s.push(l);else if(i<=4){for(let l=1;l<=5;l++)s.push(l);s.push("...",e)}else if(i>=e-3){s.push(1,"...");for(let l=e-4;l<=e;l++)s.push(l)}else{s.push(1,"...");for(let l=i-1;l<=i+1;l++)s.push(l);s.push("...",e)}return s.filter(l=>l!=="...")});const M=async(s=!1)=>{var e,i,l,p;s&&(I.value=1);try{ue.value=!0;const o=await m.get("/classes",{params:{page:I.value,per_page:he.value,search:(e=H.value.className)==null?void 0:e.trim(),section_id:H.value.section,sort_by:Q.value,sort_direction:L.value}});if(o.data.success){const u=o.data.result;de.value=u.data||[],we.value=u.total||0,C.value===0&&(C.value=u.total||((i=u.data)==null?void 0:i.length)||0)}else d.error(o.data.message||"Failed to fetch classes")}catch(o){console.error("Error fetching classes:",o),d.error(((p=(l=o.response)==null?void 0:l.data)==null?void 0:p.message)||"Failed to fetch classes")}finally{ue.value=!1}},U=async(s=!0,e=!1,i=!1)=>{var l,p,o,u;i&&(ee.value=1),s&&!e&&(Te.value=!0),e&&(ne.value=!0);try{const v=await m.get("/sections",{params:{page:ee.value,per_page:Ce.value,search:(l=P.value.search)==null?void 0:l.trim(),class_id:P.value.class_id||void 0,sort_by:"name",sort_direction:"asc"}});if(v.data.success){const b=v.data.result;F.value=b.data||[],Ve.value=b.total||0,ye.value===0&&(ye.value=b.total||((p=b.data)==null?void 0:p.length)||0)}else d.error(v.data.message||"Failed to fetch sections")}catch(v){console.error("Error fetching sections:",v),d.error(((u=(o=v.response)==null?void 0:o.data)==null?void 0:u.message)||"Failed to fetch sections")}finally{s&&!e&&(Te.value=!1),e&&(ne.value=!1)}},Z=async(s=!0,e=!1,i=!1)=>{var l,p;i&&(te.value=1),s&&!e&&(lt.value=!0),e&&(ie.value=!0);try{const o=await m.get("/subjects",{params:{page:te.value,per_page:_e.value,search:(l=G.value.search)==null?void 0:l.trim(),sort_by:"name",sort_direction:"asc"}});if(o.data.status&&o.data.result){const u=o.data.result;$.value=u.data||[],ce.value=u.total||0,ke.value===0&&(ke.value=u.total||((p=u.data)==null?void 0:p.length)||0)}else $.value=[],ce.value=0;$.value.forEach(u=>{u.classes_count})}catch(o){console.error("Error fetching subjects:",o),$.value=[],ce.value=0}finally{s&&!e&&(lt.value=!1),e&&(ie.value=!1)}},ht=async()=>{var s,e,i,l,p,o;if(N.value&&!E.value){const u=q.value.filter(v=>v.name.trim());if(u.length===0){d.error("Please add at least one class with name");return}try{const v=u.map(h=>({name:h.name.trim(),description:h.description.trim()||null})),b=await m.post("/classes/bulk-store",{classes:v});if(b.data.success){const h=b.data.result;d.success(`Successfully created ${h.success_count} class(es)${h.failed_count>0?`, ${h.failed_count} failed`:""}`),O.value=!1,N.value=!1,q.value=[{name:"",description:""}],C.value=(C.value||0)+h.success_count,await ae(M),await xe()}else d.error(b.data.message||"Failed to bulk create classes")}catch(v){if(console.error("Error bulk creating classes:",v),(e=(s=v.response)==null?void 0:s.data)!=null&&e.errors){const b=Object.values(v.response.data.errors)[0][0];d.error(b)}else d.error(((l=(i=v.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to bulk create classes")}return}if(!j.value.name.trim()){d.error("Class name is required");return}try{if(E.value&&be.value){const u=await m.post(`/classes/${be.value}/update`,j.value);u.data.success?(d.success("Class updated successfully!"),O.value=!1,await ae(M)):d.error(u.data.message||"Failed to update class")}else{const u=await m.post("/classes/store",j.value);u.data.success?(d.success("Class added successfully!"),O.value=!1,C.value=(C.value||0)+1,await ae(M),await xe()):d.error(u.data.message||"Failed to add class")}j.value={name:"",description:"",section_id:""},E.value=!1,be.value=null,N.value=!1}catch(u){console.error("Error submitting form:",u),d.error(((o=(p=u.response)==null?void 0:p.data)==null?void 0:o.message)||"Failed to submit form")}},Re=s=>{Q.value===s?L.value=L.value==="asc"?"desc":"asc":(Q.value=s,L.value="asc"),M()},wt=s=>{j.value={name:s.name,description:s.description,section_id:s.section_id},E.value=!0,be.value=s.id,O.value=!0},yt=async s=>{var i,l;if(await tt.confirm("Delete Class?",`Are you sure you want to delete "${s.name}"?`,s.name,{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}))try{const p=await m.post(`/classes/${s.id}/delete`);p.data.success?(d.success("Success!","Class deleted successfully."),C.value>0&&(C.value=C.value-1),await ae(M),await xe()):d.error("Error!",p.data.message||"Failed to delete class")}catch(p){console.error("Error deleting class:",p),d.error("Error!",((l=(i=p.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to delete class")}},kt=async()=>{var s,e,i,l,p,o,u,v;if(z.value&&!T.value){const b=V.value.filter(h=>h.name.trim()&&h.description.trim());if(b.length===0){d.error("Please add at least one section with name and description");return}try{const h=b.map(ge=>({name:ge.name.trim(),description:ge.description.trim(),status:"active"})),ze=await m.post("/sections/bulk-store",{sections:h});if(ze.data.success){const ge=ze.data.result;d.success(`Successfully created ${ge.success_count} section(s)${ge.failed_count>0?`, ${ge.failed_count} failed`:""}`),pe.value=!1,z.value=!1,V.value=[{name:"",description:""}],await U()}else d.error(ze.data.message||"Failed to bulk create sections")}catch(h){if(console.error("Error bulk creating sections:",h),(e=(s=h.response)==null?void 0:s.data)!=null&&e.errors){const ze=Object.values(h.response.data.errors)[0][0];d.error(ze)}else d.error(((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to bulk create sections")}return}if(!B.value.name.trim()||!B.value.description.trim()){d.error("Section name and description are required");return}try{let b;T.value&&Se.value?b=await m.post(`/sections/${Se.value}/update`,B.value):b=await m.post("/sections/store",B.value),b.data.success?(d.success(T.value?"Section updated successfully!":"Section added successfully!"),pe.value=!1,B.value={name:"",description:""},T.value=!1,Se.value=null,z.value=!1,await U()):d.error(b.data.message||"Failed to save section")}catch(b){if(console.error("Error submitting section form:",b),(o=(p=b.response)==null?void 0:p.data)!=null&&o.errors){const h=Object.values(b.response.data.errors)[0][0];d.error(h)}else d.error(((v=(u=b.response)==null?void 0:u.data)==null?void 0:v.message)||"Failed to add section")}},Ct=s=>{let e=s.target.value.replace(/[^a-zA-Z]/g,"").toUpperCase();B.value.name=e},_t=()=>{z.value=!z.value,z.value&&V.value.length===0&&(V.value=[{name:"",description:""}])},St=()=>{V.value.push({name:"",description:""})},jt=s=>{V.value.length>1&&V.value.splice(s,1)},At=(s,e)=>{let i=s.target.value.replace(/[^a-zA-Z]/g,"").toUpperCase();V.value[e].name=i},Mt=()=>{N.value=!N.value,N.value&&q.value.length===0&&(q.value=[{name:"",description:""}])},Ft=()=>{q.value.push({name:"",description:""})},Bt=s=>{q.value.length>1&&q.value.splice(s,1)},We=()=>{O.value=!1,pe.value=!1,ve.value=!1,E.value=!1,be.value=null,T.value=!1,Se.value=null,se.value=!1,Ae.value=null,B.value={name:"",description:"",class_id:""},R.value={name:""},j.value={name:"",description:"",section_id:""},z.value=!1,V.value=[{name:"",description:""}],N.value=!1,q.value=[{name:"",description:""}]},Et=s=>{B.value={name:s.name,description:s.description},T.value=!0,Se.value=s.id,pe.value=!0},$t=async s=>{var i,l;if(await tt.confirm("Delete Section?",`Are you sure you want to delete "${s.name}"?`,s.name,{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}))try{const p=await m.post(`/sections/${s.id}/delete`);p.data.success?(d.success("Success!","Section deleted successfully."),await U()):d.error("Error!",p.data.message||"Failed to delete section")}catch(p){console.error("Error deleting section:",p),d.error("Error!",((l=(i=p.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to delete section")}},zt=s=>Math.floor(Math.random()*5)+1,Vt=s=>{if(!s)return"N/A";try{return new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"N/A"}},Nt=s=>{R.value={name:s.name},se.value=!0,Ae.value=s.id,ve.value=!0},Ut=async()=>{var s,e,i,l;if(!R.value.name.trim()){d.error("Subject name is required");return}try{let p;se.value&&Ae.value?p=await m.post(`/subjects/${Ae.value}/update`,R.value):p=await m.post("/subjects/store",R.value),p.data.success||p.data.status?(d.success(se.value?"Subject updated successfully!":"Subject added successfully!"),ve.value=!1,R.value={name:""},se.value=!1,Ae.value=null,await Z()):d.error(p.data.message||"Failed to save subject")}catch(p){if(console.error("Error submitting subject form:",p),(e=(s=p.response)==null?void 0:s.data)!=null&&e.errors){const o=Object.values(p.response.data.errors)[0][0];d.error(o)}else d.error(((l=(i=p.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to save subject")}},Dt=async s=>{var i,l;if(await tt.confirm("Delete Subject?",`Are you sure you want to delete "${s.name}"?`,s.name,{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}))try{const p=await m.post(`/subjects/${s.id}/delete`);p.data.success?(d.success("Success!","Subject deleted successfully."),await Z()):d.error("Error!",p.data.message||"Failed to delete subject")}catch(p){console.error("Error deleting subject:",p),d.error("Error!",((l=(i=p.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to delete subject")}},Ht=()=>{J.value.push("")},Lt=s=>{J.value.splice(s,1)},Pt=async()=>{const s=J.value.map(e=>e.trim()).filter(Boolean);if(!s.length){d.error("Please enter at least one subject name");return}try{const e=await m.post("/subjects/bulk-store",{names:s});e.data.status||e.data.success?(d.success("Subjects added successfully!"),je.value=!1,J.value=[""],await Z()):d.error(e.data.message||"Failed to add subjects")}catch(e){console.error("Error adding subjects:",e),d.error("Failed to add subjects")}},at=_(()=>{if(!Fe.value)return $.value;const s=Fe.value.toLowerCase();return $.value.filter(e=>e.name.toLowerCase().includes(s))}),nt=_(()=>{if(!Be.value)return Ue.value;const s=Be.value.toLowerCase();return Ue.value.filter(e=>e.name.toLowerCase().includes(s))}),it=_(()=>{if(!$e.value)return He.value;const s=$e.value.toLowerCase();return He.value.filter(e=>e.name.toLowerCase().includes(s))}),Tt=async s=>{Ne.value=s,W.value="subjects",Fe.value="",Be.value="",Me.value=!0,await Promise.all([Z(),qt()]);try{const e=await m.get(`/classes/${s.id}`);e.data&&e.data.result?(e.data.result.subjects?oe.value=e.data.result.subjects.map(i=>i.id):oe.value=[],e.data.result.sections?le.value=e.data.result.sections.map(i=>i.id):le.value=[]):(oe.value=[],le.value=[])}catch(e){console.error("Error fetching class data:",e),oe.value=[],le.value=[]}},qt=async()=>{try{const s=await m.get("/sections",{params:{per_page:1e3}});s.data&&s.data.result&&s.data.result.data&&(Ue.value=s.data.result.data)}catch(s){console.error("Error fetching sections:",s),Ue.value=[]}},Ot=async()=>{W.value==="subjects"?await Qt():await Gt()},Qt=async()=>{try{const s=await m.post(`/classes/${Ne.value.id}/assign-subjects`,{subject_ids:oe.value});s.data.status||s.data.success?(d.success("Subjects assigned successfully!"),await M()):d.error(s.data.message||"Failed to assign subjects")}catch(s){console.error("Error assigning subjects:",s),d.error("Failed to assign subjects")}},Gt=async()=>{try{const s=await m.post(`/classes/${Ne.value.id}/assign-sections`,{section_ids:le.value});s.data.success?(d.success("Sections assigned successfully!"),Me.value=!1,await M()):d.error(s.data.message||"Failed to assign sections")}catch(s){console.error("Error assigning sections:",s),d.error("Failed to assign sections")}},Kt=async s=>{if(K.value){console.log("Modal already open, ignoring click");return}console.log("openAssignSectionModal called with:",s);try{if(!s){console.error("sectionRow is null or undefined"),d.error("Invalid section selected");return}if(!s.id){console.error("sectionRow.id is missing:",s),d.error("Invalid section selected");return}console.log("Opening assign modal for section:",s.id),Oe.value=s,$e.value="",re.value=[],K.value=!0,console.log("Modal state set to:",K.value),await ds(),console.log("After nextTick - modal should be visible now");const e=document.querySelector('[class*="z-[9999]"]');console.log("Modal element found:",e),e?console.log("Modal computed styles:",window.getComputedStyle(e)):console.error("Modal element NOT found in DOM!"),Zt().catch(i=>{console.error("Error fetching classes:",i),d.error("Failed to load classes")});try{const i=await m.get(`/sections/${s.id}`);i.data&&i.data.result&&i.data.result.classes?re.value=i.data.result.classes.map(l=>l.id):re.value=[]}catch(i){console.error("Error fetching section classes:",i),re.value=[]}}catch(e){console.error("Error opening assign section modal:",e),d.error("Failed to open assign modal"),K.value=!1}},Zt=async()=>{try{const s=await m.get("/classes",{params:{per_page:1e3}});s.data&&s.data.result&&s.data.result.data&&(He.value=s.data.result.data)}catch(s){console.error("Error fetching classes:",s),He.value=[]}},Jt=async()=>{try{const s=await m.post(`/sections/${Oe.value.id}/assign-classes`,{class_ids:re.value});s.data.success?(d.success("Classes assigned successfully!"),K.value=!1,await U()):d.error(s.data.message||"Failed to assign classes")}catch(s){console.error("Error assigning classes:",s),d.error("Failed to assign classes")}},Rt=async s=>{rt.value=s,De.value=!0;try{const e=await m.get(`/classes/${s.id}`);e.data&&e.data.result&&e.data.result.subjects?Ee.value=e.data.result.subjects:Ee.value=[]}catch(e){console.error("Error fetching class subjects:",e),Ee.value=[]}},Wt=async()=>{if(!me.value.trim()){d.error("Please enter at least one class name");return}const s=me.value.split(/[\n,]/).map(e=>e.trim()).filter(e=>e.length>0);if(s.length===0){d.error("No valid class names found");return}try{const e=s.map(l=>({name:l,description:`Class ${l}`})),i=await m.post("/classes/bulk-store",{classes:e});i.data.success?(X.value=i.data.result,d.success(`Created ${i.data.result.success_count} class(es)`),C.value=(C.value||0)+i.data.result.success_count,await M(),await xe(),setTimeout(()=>{me.value="",X.value=null},2e3)):d.error(i.data.message||"Failed to bulk add classes")}catch(e){console.error("Error bulk adding classes:",e),d.error("Failed to bulk add classes")}},Xt=async()=>{if(!fe.value.trim()){d.error("Please enter at least one section name");return}const s=fe.value.split(/[\n,]/).map(e=>e.trim()).filter(e=>e.length>0);if(s.length===0){d.error("No valid section names found");return}try{const e=s.map(l=>({name:l,description:`Section ${l}`,status:"active"})),i=await m.post("/sections/bulk-store",{sections:e});i.data.success?(Y.value=i.data.result,d.success(`Created ${i.data.result.success_count} section(s)`),await U(),setTimeout(()=>{fe.value="",Y.value=null},2e3)):d.error(i.data.message||"Failed to bulk add sections")}catch(e){console.error("Error bulk adding sections:",e),d.error("Failed to bulk add sections")}},dt=s=>{I.value=s,M()},ut=s=>{ee.value=s,U()},ct=s=>{te.value=s,Z()};as(S,s=>{s==="classes"?(I.value=1,F.value.length===0&&U(!1),ae(M)):s==="sections"?(ee.value=1,U(!1,!0)):s==="subjects"&&(te.value=1,Z(!1,!0))});const xe=async()=>{try{const s=await m.get("/statistics/counts");if(s.data.success){const e=s.data.result;C.value=e.classes||0,ye.value=e.sections||0,ke.value=e.subjects||0}else console.error("Failed to fetch counts:",s.data.message)}catch(s){console.error("Error fetching static counts:",s);try{const e=await m.get("/classes",{params:{per_page:1}});e.data.success&&(C.value=e.data.result.total||0);const i=await m.get("/sections",{params:{per_page:1}});i.data.success&&(ye.value=i.data.result.total||0);const l=await m.get("/subjects",{params:{per_page:1}});l.data.status&&(ke.value=l.data.result.total||0)}catch(e){console.error("Fallback count fetching also failed:",e)}}},Yt=()=>{H.value.className="",H.value.section="",M(!0)},It=()=>{P.value.search="",P.value.class_id="",U(!1,!0,!0)},es=()=>{G.value.search="",G.value.class_id="",Z(!1,!0,!0)},ts=()=>{M(!0)},pt=()=>{U(!1,!0,!0)},ss=()=>{Z(!1,!0,!0)},os=async()=>{try{const s=await m.get("/classes",{params:{per_page:1e3,sort_by:"name",sort_direction:"asc"}});s.data.success&&(qe.value=s.data.result.data||[])}catch(s){console.error("Error fetching classes for dropdown:",s)}};return ns(async()=>{try{await os(),await xe(),await Promise.all([ae(M),U(!1,!0),Z(!1,!0)]),C.value===0&&await xe()}catch(s){console.error("Error loading initial data:",s)}}),(s,e)=>{var i,l,p;return r(),a(w,null,[t("div",cs,[e[180]||(e[180]=Xe('<div class="relative z-10 w-full mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500 border border-gray-200" data-v-8387c41a><h2 class="text-base font-medium text-gray-900 tracking-tight flex items-center gap-2" data-v-8387c41a><div class="w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse" data-v-8387c41a></div> Class Management System </h2><nav class="flex items-center gap-2 text-base font-medium text-gray-600" data-v-8387c41a><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-8387c41a>Dashboard</span><span class="mx-2" data-v-8387c41a>|</span><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-8387c41a>Academic</span><span class="mx-2" data-v-8387c41a>|</span><span class="text-gray-900 font-bold" data-v-8387c41a>Class Management</span></nav></div>',1)),t("div",ps,[t("div",vs,[t("div",ms,[t("div",null,[e[59]||(e[59]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Total Classes",-1)),t("p",fs,c(Ke.value),1)]),e[60]||(e[60]=t("div",{class:"w-10 h-10 sm:w-12 sm:h-12 bg-indigo-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1))])]),t("div",xs,[t("div",gs,[t("div",null,[e[61]||(e[61]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Total Sections",-1)),t("p",bs,c(Ze.value),1)]),e[62]||(e[62]=t("div",{class:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1))])]),t("div",hs,[t("div",ws,[t("div",null,[e[63]||(e[63]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600"},"Active Subjects",-1)),t("p",ys,c(Je.value),1)]),e[64]||(e[64]=t("div",{class:"w-10 h-10 sm:w-12 sm:h-12 bg-pink-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1))])])]),t("div",ks,[t("div",Cs,[t("button",{onClick:e[0]||(e[0]=o=>S.value="classes"),class:D(["flex-1 py-2 sm:py-3 px-3 sm:px-6 rounded-md font-medium text-xs sm:text-sm transition-all duration-300",S.value==="classes"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md":"text-gray-600 hover:text-purple-600"])},[e[65]||(e[65]=t("span",{class:"hidden sm:inline"},"Classes",-1)),e[66]||(e[66]=t("span",{class:"sm:hidden"},"Classes",-1)),t("span",_s,"("+c(Ke.value)+")",1)],2),t("button",{onClick:e[1]||(e[1]=o=>S.value="sections"),class:D(["flex-1 py-2 sm:py-3 px-3 sm:px-6 rounded-md font-medium text-xs sm:text-sm transition-all duration-300",S.value==="sections"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md":"text-gray-600 hover:text-purple-600"])},[e[67]||(e[67]=t("span",{class:"hidden sm:inline"},"Sections",-1)),e[68]||(e[68]=t("span",{class:"sm:hidden"},"Sections",-1)),t("span",Ss,"("+c(Ze.value)+")",1)],2),t("button",{onClick:e[2]||(e[2]=o=>S.value="subjects"),class:D(["flex-1 py-2 sm:py-3 px-3 sm:px-6 rounded-md font-medium text-xs sm:text-sm transition-all duration-300",S.value==="subjects"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md":"text-gray-600 hover:text-purple-600"])},[e[69]||(e[69]=t("span",{class:"hidden sm:inline"},"Subjects",-1)),e[70]||(e[70]=t("span",{class:"sm:hidden"},"Subjects",-1)),t("span",js,"("+c(Je.value)+")",1)],2)])]),t("div",As,[S.value==="classes"?(r(),a("div",Ms,[e[106]||(e[106]=t("div",{class:"relative z-10 w-full mb-2"},[t("div",{class:"flex flex-col items-start"},[t("h3",{class:"text-base font-medium text-gray-900 tracking-tight"},"Filter Classes"),t("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-300",style:{"max-width":"110px"}})])],-1)),t("div",Fs,[t("form",{class:"w-full",onSubmit:k(ts,["prevent"])},[t("div",Bs,[t("div",Es,[e[72]||(e[72]=t("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Search",-1)),t("div",$s,[x(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>H.value.className=o),type:"text",placeholder:"Search by class name...",class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[y,H.value.className]]),e[71]||(e[71]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",zs,[e[77]||(e[77]=t("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Section",-1)),t("div",Vs,[x(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>H.value.section=o),class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8",disabled:F.value.length===0},[e[73]||(e[73]=t("option",{value:""},"All",-1)),F.value.length===0?(r(),a("option",Us,"Loading sections...")):f("",!0),(r(!0),a(w,null,A(F.value,o=>(r(),a("option",{key:o.id,value:o.id},c(o.name),9,Ds))),128))],8,Ns),[[Le,H.value.section]]),t("div",Hs,[F.value.length===0?(r(),a("svg",Ls,[...e[74]||(e[74]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(r(),a("svg",Ps,[...e[75]||(e[75]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])]))]),e[76]||(e[76]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]),t("div",Ts,[t("div",qs,[t("button",{onClick:Yt,type:"button",class:"h-9 px-6 bg-white hover:bg-white text-gray-900 text-sm font-medium rounded-full border border-gray-200 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2",disabled:!xt.value},[...e[78]||(e[78]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),g(" Clear ",-1)])],8,Os),t("button",{onClick:e[5]||(e[5]=o=>O.value=!0),type:"button",class:"h-9 px-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-sm font-medium rounded-full hover:from-green-600 hover:to-emerald-600 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[...e[79]||(e[79]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),g(" Add Class ",-1)])]),e[80]||(e[80]=t("button",{type:"submit",class:"h-9 px-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-medium rounded-full hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]),g(" Search ")],-1))])])],32)]),t("div",Qs,[t("div",Gs,[t("h3",Ks,[e[81]||(e[81]=t("div",{class:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 animate-bounce"},null,-1)),g(" Classes ("+c(Ke.value)+") ",1)]),e[82]||(e[82]=t("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-500",style:{"max-width":"120px"}},null,-1))])]),e[107]||(e[107]=t("div",{class:"relative z-10 w-full"},[t("div",{class:"h-[2px] w-full bg-purple-200 mb-4"})],-1)),t("div",Zs,[t("div",Js,[ue.value?(r(),Ie(st,{key:0})):!ue.value&&de.value.length>0?(r(),a("div",Rs,[t("table",Ws,[t("thead",Xs,[t("tr",null,[e[98]||(e[98]=t("th",{class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"#",-1)),t("th",{onClick:e[6]||(e[6]=o=>Re("name")),class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400 cursor-pointer select-none group transition-all duration-150 hover:bg-purple-50 relative"},[t("span",Ys,[e[86]||(e[86]=g(" Class Name ",-1)),t("span",Is,[Q.value==="name"&&L.value==="asc"?(r(),a("svg",eo,[...e[83]||(e[83]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])])):Q.value==="name"&&L.value==="desc"?(r(),a("svg",to,[...e[84]||(e[84]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])])):(r(),a("svg",so,[...e[85]||(e[85]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])]))])]),e[87]||(e[87]=t("span",{class:"absolute left-0 bottom-0 w-full h-0.5 bg-purple-100 opacity-0 group-hover:opacity-100 transition"},null,-1))]),t("th",{onClick:e[7]||(e[7]=o=>Re("description")),class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400 cursor-pointer select-none group transition-all duration-150 hover:bg-purple-50 relative"},[t("span",oo,[e[91]||(e[91]=g(" Description ",-1)),t("span",lo,[Q.value==="description"&&L.value==="asc"?(r(),a("svg",ro,[...e[88]||(e[88]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])])):Q.value==="description"&&L.value==="desc"?(r(),a("svg",ao,[...e[89]||(e[89]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])])):(r(),a("svg",no,[...e[90]||(e[90]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])]))])]),e[92]||(e[92]=t("span",{class:"absolute left-0 bottom-0 w-full h-0.5 bg-purple-100 opacity-0 group-hover:opacity-100 transition"},null,-1))]),t("th",{onClick:e[8]||(e[8]=o=>Re("section_id")),class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400 cursor-pointer select-none group transition-all duration-150 hover:bg-purple-50 relative"},[t("span",io,[e[96]||(e[96]=g(" Section ",-1)),t("span",uo,[Q.value==="section_id"&&L.value==="asc"?(r(),a("svg",co,[...e[93]||(e[93]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])])):Q.value==="section_id"&&L.value==="desc"?(r(),a("svg",po,[...e[94]||(e[94]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])])):(r(),a("svg",vo,[...e[95]||(e[95]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])]))])]),e[97]||(e[97]=t("span",{class:"absolute left-0 bottom-0 w-full h-0.5 bg-purple-100 opacity-0 group-hover:opacity-100 transition"},null,-1))]),e[99]||(e[99]=t("th",{class:"text-center py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},[t("span",{class:"flex items-center justify-center gap-1"}," Subjects ")],-1)),e[100]||(e[100]=t("th",{class:"text-center py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},[t("span",{class:"flex items-center justify-center gap-1"}," Actions ")],-1))])]),t("tbody",null,[(r(!0),a(w,null,A(de.value,(o,u)=>(r(),a("tr",{key:o.id,class:"hover:bg-indigo-50 transition-colors border-b border-purple-200"},[t("td",mo,c((I.value-1)*he.value+u+1),1),t("td",fo,[t("div",xo,[t("div",go,c(o.name.charAt(0).toUpperCase()),1),t("div",null,[t("div",bo,c(o.display_name||"Class "+o.name),1),t("div",ho,"Class ID: "+c(o.id),1)])])]),t("td",wo,[t("div",{class:"truncate",title:o.description},c(o.description||"No description"),9,yo)]),t("td",ko,[t("span",Co,c(o.section_name||"N/A"),1)]),t("td",_o,[t("div",So,[t("span",jo,c(o.subjects_count||0)+" Subjects ",1),t("button",{onClick:v=>Rt(o),class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 hover:bg-purple-200 transition-colors duration-200"}," View ",8,Ao)])]),t("td",Mo,[t("div",Fo,[t("button",{onClick:v=>wt(o),class:"px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-indigo-500 to-blue-600 text-white hover:from-indigo-600 hover:to-blue-700",title:"Edit Class"},[...e[101]||(e[101]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),g(" Edit ",-1)])],8,Bo),t("button",{onClick:v=>Tt(o),class:"px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700",title:"Assign Subjects & Sections"},[...e[102]||(e[102]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Assign ",-1)])],8,Eo),t("button",{onClick:v=>yt(o),class:"px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-red-500 to-rose-600 text-white hover:from-red-600 hover:to-rose-700",title:"Delete Class"},[...e[103]||(e[103]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),g(" Delete ",-1)])],8,$o)])])]))),128))])])])):!ue.value&&de.value.length===0?(r(),a("div",zo,[t("div",Vo,[e[105]||(e[105]=Xe('<div class="relative mb-6" data-v-8387c41a><div class="w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center" data-v-8387c41a><svg class="w-12 h-12 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-8387c41a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" data-v-8387c41a></path></svg></div><div class="absolute -top-2 -right-2 w-4 h-4 bg-purple-300 rounded-full animate-ping opacity-30" data-v-8387c41a></div><div class="absolute -bottom-2 -left-2 w-3 h-3 bg-indigo-300 rounded-full animate-pulse" data-v-8387c41a></div></div>',1)),t("div",No,[e[104]||(e[104]=t("h3",{class:"text-gray-600 font-medium text-xl mb-2"},"No Classes Found",-1)),t("p",Uo,c(we.value===0?'No classes have been created yet. Click "Add Class" to get started.':"No classes match your current filters. Try adjusting your search criteria."),1),t("button",{onClick:e[9]||(e[9]=o=>O.value=!0),class:"mt-4 h-10 px-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105"}," Add First Class ")])])])):f("",!0)])]),Ye(ot,{"current-page":I.value,"page-size":he.value,total:we.value,show:!ue.value&&de.value.length>0,onPageChange:dt,onPageSizeChange:e[10]||(e[10]=o=>{he.value=o,dt(1)})},null,8,["current-page","page-size","total","show"])])):f("",!0),S.value==="sections"?(r(),a("div",Do,[Te.value?(r(),a("div",Ho,[...e[108]||(e[108]=[Xe('<div class="border border-gray-200 rounded-xl p-8 bg-white shadow-sm" data-v-8387c41a><div class="flex flex-col items-center justify-center py-12" data-v-8387c41a><div class="relative mb-6" data-v-8387c41a><div class="w-10 h-10 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin" data-v-8387c41a></div><div class="absolute inset-0 w-10 h-10 border-4 border-transparent border-r-indigo-500 rounded-full animate-ping opacity-20" data-v-8387c41a></div></div><div class="text-center" data-v-8387c41a><p class="text-gray-600 font-medium text-lg mb-1" data-v-8387c41a>Loading Sections</p><p class="text-gray-500 text-sm font-normal" data-v-8387c41a>Please wait while we fetch section data...</p></div></div></div>',1)])])):(r(),a("div",Lo,[e[125]||(e[125]=t("div",{class:"relative z-10 w-full mb-2"},[t("div",{class:"flex flex-col items-start"},[t("h3",{class:"text-base font-medium text-gray-900 tracking-tight"},"Filter Sections"),t("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-300",style:{"max-width":"110px"}})])],-1)),t("div",Po,[t("form",{class:"w-full",onSubmit:k(pt,["prevent"])},[t("div",To,[t("div",qo,[e[110]||(e[110]=t("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Search",-1)),t("div",Oo,[x(t("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>P.value.search=o),onInput:pt,type:"text",placeholder:"Search by section name...",class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,544),[[y,P.value.search]]),e[109]||(e[109]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",Qo,[e[114]||(e[114]=t("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Class",-1)),t("div",Go,[x(t("select",{"onUpdate:modelValue":e[12]||(e[12]=o=>P.value.class_id=o),class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[e[111]||(e[111]=t("option",{value:""},"All",-1)),(r(!0),a(w,null,A(qe.value,o=>(r(),a("option",{key:o.id,value:o.id},c(o.name),9,Ko))),128))],512),[[Le,P.value.class_id]]),e[112]||(e[112]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[113]||(e[113]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]),t("div",Zo,[t("div",Jo,[t("button",{onClick:It,type:"button",class:"h-9 px-6 bg-white hover:bg-white text-gray-900 text-sm font-medium rounded-full border border-gray-200 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2",disabled:!gt.value},[...e[115]||(e[115]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),g(" Clear ",-1)])],8,Ro),t("button",{onClick:e[13]||(e[13]=o=>pe.value=!0),type:"button",class:"h-9 px-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-sm font-medium rounded-full hover:from-green-600 hover:to-emerald-600 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[...e[116]||(e[116]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),g(" Add Section ",-1)])]),e[117]||(e[117]=t("button",{type:"submit",class:"h-9 px-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-medium rounded-full hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]),g(" Search ")],-1))])])],32)]),t("div",Wo,[t("div",Xo,[t("h3",Yo,[e[118]||(e[118]=t("div",{class:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 animate-bounce"},null,-1)),g(" Sections ("+c(Ze.value)+") ",1)]),e[119]||(e[119]=t("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-500",style:{"max-width":"120px"}},null,-1))])]),e[126]||(e[126]=t("div",{class:"relative z-10 w-full"},[t("div",{class:"h-[2px] w-full bg-purple-200 mb-4"})],-1)),t("div",Io,[t("div",el,[ne.value?(r(),Ie(st,{key:0})):f("",!0),!ne.value&&F.value.length>0?(r(),a("div",tl,[t("table",sl,[e[123]||(e[123]=t("thead",{class:"bg-gradient-to-r from-purple-50 to-pink-50"},[t("tr",null,[t("th",{class:"text-left py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"#"),t("th",{class:"text-left py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Section Name"),t("th",{class:"text-left py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Description"),t("th",{class:"text-center py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Classes Count"),t("th",{class:"text-center py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Actions")])],-1)),t("tbody",null,[(r(!0),a(w,null,A(F.value,(o,u)=>(r(),a("tr",{key:o.id,class:"hover:bg-purple-50 transition-colors border-b border-purple-200"},[t("td",ol,c((ee.value-1)*Ce.value+u+1),1),t("td",ll,[t("div",rl,[t("div",al,c(o.name.charAt(0).toUpperCase()),1),t("div",null,[t("div",nl,c(o.name),1)])])]),t("td",il,[t("div",{class:"truncate",title:o.description},c(o.description||"No description"),9,dl)]),t("td",ul,[t("span",cl,c(o.classes_count||0)+" Classes ",1)]),t("td",pl,[t("div",{class:"flex items-center justify-center gap-2",onClick:e[14]||(e[14]=k(()=>{},["stop"]))},[t("button",{onClick:v=>Kt(o),type:"button",class:"px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 cursor-pointer relative",title:"Assign to Classes"},[...e[120]||(e[120]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Assign ",-1)])],8,vl),t("button",{onClick:v=>Et(o),type:"button",class:"px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-indigo-500 to-blue-600 text-white hover:from-indigo-600 hover:to-blue-700 cursor-pointer relative",title:"Edit Section"},[...e[121]||(e[121]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),g(" Edit ",-1)])],8,ml),t("button",{onClick:v=>$t(o),type:"button",class:"px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-red-500 to-rose-600 text-white hover:from-red-600 hover:to-rose-700 cursor-pointer relative",title:"Delete Section"},[...e[122]||(e[122]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),g(" Delete ",-1)])],8,fl)])])]))),128))])])])):!ne.value&&F.value.length===0?(r(),a("div",xl,[...e[124]||(e[124]=[t("svg",{class:"w-16 h-16 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No sections found",-1),t("p",{class:"text-gray-500"},"Get started by adding your first section.",-1)])])):f("",!0)])]),Ye(ot,{"current-page":ee.value,"page-size":Ce.value,total:Ve.value,show:!ne.value&&F.value.length>0,onPageChange:ut,onPageSizeChange:e[15]||(e[15]=o=>{Ce.value=o,ut(1)})},null,8,["current-page","page-size","total","show"])]))])):f("",!0),S.value==="subjects"?(r(),a("div",gl,[e[142]||(e[142]=t("div",{class:"relative z-10 w-full mb-2"},[t("div",{class:"flex flex-col items-start"},[t("h3",{class:"text-base font-medium text-gray-900 tracking-tight"},"Filter Subjects"),t("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-300",style:{"max-width":"110px"}})])],-1)),t("div",bl,[t("form",{class:"w-full",onSubmit:k(ss,["prevent"])},[t("div",hl,[t("div",wl,[e[128]||(e[128]=t("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Search",-1)),t("div",yl,[x(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>G.value.search=o),type:"text",placeholder:"Search by subject name...",class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[y,G.value.search]]),e[127]||(e[127]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",kl,[e[132]||(e[132]=t("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Class",-1)),t("div",Cl,[x(t("select",{"onUpdate:modelValue":e[17]||(e[17]=o=>G.value.class_id=o),class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[e[129]||(e[129]=t("option",{value:""},"All",-1)),(r(!0),a(w,null,A(qe.value,o=>(r(),a("option",{key:o.id,value:o.id},c(o.name),9,_l))),128))],512),[[Le,G.value.class_id]]),e[130]||(e[130]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[131]||(e[131]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]),t("div",Sl,[t("div",jl,[t("button",{onClick:es,type:"button",class:"h-9 px-6 bg-white hover:bg-white text-gray-900 text-sm font-medium rounded-full border border-gray-200 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2",disabled:!bt.value},[...e[133]||(e[133]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),g(" Clear ",-1)])],8,Al),t("button",{onClick:e[18]||(e[18]=o=>je.value=!0),type:"button",class:"h-9 px-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-sm font-medium rounded-full hover:from-green-600 hover:to-emerald-600 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[...e[134]||(e[134]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),g(" Add Subject ",-1)])]),e[135]||(e[135]=t("button",{type:"submit",class:"h-9 px-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-medium rounded-full hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]),g(" Search ")],-1))])])],32)]),t("div",Ml,[t("div",Fl,[t("h3",Bl,[e[136]||(e[136]=t("div",{class:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 animate-bounce"},null,-1)),g(" Subjects ("+c(Je.value)+") ",1)]),e[137]||(e[137]=t("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-500",style:{"max-width":"120px"}},null,-1))])]),e[143]||(e[143]=t("div",{class:"relative z-10 w-full"},[t("div",{class:"h-[2px] w-full bg-purple-200 mb-4"})],-1)),t("div",El,[t("div",$l,[ie.value?(r(),Ie(st,{key:0})):!ie.value&&$.value.length>0?(r(),a("div",zl,[t("table",Vl,[e[140]||(e[140]=t("thead",{class:"bg-gradient-to-r from-pink-50 to-purple-50"},[t("tr",null,[t("th",{class:"text-left py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"#"),t("th",{class:"text-left py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Subject Name"),t("th",{class:"text-center py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Assigned Classes"),t("th",{class:"text-center py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Created Date"),t("th",{class:"text-center py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Actions")])],-1)),t("tbody",null,[(r(!0),a(w,null,A($.value,(o,u)=>(r(),a("tr",{key:o.id,class:"hover:bg-pink-50 transition-colors border-b border-purple-200"},[t("td",Nl,c((te.value-1)*_e.value+u+1),1),t("td",Ul,[t("div",Dl,[t("div",Hl,c(o.name.charAt(0).toUpperCase()),1),t("div",null,[t("div",Ll,c(o.name),1)])])]),t("td",Pl,[t("span",Tl,c(zt(o.id))+" classes ",1)]),t("td",ql,c(Vt(o.created_at)),1),t("td",Ol,[t("div",Ql,[t("button",{onClick:v=>Nt(o),class:"px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md bg-gradient-to-r from-indigo-500 to-blue-600 text-white hover:from-indigo-600 hover:to-blue-700",title:"Edit Subject"},[...e[138]||(e[138]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),g(" Edit ",-1)])],8,Gl),t("button",{onClick:v=>Dt(o),class:"px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md bg-gradient-to-r from-red-500 to-rose-600 text-white hover:from-red-600 hover:to-rose-700",title:"Delete Subject"},[...e[139]||(e[139]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),g(" Delete ",-1)])],8,Kl)])])]))),128))])])])):!ie.value&&$.value.length===0?(r(),a("div",Zl,[...e[141]||(e[141]=[t("svg",{class:"w-16 h-16 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1),t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No subjects found",-1),t("p",{class:"text-gray-500"},"Get started by adding your first subject.",-1)])])):f("",!0)])]),Ye(ot,{"current-page":te.value,"page-size":_e.value,total:ce.value,show:!ie.value&&$.value.length>0,onPageChange:ct,onPageSizeChange:e[19]||(e[19]=o=>{_e.value=o,ct(1)})},null,8,["current-page","page-size","total","show"])])):f("",!0)]),O.value?(r(),a("div",Jl,[t("div",{class:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300",onClick:e[23]||(e[23]=k(()=>{},["stop"]))},[t("div",Rl,[t("div",Wl,[t("h3",Xl,c(E.value?"Edit Class":"Add New Class"),1),E.value?f("",!0):(r(),a("button",{key:0,onClick:Mt,type:"button",class:D(["text-xs px-3 py-1 rounded-full border transition-all duration-200",N.value?"bg-purple-500 text-white border-purple-500":"bg-white text-purple-600 border-purple-300 hover:bg-purple-50"])},c(N.value?"Single Mode":"Bulk Mode"),3))])]),t("form",{onSubmit:k(ht,["prevent"]),class:"p-6 space-y-4"},[!N.value||E.value?(r(),a(w,{key:0},[t("div",Yl,[e[145]||(e[145]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Class Name",-1)),t("div",Il,[x(t("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>j.value.name=o),type:"text",placeholder:"Enter class name",required:"",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[y,j.value.name]]),e[144]||(e[144]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",er,[e[147]||(e[147]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Description",-1)),t("div",tr,[x(t("textarea",{"onUpdate:modelValue":e[21]||(e[21]=o=>j.value.description=o),placeholder:"Enter description",rows:"3",class:"border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full resize-none"},null,512),[[y,j.value.description]]),e[146]||(e[146]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",sr,[e[151]||(e[151]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Section",-1)),t("div",or,[x(t("select",{"onUpdate:modelValue":e[22]||(e[22]=o=>j.value.section_id=o),class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[e[148]||(e[148]=t("option",{value:""},"Select Section",-1)),(r(!0),a(w,null,A(F.value,o=>(r(),a("option",{key:o.id,value:o.id},c(o.name),9,lr))),128))],512),[[Le,j.value.section_id]]),e[149]||(e[149]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[150]||(e[150]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])],64)):(r(),a(w,{key:1},[t("div",rr,[(r(!0),a(w,null,A(q.value,(o,u)=>(r(),a("div",{key:u,class:"space-y-3 p-3 border border-gray-200 rounded-lg"},[t("div",ar,[t("span",nr,"Class "+c(u+1),1),q.value.length>1?(r(),a("button",{key:0,onClick:v=>Bt(u),type:"button",class:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors duration-200"},[...e[152]||(e[152]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,ir)):f("",!0)]),t("div",dr,[e[154]||(e[154]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Class Name",-1)),t("div",ur,[x(t("input",{"onUpdate:modelValue":v=>o.name=v,type:"text",placeholder:"Enter class name",required:"",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,8,cr),[[y,o.name]]),e[153]||(e[153]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",pr,[e[156]||(e[156]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Description",-1)),t("div",vr,[x(t("textarea",{"onUpdate:modelValue":v=>o.description=v,placeholder:"Enter description",rows:"2",class:"border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full resize-none"},null,8,mr),[[y,o.description]]),e[155]||(e[155]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]))),128))]),t("button",{onClick:Ft,type:"button",class:"w-full h-10 px-4 border-2 border-dashed border-purple-300 text-purple-600 rounded-lg hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 flex items-center justify-center gap-2"},[...e[157]||(e[157]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Add Another Class ",-1)])])],64)),t("div",fr,[t("button",{type:"button",onClick:We,class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-gray-500 to-slate-500 text-sm font-bold text-white shadow hover:from-gray-600 hover:to-slate-600 transition-all duration-300"}," Cancel "),t("button",xr,c(E.value?"Update":N.value?"Bulk Add Classes":"Add Class"),1)])],32)])])):f("",!0),pe.value?(r(),a("div",{key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:We},[t("div",{class:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300",onClick:e[26]||(e[26]=k(()=>{},["stop"]))},[t("div",gr,[t("div",br,[t("h3",hr,c(T.value?"Edit Section":"Add New Section"),1),T.value?f("",!0):(r(),a("button",{key:0,onClick:_t,type:"button",class:D(["text-xs px-3 py-1 rounded-full border transition-all duration-200",z.value?"bg-purple-500 text-white border-purple-500":"bg-white text-purple-600 border-purple-300 hover:bg-purple-50"])},c(z.value?"Single Mode":"Bulk Mode"),3))])]),t("form",{onSubmit:k(kt,["prevent"]),class:"p-6 space-y-4"},[!z.value||T.value?(r(),a(w,{key:0},[t("div",wr,[e[159]||(e[159]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Section Name",-1)),t("div",yr,[x(t("input",{"onUpdate:modelValue":e[24]||(e[24]=o=>B.value.name=o),type:"text",placeholder:"Enter section name (e.g., A, B, C)",required:"",onInput:Ct,class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,544),[[y,B.value.name]]),e[158]||(e[158]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",kr,[e[161]||(e[161]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Description",-1)),t("div",Cr,[x(t("textarea",{"onUpdate:modelValue":e[25]||(e[25]=o=>B.value.description=o),placeholder:"Enter description",rows:"3",required:"",class:"border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full resize-none"},null,512),[[y,B.value.description]]),e[160]||(e[160]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])],64)):(r(),a(w,{key:1},[t("div",_r,[(r(!0),a(w,null,A(V.value,(o,u)=>(r(),a("div",{key:u,class:"space-y-3 p-3 border border-gray-200 rounded-lg"},[t("div",Sr,[t("span",jr,"Section "+c(u+1),1),V.value.length>1?(r(),a("button",{key:0,onClick:v=>jt(u),type:"button",class:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors duration-200"},[...e[162]||(e[162]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,Ar)):f("",!0)]),t("div",Mr,[e[164]||(e[164]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Section Name",-1)),t("div",Fr,[x(t("input",{"onUpdate:modelValue":v=>o.name=v,type:"text",placeholder:"Enter section name (e.g., A, B, C)",required:"",onInput:v=>At(v,u),class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,40,Br),[[y,o.name]]),e[163]||(e[163]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",Er,[e[166]||(e[166]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Description",-1)),t("div",$r,[x(t("textarea",{"onUpdate:modelValue":v=>o.description=v,placeholder:"Enter description",rows:"2",required:"",class:"border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full resize-none"},null,8,zr),[[y,o.description]]),e[165]||(e[165]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]))),128))]),t("button",{onClick:St,type:"button",class:"w-full h-10 px-4 border-2 border-dashed border-purple-300 text-purple-600 rounded-lg hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 flex items-center justify-center gap-2"},[...e[167]||(e[167]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Add Another Section ",-1)])])],64)),t("div",Vr,[t("button",{type:"button",onClick:We,class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-gray-500 to-slate-500 text-sm font-bold text-white shadow hover:from-gray-600 hover:to-slate-600 transition-all duration-300"}," Cancel "),t("button",Nr,c(T.value?"Update":z.value?"Bulk Add Sections":"Add Section"),1)])],32)])])):f("",!0),je.value?(r(),a("div",{key:2,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e[29]||(e[29]=o=>je.value=!1)},[t("div",{class:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300",onClick:e[28]||(e[28]=k(()=>{},["stop"]))},[e[171]||(e[171]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Add New Subjects")],-1)),t("div",Ur,[(r(!0),a(w,null,A(J.value,(o,u)=>(r(),a("div",{key:u,class:"flex items-center gap-2"},[t("div",Dr,[t("div",Hr,[x(t("input",{"onUpdate:modelValue":v=>J.value[u]=v,type:"text",placeholder:"Enter subject name",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,8,Lr),[[y,J.value[u]]]),e[168]||(e[168]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),J.value.length>1?(r(),a("button",{key:0,onClick:v=>Lt(u),type:"button",class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200"},[...e[169]||(e[169]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,Pr)):f("",!0)]))),128)),t("button",{onClick:Ht,type:"button",class:"w-full h-10 px-4 border-2 border-dashed border-purple-300 text-purple-600 rounded-lg hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 flex items-center justify-center gap-2"},[...e[170]||(e[170]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),g(" Add Another Subject ",-1)])]),t("div",Tr,[t("button",{onClick:e[27]||(e[27]=o=>je.value=!1),class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-gray-500 to-slate-500 text-sm font-bold text-white shadow hover:from-gray-600 hover:to-slate-600 transition-all duration-300"}," Cancel "),t("button",{onClick:Pt,class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300"}," Add Subjects ")])])])])):f("",!0),Me.value?(r(),a("div",{key:3,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e[38]||(e[38]=o=>Me.value=!1)},[t("div",{class:"bg-white rounded-xl shadow-2xl w-full max-w-2xl transform transition-all duration-300 max-h-[90vh] overflow-hidden flex flex-col",onClick:e[37]||(e[37]=k(()=>{},["stop"]))},[t("div",qr,[t("h3",Or,"Assign to "+c((i=Ne.value)==null?void 0:i.name),1)]),t("div",Qr,[t("button",{onClick:e[30]||(e[30]=o=>W.value="subjects"),class:D(["flex-1 px-4 py-2 text-sm font-medium transition-colors",W.value==="subjects"?"text-purple-600 border-b-2 border-purple-600 bg-purple-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])}," Assign Subjects ",2),t("button",{onClick:e[31]||(e[31]=o=>W.value="sections"),class:D(["flex-1 px-4 py-2 text-sm font-medium transition-colors",W.value==="sections"?"text-purple-600 border-b-2 border-purple-600 bg-purple-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"])}," Assign Sections ",2)]),t("div",Gr,[W.value==="subjects"?(r(),a("div",Kr,[t("div",Zr,[x(t("input",{"onUpdate:modelValue":e[32]||(e[32]=o=>Fe.value=o),type:"text",placeholder:"Search subjects...",class:"flex-1 h-8 px-3 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[y,Fe.value]])]),t("div",Jr,[(r(!0),a(w,null,A(at.value,o=>(r(),a("label",{key:o.id,class:"flex items-center gap-2 p-2 rounded-lg hover:bg-purple-50 cursor-pointer border border-gray-200"},[x(t("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":e[33]||(e[33]=u=>oe.value=u),class:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"},null,8,Rr),[[et,oe.value]]),t("span",Wr,c(o.name),1)]))),128))]),at.value.length===0?(r(),a("div",Xr," No subjects found ")):f("",!0)])):f("",!0),W.value==="sections"?(r(),a("div",Yr,[t("div",Ir,[x(t("input",{"onUpdate:modelValue":e[34]||(e[34]=o=>Be.value=o),type:"text",placeholder:"Search sections...",class:"flex-1 h-8 px-3 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[y,Be.value]])]),t("div",ea,[(r(!0),a(w,null,A(nt.value,o=>(r(),a("label",{key:o.id,class:"flex items-center gap-2 p-2 rounded-lg hover:bg-purple-50 cursor-pointer border border-gray-200"},[x(t("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":e[35]||(e[35]=u=>le.value=u),class:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"},null,8,ta),[[et,le.value]]),t("span",sa,c(o.name),1)]))),128))]),nt.value.length===0?(r(),a("div",oa," No sections found ")):f("",!0)])):f("",!0)]),t("div",la,[t("button",{onClick:e[36]||(e[36]=o=>Me.value=!1),class:"flex-1 h-9 px-4 rounded-lg bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200 transition-colors"}," Cancel "),t("button",{onClick:Ot,class:"flex-1 h-9 px-4 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-medium text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all"}," Save Assignments ")])])])):f("",!0),De.value?(r(),a("div",{key:4,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e[53]||(e[53]=o=>De.value=!1)},[t("div",{class:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300",onClick:e[40]||(e[40]=k(()=>{},["stop"]))},[t("div",ra,[t("h3",aa,"Subjects for "+c((l=rt.value)==null?void 0:l.name),1)]),t("div",na,[Ee.value.length>0?(r(),a("div",ia,[(r(!0),a(w,null,A(Ee.value,o=>(r(),a("div",{key:o.id,class:"flex items-center gap-3 p-3 bg-white rounded-lg"},[e[172]||(e[172]=t("div",{class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),t("span",da,c(o.name),1)]))),128))])):(r(),a("div",ua,[...e[173]||(e[173]=[t("svg",{class:"w-12 h-12 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1),t("p",{class:"text-gray-500"},"No subjects assigned yet",-1)])])),t("div",ca,[t("button",{onClick:e[39]||(e[39]=o=>De.value=!1),class:"w-full h-10 px-6 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300"}," Close ")])])]),ve.value?(r(),a("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e[44]||(e[44]=o=>ve.value=!1)},[t("div",{class:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300",onClick:e[43]||(e[43]=k(()=>{},["stop"]))},[t("div",pa,[t("h3",va,c(se.value?"Edit Subject":"Add New Subject"),1)]),t("form",{onSubmit:k(Ut,["prevent"]),class:"p-6 space-y-4"},[t("div",ma,[e[175]||(e[175]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Subject Name",-1)),t("div",fa,[x(t("input",{"onUpdate:modelValue":e[41]||(e[41]=o=>R.value.name=o),type:"text",placeholder:"Enter subject name",required:"",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[y,R.value.name]]),e[174]||(e[174]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",xa,[t("button",{type:"button",onClick:e[42]||(e[42]=o=>ve.value=!1),class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-gray-500 to-slate-500 text-sm font-bold text-white shadow hover:from-gray-600 hover:to-slate-600 transition-all duration-300"}," Cancel "),t("button",ga,c(se.value?"Update":"Add")+" Subject ",1)])],32)])])):f("",!0),Qe.value?(r(),a("div",{key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e[48]||(e[48]=o=>Qe.value=!1)},[t("div",{class:"bg-white rounded-xl shadow-2xl w-full max-w-2xl transform transition-all duration-300 max-h-[90vh] overflow-hidden flex flex-col",onClick:e[47]||(e[47]=k(()=>{},["stop"]))},[e[177]||(e[177]=t("div",{class:"px-4 py-3 border-b border-gray-200 flex-shrink-0"},[t("h3",{class:"text-base font-semibold text-gray-900"},"Bulk Add Classes")],-1)),t("div",ba,[t("div",ha,[e[176]||(e[176]=t("label",{class:"block text-xs font-medium text-gray-700 mb-2"},"Enter class names (one per line or comma-separated)",-1)),x(t("textarea",{"onUpdate:modelValue":e[45]||(e[45]=o=>me.value=o),rows:"8",placeholder:`Class 1
Class 2
Class 3`,class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"},null,512),[[y,me.value]])]),X.value?(r(),a("div",{key:0,class:D(["mt-4 p-3 rounded-lg",X.value.success_count>0?"bg-green-50":"bg-red-50"])},[t("p",{class:D(["text-sm font-medium",X.value.success_count>0?"text-green-800":"text-red-800"])}," Created: "+c(X.value.success_count)+", Failed: "+c(X.value.failed_count),3)],2)):f("",!0)]),t("div",wa,[t("button",{onClick:e[46]||(e[46]=o=>{Qe.value=!1,me.value="",X.value=null}),class:"flex-1 h-9 px-4 rounded-lg bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200 transition-colors"}," Cancel "),t("button",{onClick:Wt,class:"flex-1 h-9 px-4 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-medium text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all"}," Add Classes ")])])])):f("",!0),Ge.value?(r(),a("div",{key:2,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e[52]||(e[52]=o=>Ge.value=!1)},[t("div",{class:"bg-white rounded-xl shadow-2xl w-full max-w-2xl transform transition-all duration-300 max-h-[90vh] overflow-hidden flex flex-col",onClick:e[51]||(e[51]=k(()=>{},["stop"]))},[e[179]||(e[179]=t("div",{class:"px-4 py-3 border-b border-gray-200 flex-shrink-0"},[t("h3",{class:"text-base font-semibold text-gray-900"},"Bulk Add Sections")],-1)),t("div",ya,[t("div",ka,[e[178]||(e[178]=t("label",{class:"block text-xs font-medium text-gray-700 mb-2"},"Enter section names (one per line or comma-separated)",-1)),x(t("textarea",{"onUpdate:modelValue":e[49]||(e[49]=o=>fe.value=o),rows:"8",placeholder:`Section A
Section B
Section C`,class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"},null,512),[[y,fe.value]])]),Y.value?(r(),a("div",{key:0,class:D(["mt-4 p-3 rounded-lg",Y.value.success_count>0?"bg-green-50":"bg-red-50"])},[t("p",{class:D(["text-sm font-medium",Y.value.success_count>0?"text-green-800":"text-red-800"])}," Created: "+c(Y.value.success_count)+", Failed: "+c(Y.value.failed_count),3)],2)):f("",!0)]),t("div",Ca,[t("button",{onClick:e[50]||(e[50]=o=>{Ge.value=!1,fe.value="",Y.value=null}),class:"flex-1 h-9 px-4 rounded-lg bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200 transition-colors"}," Cancel "),t("button",{onClick:Xt,class:"flex-1 h-9 px-4 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-medium text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all"}," Add Sections ")])])])):f("",!0)])):f("",!0)]),K.value?x((r(),a("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",style:{position:"fixed !important",top:"0 !important",left:"0 !important",right:"0 !important",bottom:"0 !important","z-index":"9999 !important"},onClick:e[58]||(e[58]=o=>K.value=!1)},[t("div",{class:"bg-white rounded-xl shadow-2xl w-full max-w-lg transform transition-all duration-300 max-h-[90vh] overflow-hidden flex flex-col relative",style:{"z-index":"10000 !important"},onClick:e[57]||(e[57]=k(()=>{},["stop"]))},[t("div",_a,[t("h3",Sa,"Assign "+c((p=Oe.value)==null?void 0:p.name)+" to Classes",1)]),t("div",ja,[t("div",Aa,[x(t("input",{"onUpdate:modelValue":e[54]||(e[54]=o=>$e.value=o),type:"text",placeholder:"Search classes...",class:"flex-1 h-8 px-3 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[y,$e.value]])]),t("div",Ma,[(r(!0),a(w,null,A(it.value,o=>(r(),a("label",{key:o.id,class:"flex items-center gap-2 p-2 rounded-lg hover:bg-purple-50 cursor-pointer border border-gray-200"},[x(t("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":e[55]||(e[55]=u=>re.value=u),class:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"},null,8,Fa),[[et,re.value]]),t("span",Ba,c(o.name),1)]))),128))]),it.value.length===0?(r(),a("div",Ea," No classes found ")):f("",!0)]),t("div",$a,[t("button",{onClick:e[56]||(e[56]=o=>K.value=!1),class:"flex-1 h-9 px-4 rounded-lg bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200 transition-colors"}," Cancel "),t("button",{onClick:Jt,class:"flex-1 h-9 px-4 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-medium text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all"}," Save Assignments ")])])],512)),[[is,K.value]]):f("",!0)],64)}}},Da=ls(za,[["__scopeId","data-v-8387c41a"]]);export{Da as default};
