import{_ as b,u as _,r as p,l as i,o as k,c as n,b as d,U as m,d as t,K as C,w as F,v as j,t as a,f as g,F as S,g as M,a as B}from"./index-z4YXot-9.js";const L={class:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col items-center p-4 sm:p-6 lg:p-8"},R={class:"w-full max-w-7xl mx-auto rounded-lg border border-gray-200 bg-white/90 px-4 sm:px-6 py-3 shadow-lg mb-6"},V={class:"flex flex-wrap lg:flex-nowrap items-end gap-x-4 gap-y-2"},z={class:"flex flex-col w-full sm:w-auto sm:min-w-[200px] lg:flex-1"},T={class:"relative"},D={class:"w-full max-w-7xl mx-auto mb-6"},E={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},N={class:"bg-white/90 rounded-lg shadow-lg border border-gray-200 p-4"},W={class:"flex items-center"},A={class:"text-2xl font-bold text-gray-900"},G={class:"bg-white/90 rounded-lg shadow-lg border border-gray-200 p-4"},H={class:"flex items-center"},I={class:"text-2xl font-bold text-gray-900"},U={class:"bg-white/90 rounded-lg shadow-lg border border-gray-200 p-4"},q={class:"flex items-center"},K={class:"text-2xl font-bold text-gray-900"},Q={class:"bg-white/90 rounded-lg shadow-lg border border-gray-200 p-4"},J={class:"flex items-center"},O={class:"text-2xl font-bold text-gray-900"},P={class:"w-full max-w-7xl mx-auto"},X={class:"w-full max-w-7xl mx-auto flex items-center justify-between mb-8"},Y={class:"flex flex-col items-start"},Z={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},$={class:"bg-white/90 rounded-lg shadow-lg border border-gray-200 overflow-hidden"},tt={class:"overflow-x-auto"},et={class:"w-full"},st={class:"bg-white divide-y divide-gray-200"},ot={class:"px-6 py-4 whitespace-nowrap"},at={class:"flex items-center"},rt={class:"flex-shrink-0 h-10 w-10"},lt={class:"h-10 w-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white font-medium"},it={class:"ml-4"},nt={class:"text-sm font-medium text-gray-900"},dt={class:"text-sm text-gray-500"},ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},pt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},mt={__name:"FamilyWiseReport",setup(gt){_();const r=p([]),l=p(""),v=()=>{r.value||(r.value=[]),l.value||(l.value="")},h=i(()=>r.value.length),c=i(()=>r.value.reduce((s,e)=>s+e.students.length,0)),f=i(()=>{const s=new Set;return r.value.forEach(e=>{e.students.forEach(o=>s.add(o.class))}),s.size}),w=i(()=>new Set(r.value.map(s=>s.address)).size),u=i(()=>{if(!l.value)return r.value;const s=l.value.toLowerCase();return r.value.filter(e=>e.name.toLowerCase().includes(s)||e.head_name.toLowerCase().includes(s)||e.address.toLowerCase().includes(s))}),x=async()=>{try{console.log("Generating family report...");const s=await B.get("/reports/families");console.log("Family report data:",s.data),s.data.success&&(r.value=s.data.result||[],console.log("Families loaded:",r.value.length),console.log("Total students:",c.value))}catch(s){console.error("Failed to generate report:",s)}},y=()=>{};return k(()=>{v(),x()}),(s,e)=>(d(),n("div",L,[e[17]||(e[17]=m('<div class="w-full max-w-7xl mx-auto mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500 border border-gray-200" data-v-9c886190><h2 class="text-base font-medium text-gray-600 tracking-tight flex items-center gap-2" data-v-9c886190><div class="w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse" data-v-9c886190></div> Family Wise Report </h2><nav class="flex items-center gap-2 text-base font-medium text-gray-500" data-v-9c886190><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-9c886190>Dashboard</span><span class="mx-2" data-v-9c886190>|</span><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-9c886190>Reports</span><span class="mx-2" data-v-9c886190>|</span><span class="text-gray-900 font-bold" data-v-9c886190>Family Reports</span></nav></div><div class="w-full max-w-7xl mx-auto mb-2" data-v-9c886190><div class="flex flex-col items-start" data-v-9c886190><h3 class="text-base font-medium text-gray-900 tracking-tight" data-v-9c886190>Family Information</h3><div class="h-[1px] bg-purple-200 w-full transition-all duration-300" style="max-width:110px;" data-v-9c886190></div></div></div>',2)),t("div",R,[t("form",{class:"w-full",onSubmit:C(x,["prevent"])},[t("div",V,[t("div",z,[e[2]||(e[2]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Search Families",-1)),t("div",T,[F(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>l.value=o),type:"text",placeholder:"Search families...",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full pr-8"},null,512),[[j,l.value]]),e[1]||(e[1]=m('<div class="absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none" data-v-9c886190><svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" data-v-9c886190><circle cx="11" cy="11" r="8" data-v-9c886190></circle><line x1="21" y1="21" x2="16.65" y2="16.65" data-v-9c886190></line></svg></div><div class="absolute left-0 right-0 bottom-0 h-[1px] bg-purple-200 pointer-events-none" data-v-9c886190></div>',2))])]),e[3]||(e[3]=t("div",{class:"flex justify-end mt-2"},[t("button",{type:"submit",class:"h-9 px-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105"}," Generate Report ")],-1))])],32)]),t("div",D,[t("div",E,[t("div",N,[t("div",W,[e[5]||(e[5]=t("div",{class:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mr-4"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])],-1)),t("div",null,[t("div",A,a(h.value),1),e[4]||(e[4]=t("div",{class:"text-sm text-gray-600"},"Total Families",-1))])])]),t("div",G,[t("div",H,[e[7]||(e[7]=t("div",{class:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mr-4"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),t("div",null,[t("div",I,a(c.value),1),e[6]||(e[6]=t("div",{class:"text-sm text-gray-600"},"Total Students",-1))])])]),t("div",U,[t("div",q,[e[9]||(e[9]=t("div",{class:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center mr-4"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),t("div",null,[t("div",K,a(f.value),1),e[8]||(e[8]=t("div",{class:"text-sm text-gray-600"},"Classes Represented",-1))])])]),t("div",Q,[t("div",J,[e[11]||(e[11]=t("div",{class:"w-12 h-12 bg-gradient-to-r from-pink-500 to-pink-600 rounded-lg flex items-center justify-center mr-4"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),t("div",null,[t("div",O,a(w.value),1),e[10]||(e[10]=t("div",{class:"text-sm text-gray-600"},"Locations",-1))])])])])]),t("div",P,[t("div",X,[t("div",Y,[t("h3",Z,[e[12]||(e[12]=t("div",{class:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 animate-bounce"},null,-1)),g(" Family Details ("+a(u.value.length)+") ",1)]),e[13]||(e[13]=t("div",{class:"h-[1px] bg-purple-200 w-full transition-all duration-500",style:{"max-width":"120px"}},null,-1))]),t("div",{class:"flex items-center gap-2"},[t("button",{onClick:y,class:"px-6 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white text-sm font-medium rounded-full hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105"},e[14]||(e[14]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),g(" Export ")]))])]),t("div",$,[t("div",tt,[t("table",et,[e[16]||(e[16]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Family Name"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Students"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Classes"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Location"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contact"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",st,[(d(!0),n(S,null,M(u.value,o=>(d(),n("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",ot,[t("div",at,[t("div",rt,[t("div",lt,a(o.name.charAt(0)),1)]),t("div",it,[t("div",nt,a(o.name),1),t("div",dt,a(o.father_name),1)])])]),t("td",ct,a(o.students_count),1),t("td",ut,a(o.classes.join(", ")),1),t("td",xt,a(o.location),1),t("td",pt,a(o.contact),1),e[15]||(e[15]=t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},[t("button",{class:"text-purple-600 hover:text-purple-900 mr-3"},"View Details"),t("button",{class:"text-green-600 hover:text-green-900"},"View Students")],-1))]))),128))])])])])])]))}},ht=b(mt,[["__scopeId","data-v-9c886190"]]);export{ht as default};
