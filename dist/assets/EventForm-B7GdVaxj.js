import{_ as $,P as B,M as S,H as z,l as w,Q as H,p as F,a as p,o as v,d as t,i as f,t as g,J as q,C as d,A as u,K as m,B as y,F as L,z as U,n as T,e as N,b as A,E as h}from"./index-xvPUEXLW.js";const P={class:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col items-center p-4 sm:p-6 lg:p-8"},R={class:"w-full max-w-7xl mx-auto mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500 border border-gray-200"},I={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},O={class:"flex items-center gap-2 text-base font-medium text-gray-500"},G={class:"text-gray-900 font-bold"},J={class:"w-full"},K={class:"flex flex-col items-center text-center"},Q={class:"text-2xl font-bold text-gray-900 mb-2"},Y={class:"w-full"},W={class:"w-full"},X={class:"bg-white rounded-xl shadow-lg overflow-hidden"},Z={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ee={class:"lg:col-span-2 space-y-6"},te={class:"border-b border-gray-200 pb-6"},oe={class:"space-y-4"},se={class:"flex flex-col w-full"},re={class:"relative"},ne={class:"flex flex-col w-full"},ae={class:"relative"},le={class:"border-b border-gray-200 pb-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},de={class:"flex flex-col w-full"},ue={class:"relative"},pe={class:"flex flex-col w-full"},ve={class:"relative"},ce={class:"space-y-4"},be={class:"flex flex-col w-full"},fe={class:"relative"},ge={class:"space-y-6"},me={class:"bg-white rounded-lg p-6"},xe={class:"space-y-4"},he={class:"flex flex-col w-full"},ye={class:"relative"},we={class:"flex flex-col w-full"},ke={class:"relative"},Ee={class:"bg-blue-50 rounded-lg p-6"},Me={class:"flex flex-col w-full"},_e={class:"relative"},Ce={class:"bg-purple-50 rounded-lg p-6"},je={class:"grid grid-cols-5 gap-3"},De=["onClick"],Ve={class:"flex flex-row gap-3 justify-end pt-8 border-t border-gray-200 mt-8"},$e=["disabled"],Be={key:0,class:"flex items-center gap-2"},Se={key:1,class:"flex items-center gap-2"},ze=["disabled"],He={key:0,class:"flex items-center gap-2"},Fe={key:1,class:"flex items-center gap-2"},qe={__name:"EventForm",setup(Le){const c=B(),x=S(),n=z(),l=w(!1),a=w(!1),o=H({title:"",description:"",start_date:"",end_date:"",location:"",type:"general",priority:"medium",color:"#8b5cf6",reminder:"none"}),k=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899","#6366f1","#84cc16","#f97316","#64748b"],b=r=>{if(!r)return"";const e=new Date(r),s=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),j=String(e.getDate()).padStart(2,"0"),D=String(e.getHours()).padStart(2,"0"),V=String(e.getMinutes()).padStart(2,"0");return`${s}-${i}-${j}T${D}:${V}`},E=()=>o.title.trim()?o.start_date?o.end_date?new Date(o.start_date)>=new Date(o.end_date)?(n.error("End date must be after start date"),!1):o.type?!0:(n.error("Event type is required"),!1):(n.error("End date is required"),!1):(n.error("Start date is required"),!1):(n.error("Event title is required"),!1),M=async()=>{var r,e;if(E()){l.value=!0;try{const s={title:o.title,description:o.description,start_date:o.start_date,end_date:o.end_date,location:o.location,type:o.type,priority:o.priority,color:o.color,reminder:o.reminder};let i;a.value?i=await h.post(`http://localhost:8000/api/events/update/${c.params.id}`,s):i=await h.post("http://localhost:8000/api/events/add",s),i.data.success||i.data.status?(n.success(a.value?"Event updated successfully!":"Event created successfully!"),x.push("/events")):n.error(i.data.message||"Operation failed")}catch(s){console.error("Error submitting form:",s),n.error(((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An error occurred while saving the event")}finally{l.value=!1}}},_=async()=>{var r,e;if(confirm("Are you sure you want to delete this event? This action cannot be undone.")){l.value=!0;try{const s=await h.post(`http://localhost:8000/api/events/delete/${c.params.id}`);s.data.success||s.data.status?(n.success("Event deleted successfully!"),x.push("/events")):n.error(s.data.message||"Failed to delete event")}catch(s){console.error("Error deleting event:",s),n.error(((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"Failed to delete event")}finally{l.value=!1}}},C=async()=>{try{const r=await h.get(`http://localhost:8000/api/events/${c.params.id}`);if(r.data.success||r.data.status){const e=r.data.data||r.data.result;o.title=e.title||"",o.description=e.description||"",o.start_date=b(e.start_date),o.end_date=b(e.end_date),o.location=e.location||"",o.type=e.type||"general",o.priority=e.priority||"medium",o.color=e.color||"#8b5cf6",o.reminder=e.reminder||"none"}else n.error("Failed to load event details"),x.push("/events")}catch(r){console.error("Error loading event:",r),n.error("Failed to load event details"),x.push("/events")}};return F(async()=>{if(c.params.id)a.value=!0,await C();else if(c.query.date){const r=new Date(c.query.date);o.start_date=b(r);const e=new Date(r);e.setHours(e.getHours()+1),o.end_date=b(e)}else{const r=new Date;o.start_date=b(r);const e=new Date(r);e.setHours(e.getHours()+1),o.end_date=b(e)}}),(r,e)=>(v(),p("div",P,[t("div",R,[t("h2",I,[e[11]||(e[11]=t("div",{class:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"},null,-1)),f(" "+g(a.value?"Edit Event":"Create New Event"),1)]),t("nav",O,[t("span",{class:"hover:text-purple-600 cursor-pointer transition-colors duration-200",onClick:e[0]||(e[0]=s=>r.$router.push("/dashboard"))},"Dashboard"),e[12]||(e[12]=t("span",{class:"mx-2"},"|",-1)),t("span",{class:"hover:text-purple-600 cursor-pointer transition-colors duration-200",onClick:e[1]||(e[1]=s=>r.$router.push("/events"))},"Events"),e[13]||(e[13]=t("span",{class:"mx-2"},"|",-1)),t("span",G,g(a.value?"Edit Event":"Create Event"),1)])]),t("div",J,[t("div",K,[e[14]||(e[14]=t("div",{class:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-4 shadow-lg"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a4 4 0 118 0v4M7 7h10l1 10H6L7 7z"})])],-1)),t("h3",Q,g(a.value?"Update Event Details":"Create New Event"),1),t("p",Y,g(a.value?"Modify your event information and settings below.":"Fill in the details below to create a new event for your calendar."),1)])]),t("div",W,[t("div",X,[t("form",{onSubmit:q(M,["prevent"]),class:"p-6 sm:p-8"},[t("div",Z,[t("div",ee,[t("div",te,[e[19]||(e[19]=d('<div class="flex items-center gap-3 mb-4" data-v-9b421892><div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center" data-v-9b421892><svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9b421892><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V11a2 2 0 01-2 2z" data-v-9b421892></path></svg></div><h4 class="text-lg font-semibold text-gray-900" data-v-9b421892>Event Information</h4></div>',1)),t("div",oe,[t("div",se,[e[16]||(e[16]=t("label",{class:"mb-2 text-sm font-semibold text-gray-600 uppercase tracking-wider"},"Event Title *",-1)),t("div",re,[u(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.title=s),type:"text",placeholder:"Enter event title",required:"",class:"h-12 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[m,o.title]]),e[15]||(e[15]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",ne,[e[18]||(e[18]=t("label",{class:"mb-2 text-sm font-semibold text-gray-600 uppercase tracking-wider"},"Description",-1)),t("div",ae,[u(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.description=s),placeholder:"Enter event description",rows:"4",class:"border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full resize-none"},null,512),[[m,o.description]]),e[17]||(e[17]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])])]),t("div",le,[e[24]||(e[24]=d('<div class="flex items-center gap-3 mb-4" data-v-9b421892><div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center" data-v-9b421892><svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9b421892><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a4 4 0 118 0v4M7 7h10l1 10H6L7 7z" data-v-9b421892></path></svg></div><h4 class="text-lg font-semibold text-gray-900" data-v-9b421892>Date &amp; Time</h4></div>',1)),t("div",ie,[t("div",de,[e[21]||(e[21]=t("label",{class:"mb-2 text-sm font-semibold text-gray-600 uppercase tracking-wider"},"Start Date & Time *",-1)),t("div",ue,[u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.start_date=s),type:"datetime-local",required:"",class:"h-12 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[m,o.start_date]]),e[20]||(e[20]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",pe,[e[23]||(e[23]=t("label",{class:"mb-2 text-sm font-semibold text-gray-600 uppercase tracking-wider"},"End Date & Time *",-1)),t("div",ve,[u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.end_date=s),type:"datetime-local",required:"",class:"h-12 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[m,o.end_date]]),e[22]||(e[22]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])])]),t("div",null,[e[27]||(e[27]=d('<div class="flex items-center gap-3 mb-4" data-v-9b421892><div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center" data-v-9b421892><svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9b421892><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-9b421892></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-9b421892></path></svg></div><h4 class="text-lg font-semibold text-gray-900" data-v-9b421892>Location &amp; Additional Info</h4></div>',1)),t("div",ce,[t("div",be,[e[26]||(e[26]=t("label",{class:"mb-2 text-sm font-semibold text-gray-600 uppercase tracking-wider"},"Location",-1)),t("div",fe,[u(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.location=s),type:"text",placeholder:"Enter event location",class:"h-12 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[m,o.location]]),e[25]||(e[25]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])])])]),t("div",ge,[t("div",me,[e[36]||(e[36]=d('<div class="flex items-center gap-3 mb-4" data-v-9b421892><div class="w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center" data-v-9b421892><svg class="w-4 h-4 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9b421892><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" data-v-9b421892></path></svg></div><h4 class="text-lg font-semibold text-gray-900" data-v-9b421892>Event Type</h4></div>',1)),t("div",xe,[t("div",he,[e[31]||(e[31]=t("label",{class:"mb-2 text-sm font-semibold text-gray-600 uppercase tracking-wider"},"Category *",-1)),t("div",ye,[u(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>o.type=s),required:"",class:"h-12 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[...e[28]||(e[28]=[d('<option value="" data-v-9b421892>Select event type</option><option value="birthday" data-v-9b421892>üéÇ Birthday</option><option value="reminder" data-v-9b421892>‚è∞ Reminder</option><option value="holiday" data-v-9b421892>üéâ Holiday</option><option value="meeting" data-v-9b421892>ü§ù Meeting</option><option value="exam" data-v-9b421892>üìù Exam</option><option value="general" data-v-9b421892>üìÖ General</option>',7)])],512),[[y,o.type]]),e[29]||(e[29]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[30]||(e[30]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",we,[e[35]||(e[35]=t("label",{class:"mb-2 text-sm font-semibold text-gray-600 uppercase tracking-wider"},"Priority",-1)),t("div",ke,[u(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>o.priority=s),class:"h-12 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[...e[32]||(e[32]=[t("option",{value:"low"},"üü¢ Low Priority",-1),t("option",{value:"medium"},"üü° Medium Priority",-1),t("option",{value:"high"},"üî¥ High Priority",-1)])],512),[[y,o.priority]]),e[33]||(e[33]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[34]||(e[34]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])])]),t("div",Ee,[e[41]||(e[41]=d('<div class="flex items-center gap-3 mb-4" data-v-9b421892><div class="w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center" data-v-9b421892><svg class="w-4 h-4 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9b421892><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM4.828 7l2.828 2.828M3 10h8m-8 4h8m-4 4h8m-4-8H3m18 0a9 9 0 11-18 0 9 9 0 0118 0z" data-v-9b421892></path></svg></div><h4 class="text-lg font-semibold text-gray-900" data-v-9b421892>Reminder</h4></div>',1)),t("div",Me,[e[40]||(e[40]=t("label",{class:"mb-2 text-sm font-semibold text-gray-600 uppercase tracking-wider"},"Notification",-1)),t("div",_e,[u(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>o.reminder=s),class:"h-12 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[...e[37]||(e[37]=[d('<option value="none" data-v-9b421892>No Reminder</option><option value="5m" data-v-9b421892>5 minutes before</option><option value="15m" data-v-9b421892>15 minutes before</option><option value="30m" data-v-9b421892>30 minutes before</option><option value="1h" data-v-9b421892>1 hour before</option><option value="1d" data-v-9b421892>1 day before</option><option value="1w" data-v-9b421892>1 week before</option>',7)])],512),[[y,o.reminder]]),e[38]||(e[38]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[39]||(e[39]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]),t("div",Ce,[e[42]||(e[42]=d('<div class="flex items-center gap-3 mb-4" data-v-9b421892><div class="w-8 h-8 bg-pink-100 rounded-lg flex items-center justify-center" data-v-9b421892><svg class="w-4 h-4 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9b421892><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V9a4 4 0 00-4-4z" data-v-9b421892></path></svg></div><h4 class="text-lg font-semibold text-gray-900" data-v-9b421892>Event Color</h4></div>',1)),t("div",je,[(v(),p(L,null,U(k,s=>t("button",{key:s,type:"button",onClick:i=>o.color=s,class:N(["w-10 h-10 rounded-full border-2 transition-all duration-200",o.color===s?"border-gray-800 scale-110":"border-gray-200 hover:scale-105"]),style:T({backgroundColor:s})},null,14,De)),64))])])])]),t("div",Ve,[t("button",{type:"button",onClick:e[10]||(e[10]=s=>r.$router.push("/events")),class:"h-10 w-24 rounded-full border-2 border-navy-300 text-sm font-bold text-gray-600 bg-white hover:bg-navy-50 hover:border-navy-400 hover:text-gray-900 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-2"},[...e[43]||(e[43]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),f(" Cancel ",-1)])]),a.value?(v(),p("button",{key:0,type:"button",onClick:_,disabled:l.value,class:"h-10 w-24 rounded-full bg-gradient-to-r from-red-500 to-pink-500 text-sm font-bold text-white shadow hover:from-red-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[l.value?(v(),p("span",Be,[...e[44]||(e[44]=[t("div",{class:"w-4 h-4 border-2 border-gray-200 border-t-transparent rounded-full animate-spin"},null,-1),f(" Deleting... ",-1)])])):(v(),p("span",Se,[...e[45]||(e[45]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),f(" Delete ",-1)])]))],8,$e)):A("",!0),t("button",{type:"submit",disabled:l.value,class:"h-10 w-24 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[l.value?(v(),p("span",He,[e[46]||(e[46]=t("div",{class:"w-4 h-4 border-2 border-gray-200 border-t-transparent rounded-full animate-spin"},null,-1)),f(" "+g(a.value?"Updating...":"Creating..."),1)])):(v(),p("span",Fe,[e[47]||(e[47]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),f(" "+g(a.value?"Update":"Create"),1)]))],8,ze)])],32)])])]))}},Te=$(qe,[["__scopeId","data-v-9b421892"]]);export{Te as default};
