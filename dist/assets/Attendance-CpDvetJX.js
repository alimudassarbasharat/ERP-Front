import{_ as bt,H as ht,aB as yt,l as u,c as wt,w as Y,p as _t,R as h,a as r,o as n,b as M,C as S,d as e,t as l,i as T,A,B as z,F as y,z as _,h as q,e as N,J as We,K as se,n as kt}from"./index-xvPUEXLW.js";import{C as K,r as Je}from"./chart-DU5eDjOK.js";import{C as ne}from"./CompactDatePicker-xqVnbMy9.js";import{T as Ct}from"./TableLoader-DpFqaoeq.js";import{P as jt}from"./Pagination-HhCy8CrH.js";import"./createVueComponent-mtWgRR3y.js";const St={class:"relative w-full min-h-screen pl-0 pr-0 sm:pl-0 sm:pr-0 lg:pl-1 lg:pr-0 py-2 sm:py-3 lg:py-4"},At={key:0,class:"w-full"},Mt={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-8"},Vt={class:"bg-white/90 rounded-2xl shadow-xl border border-gray-200 overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:scale-105"},Dt={class:"p-8"},Tt={class:"bg-white/90 rounded-2xl shadow-xl border border-gray-200 overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:scale-105"},Bt={class:"p-8"},Pt={class:"bg-white/90 rounded-2xl shadow-xl border border-gray-200 overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:scale-105"},zt={class:"p-8"},Rt={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12"},$t={class:"bg-white/80 rounded-xl p-6 text-center shadow-lg"},It={class:"text-2xl font-bold text-green-600"},Ft={class:"bg-white/80 rounded-xl p-6 text-center shadow-lg"},Nt={class:"text-2xl font-bold text-red-600"},Ut={class:"bg-white/80 rounded-xl p-6 text-center shadow-lg"},Lt={class:"text-2xl font-bold text-blue-600"},Ot={key:1,class:"w-full"},Et={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},Ht={key:0,class:"bg-white/90 rounded-xl shadow-lg p-6"},Gt={class:"mb-6 p-4 bg-white rounded-lg"},Wt={class:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-4"},Jt={class:"w-full"},Yt=["value"],Qt={class:"w-full"},Zt=["value"],qt={class:"w-full"},Kt=["value"],Xt={key:0,class:"w-full"},es=["value"],ts={key:1,class:"w-full"},ss={key:2,class:"w-full"},as=["value"],ls={key:3,class:"w-full"},os=["value"],rs={key:4,class:"w-full"},ns={key:5,class:"w-full"},ds={key:0,class:"space-y-6"},is={class:"text-center border-b pb-4"},cs={class:"text-xl font-bold text-gray-900"},us={class:"text-sm text-gray-600 mt-1"},ps={key:0,class:"space-y-4"},vs={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},ms={class:"bg-green-50 rounded-lg p-4 text-center"},xs={class:"text-2xl font-bold text-green-600"},gs={class:"bg-red-50 rounded-lg p-4 text-center"},fs={class:"text-2xl font-bold text-red-600"},bs={class:"bg-yellow-50 rounded-lg p-4 text-center"},hs={class:"text-2xl font-bold text-yellow-600"},ys={class:"bg-blue-50 rounded-lg p-4 text-center"},ws={class:"text-2xl font-bold text-blue-600"},_s={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},ks={class:"bg-white rounded-lg p-4 shadow-sm"},Cs={class:"bg-white rounded-lg p-4 shadow-sm"},js={class:"overflow-x-auto"},Ss={class:"min-w-full bg-white border border-gray-200 rounded-lg"},As={class:"divide-y divide-gray-200"},Ms={class:"px-4 py-2 text-sm text-gray-900"},Vs={class:"px-4 py-2 text-sm text-gray-900"},Ds={class:"px-4 py-2"},Ts={class:"px-4 py-2 text-sm text-gray-900"},Bs={class:"px-4 py-2 text-sm text-gray-900"},Ps={key:1,class:"space-y-4"},zs={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},Rs={class:"bg-blue-50 rounded-lg p-4 text-center"},$s={class:"text-2xl font-bold text-blue-600"},Is={class:"bg-green-50 rounded-lg p-4 text-center"},Fs={class:"text-2xl font-bold text-green-600"},Ns={class:"bg-yellow-50 rounded-lg p-4 text-center"},Us={class:"text-2xl font-bold text-yellow-600"},Ls={class:"bg-red-50 rounded-lg p-4 text-center"},Os={class:"text-2xl font-bold text-red-600"},Es={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},Hs={class:"bg-white rounded-lg p-4 shadow-sm"},Gs={class:"bg-white rounded-lg p-4 shadow-sm"},Ws={class:"overflow-x-auto"},Js={class:"min-w-full bg-white border border-gray-200 rounded-lg"},Ys={class:"divide-y divide-gray-200"},Qs={class:"px-4 py-2 text-sm text-gray-900"},Zs={class:"px-4 py-2 text-sm text-gray-900"},qs={class:"px-4 py-2 text-sm text-gray-900"},Ks={class:"px-4 py-2 text-sm text-gray-900"},Xs={class:"px-4 py-2 text-sm text-gray-900"},ea={class:"px-4 py-2"},ta={class:"px-4 py-2"},sa={key:2,class:"space-y-6"},aa={class:"flex items-center justify-between mb-4"},la={class:"text-lg font-medium text-gray-900"},oa={class:"text-sm text-gray-600"},ra={class:"overflow-x-auto"},na={class:"min-w-full bg-white border border-gray-200 rounded-lg"},da={class:"divide-y divide-gray-200"},ia={class:"px-4 py-2 text-sm text-gray-900"},ca={class:"px-4 py-2 text-sm text-gray-900"},ua={class:"px-4 py-2 text-sm text-gray-900"},pa={class:"px-4 py-2 text-sm text-gray-900"},va={class:"px-4 py-2"},ma={key:3,class:"space-y-4"},xa={class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},ga={class:"text-sm text-red-600"},fa={class:"overflow-x-auto"},ba={class:"min-w-full bg-white border border-gray-200 rounded-lg"},ha={class:"divide-y divide-gray-200"},ya={class:"px-4 py-2 text-sm text-gray-900"},wa={class:"px-4 py-2 text-sm text-gray-900"},_a={class:"px-4 py-2 text-sm text-gray-900"},ka={class:"px-4 py-2 text-sm text-gray-900"},Ca={class:"px-4 py-2 text-sm text-gray-900"},ja={class:"px-4 py-2"},Sa={class:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800"},Aa={key:4,class:"text-center py-8"},Ma={class:"mt-4 text-left bg-white p-4 rounded-lg text-xs overflow-auto"},Va={key:1,class:"flex flex-col items-center justify-center py-12"},Da={key:2,class:"text-center py-12"},Ta={key:2,class:"w-full"},Ba={class:"relative z-10 w-full mb-6 flex justify-end"},Pa={class:"flex bg-white rounded-full shadow-lg p-1 border border-gray-200"},za={class:"relative z-10 flex items-center gap-2"},Ra={class:"px-2 py-0.5 rounded-full text-xs font-bold bg-white text-purple-700 border border-purple-200 ml-1"},$a={key:0,class:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-20 animate-pulse rounded-full"},Ia={class:"relative z-10 flex items-center gap-2"},Fa={class:"px-2 py-0.5 rounded-full text-xs font-bold bg-white text-purple-700 border border-purple-200 ml-1"},Na={key:0,class:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-20 animate-pulse rounded-full"},Ua={class:"relative z-10 w-full mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500 border border-gray-200"},La={class:"text-base font-medium text-gray-900 tracking-tight flex items-center gap-2"},Oa={class:"relative z-10 w-full rounded-lg transition-all duration-500 ease-in-out transform hover:shadow-lg bg-white p-4 mb-6"},Ea={class:"flex flex-wrap items-end gap-x-4 gap-y-3"},Ha={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},Ga={class:"relative"},Wa={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},Ja={class:"relative"},Ya=["value"],Qa={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},Za={class:"relative"},qa=["value"],Ka={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},Xa={class:"relative"},el=["value"],tl={key:0,class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},sl={class:"relative"},al=["value"],ll={class:"flex flex-col w-full sm:w-auto sm:min-w-[160px] sm:max-w-[200px] lg:flex-1"},ol={class:"relative"},rl={class:"relative z-10 w-full flex items-center justify-between mb-6 mt-8"},nl={class:"flex flex-col items-start"},dl={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},il={key:0,class:"relative z-10 w-full"},cl={class:"border border-gray-200 rounded-xl p-8 bg-white shadow-sm"},ul={key:1,class:"relative z-10 w-full"},pl={class:"border border-gray-200 rounded-xl p-8 bg-white shadow-sm overflow-hidden"},vl={class:"flex flex-col items-center justify-center py-12"},ml={class:"text-center max-w-sm"},xl={class:"text-gray-500 text-sm font-normal leading-relaxed mb-4"},gl={key:2,class:"relative z-10 w-full"},fl={class:"border border-gray-200 rounded-xl p-8 bg-white shadow-sm overflow-hidden"},bl={class:"overflow-x-auto"},hl={class:"min-w-full"},yl={class:"bg-gradient-to-r from-indigo-50 to-purple-50"},wl={key:0,class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},_l={class:"py-2 px-2 text-gray-900 font-normal text-xs"},kl={class:"py-2 px-2"},Cl={class:"flex items-center gap-3"},jl={class:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-sm font-medium"},Sl={class:"text-sm font-medium text-gray-900"},Al={class:"py-2 px-2 text-gray-900 font-normal text-sm"},Ml={class:"py-2 px-2 text-gray-900 font-normal text-sm"},Vl={class:"py-2 px-2"},Dl={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Tl={class:"py-2 px-2"},Bl=["onUpdate:modelValue"],Pl={class:"py-2 px-2 text-gray-900 font-normal text-sm"},zl=["onUpdate:modelValue"],Rl={class:"py-2 px-2 text-gray-900 font-normal text-sm max-w-xs"},$l=["onUpdate:modelValue"],Il={key:0,class:"py-2 px-2"},Fl={class:"py-2 px-2"},Nl={class:"flex items-center justify-center gap-2"},Ul=["onClick"],Ll=["onClick"],Ol={class:"px-4 py-3 border-t border-gray-200 flex gap-3 flex-shrink-0"},El=["disabled"],Hl={key:0,class:"w-3 h-3 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Gl={key:1,class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Wl={key:3,class:"w-full"},Jl={class:"border border-gray-200 rounded-xl bg-white/40 shadow-sm overflow-hidden"},Yl={class:"bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-4"},Ql={class:"text-lg font-medium text-white"},Zl={class:"text-purple-100 text-sm mt-1"},ql={class:"overflow-x-auto"},Kl={class:"min-w-full"},Xl={class:"bg-white divide-y divide-gray-200"},eo={class:"px-6 py-4 #ffffffspace-nowrap text-sm font-medium text-gray-900"},to={class:"px-6 py-4 #ffffffspace-nowrap"},so={class:"flex items-center"},ao={class:"w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm"},lo={class:"ml-4"},oo={class:"text-sm font-medium text-gray-900"},ro={class:"text-sm text-gray-500"},no={class:"px-6 py-4 #ffffffspace-nowrap text-sm text-gray-900"},io={class:"px-6 py-4 #ffffffspace-nowrap text-sm text-gray-900"},co={class:"px-6 py-4 #ffffffspace-nowrap"},uo={class:"px-6 py-4 #ffffffspace-nowrap"},po={class:"flex items-center"},vo={class:"w-full bg-white rounded-full h-2 mr-2"},mo={class:"text-sm font-medium text-gray-900"},xo={class:"px-6 py-4 #ffffffspace-nowrap text-sm text-gray-900"},go={class:"text-center"},fo={class:"text-sm font-medium"},bo={class:"px-6 py-4 #ffffffspace-nowrap text-sm font-medium space-x-2"},ho=["onClick"],yo=["onClick"],wo={class:"bg-white px-6 py-3"},_o={class:"flex items-center justify-between mb-3"},ko={class:"text-sm text-gray-900"},Co={class:"flex items-center space-x-4"},jo={class:"text-sm text-gray-900"},So={class:"text-sm text-gray-900"},Ao={key:0,class:"flex items-center justify-center space-x-2"},Mo=["disabled"],Vo={key:0,disabled:"",class:"px-3 py-1 text-sm text-gray-500"},Do=["onClick"],To=["disabled"],Bo={class:"w-full"},Po={class:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4"},zo={class:"flex items-center justify-between"},Ro={class:"text-lg font-medium text-white"},$o={key:0,class:"text-indigo-200 text-sm block"},Io={class:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},Fo={key:0,class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},No={class:"flex items-center gap-2 text-blue-800"},Uo={class:"font-medium"},Lo={key:1,class:"mb-4 p-3 bg-green-50 rounded-lg border border-green-200"},Oo={class:"overflow-x-auto"},Eo={class:"min-w-full"},Ho={class:"bg-white divide-y divide-gray-200"},Go={class:"px-4 py-2 text-sm text-gray-900"},Wo={class:"px-4 py-2"},Jo={class:"flex items-center gap-2"},Yo={class:"w-8 h-8 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold"},Qo={class:"text-sm text-gray-900"},Zo={class:"px-4 py-2"},qo=["onUpdate:modelValue"],Ko=["value"],Xo={class:"px-4 py-2"},er=["onUpdate:modelValue"],tr={class:"px-4 py-2"},sr=["onUpdate:modelValue"],ar={class:"bg-white px-6 py-4 flex justify-end gap-3"},lr={__name:"Attendance",setup(or){if(typeof K<"u"&&Je)try{K.register(...Je)}catch(a){console.warn("Chart.js registration warning:",a)}ht();const Ye=yt(),R=u(!1),E=()=>{var t;const a=Ye.user;return a&&(a.merchant_id||((t=a.admin)==null?void 0:t.merchant_id))||null},U=u([]),C=u([]),b=u([]),w=u([]),D=u(""),V=u(""),$=u(""),L=u(new Date().toISOString().split("T")[0]),Qe=u(""),Q=u(""),k=u(1),O=u(10),I=u(0),F=u(0),H=u({current_page:1,per_page:10,total:0,last_page:1,from:0,to:0}),ae=u(!1),W=u("daily"),le=u(0),de=u(0),g=u(""),j=u(""),ie=u(""),ce=u(""),G=u([]),X=u([]),ee=u({present:0,absent:0,total:0}),ye=u([{value:"present",label:"Present"},{value:"absent",label:"Absent"},{value:"late",label:"Late"},{value:"leave",label:"Leave"},{value:"medical",label:"Medical"},{value:"online_present",label:"Online Present"},{value:"proxy_suspected",label:"Proxy Suspected"}]),Ze=u([{value:"daily",label:"Daily Attendance"},{value:"period_wise",label:"Period-wise Attendance"}]),v=u(""),p=u({session_id:"",class_id:"",section_id:"",subject_id:"",date:new Date().toISOString().split("T")[0],month:new Date().getMonth()+1,year:new Date().getFullYear(),date_from:"",date_to:""}),m=u(null),ue=u(!1),we=u([{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}]),qe=u([2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030]),pe=u(null),ve=u(null),me=u(null),xe=u(null),ge=async a=>{if(g.value=a,(a==="subject"||a==="class")&&(ke(),Ce()),a==="subject"||a==="class"){if(U.value.length===0&&await fe(),C.value.length===0&&U.value.length>0)if(D.value)await be();else try{const t=await h.get("/classes");t.data.success&&Array.isArray(t.data.result)&&(C.value=t.data.result.map(o=>({value:o.id,label:o.name,session_id:o.session_id})))}catch{}}else a==="reports"&&(U.value.length===0&&await fe(),U.value.length>0&&await re())},_e=()=>{g.value="",v.value="",m.value=null,D.value="",V.value="",$.value="",j.value="",ie.value="",ce.value="",w.value=[],U.value=[],C.value=[],b.value=[],G.value=[],X.value=[]},ke=async()=>{try{const a=await h.get("/attendance/status-options");a.data.success&&(ye.value=Object.entries(a.data.data).map(([t,o])=>({value:t,label:o})))}catch{}},Ce=async()=>{try{const a=await h.get("/attendance/attendance-modes");a.data.success&&(Ze.value=Object.entries(a.data.data).map(([t,o])=>({value:t,label:o})))}catch{}},je=async()=>{const a=V.value||p.value.class_id;if(!a){G.value=[];return}try{const t=E(),o=t?{merchant_id:t}:{},d=await h.get(`/attendance/class/${a}/subjects`,{params:o});d.data.success&&(G.value=d.data.data.map(i=>({value:i.id,label:i.name})))}catch{}},Se=async()=>{if(!j.value){X.value=[];return}try{const a=E(),t=a?{merchant_id:a}:{},o=await h.get(`/attendance/subject/${j.value}/teachers`,{params:t});o.data.success&&(X.value=o.data.data.map(d=>({value:d.id,label:d.full_name||`${d.first_name} ${d.last_name}`})))}catch{}},Ke=async()=>{var a,t;if(!v.value){alert("Please select a report type");return}ue.value=!0;try{let o="",d={...p.value};switch(!d.date&&["daily"].includes(v.value)&&(d.date=new Date().toISOString().split("T")[0]),!d.month&&["monthly","subject","comparison"].includes(v.value)&&(d.month=new Date().getMonth()+1),!d.year&&["monthly","subject","comparison"].includes(v.value)&&(d.year=new Date().getFullYear()),v.value){case"daily":if(o="/attendance-reports/daily-sheet",!d.class_id||!d.section_id){alert("Please select class and section for daily report");return}break;case"monthly":o="/attendance-reports/monthly-summary";break;case"subject":if(o="/attendance-reports/subject-wise",!d.class_id||!d.section_id){alert("Please select class and section for subject-wise report");return}break;case"trends":if(o="/attendance-reports/trends",!d.date_from||!d.date_to){const f=new Date,B=new Date(f.getFullYear(),f.getMonth()-1,f.getDate());d.date_from=B.toISOString().split("T")[0],d.date_to=f.toISOString().split("T")[0]}break;case"defaulters":const c=await h.get("/attendance/defaulters",{params:d});m.value=c.data;return;case"comparison":o="/attendance-reports/class-comparison";break;default:alert("Invalid report type");return}const i=await h.post(o,d);if(i.data.success)m.value=i.data,setTimeout(()=>{v.value==="daily"?(et(),tt()):v.value==="monthly"&&(st(),at())},100);else throw new Error(i.data.message||"Failed to generate report")}catch(o){alert("Failed to generate report: "+(((t=(a=o.response)==null?void 0:a.data)==null?void 0:t.message)||o.message))}finally{ue.value=!1}},Xe=async()=>{if(!m.value){alert("Please generate a report first");return}try{const a={...p.value,report_type:v.value,format:"pdf"};(await h.post("/attendance-reports/export",a)).data.success&&alert("Report export prepared successfully!")}catch{alert("Failed to export report")}},et=()=>{var o,d;if(!pe.value||!((d=(o=m.value)==null?void 0:o.data)!=null&&d.summary))return;const a=pe.value.getContext("2d"),t=m.value.data.summary;new K(a,{type:"doughnut",data:{labels:["Present","Absent","Late","Leave"],datasets:[{data:[t.present||0,t.absent||0,t.late||0,t.leave||0],backgroundColor:["#10B981","#EF4444","#F59E0B","#6366F1"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,font:{size:12}}}}}})},tt=()=>{var o,d;if(!ve.value||!((d=(o=m.value)==null?void 0:o.data)!=null&&d.summary))return;const a=ve.value.getContext("2d"),t=m.value.data.summary;new K(a,{type:"bar",data:{labels:["Present","Absent","Late","Leave"],datasets:[{label:"Students",data:[t.present||0,t.absent||0,t.late||0,t.leave||0],backgroundColor:["#10B981","#EF4444","#F59E0B","#6366F1"],borderRadius:8,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})},st=()=>{var o,d;if(!me.value||!((d=(o=m.value)==null?void 0:o.data)!=null&&d.overall_stats))return;const a=me.value.getContext("2d");m.value.data.overall_stats;const t=m.value.data.weekly_trends||[{week:"Week 1",percentage:85},{week:"Week 2",percentage:88},{week:"Week 3",percentage:82},{week:"Week 4",percentage:90}];new K(a,{type:"line",data:{labels:t.map(i=>i.week||i.label),datasets:[{label:"Attendance %",data:t.map(i=>i.percentage||i.value||0),borderColor:"#8B5CF6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:3,fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(i){return i+"%"}}}}}})},at=()=>{var o,d;if(!xe.value||!((d=(o=m.value)==null?void 0:o.data)!=null&&d.overall_stats))return;const a=xe.value.getContext("2d"),t=m.value.data.overall_stats;new K(a,{type:"pie",data:{labels:["Excellent (90-100%)","Good (75-89%)","Average (60-74%)","Poor (<60%)"],datasets:[{data:[t.excellent_attendance||0,t.good_attendance||0,t.average_attendance||0,t.poor_attendance||0],backgroundColor:["#059669","#10B981","#F59E0B","#EF4444"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:11}}}}}})},lt=()=>({daily:"Daily Attendance Sheet",monthly:"Monthly Attendance Summary",subject:"Subject-wise Attendance Report",trends:"Attendance Trends & Analytics",defaulters:"Defaulters List",comparison:"Class Comparison Report"})[v.value]||"Attendance Report",ot=()=>{var o,d,i;const a=p.value;let t="";if(a.class_id&&C.value.length>0){const c=(o=C.value.find(f=>f.value==a.class_id))==null?void 0:o.label;t+=c?`Class: ${c}`:""}if(a.section_id&&b.value.length>0){const c=(d=b.value.find(f=>f.value==a.section_id))==null?void 0:d.label;t+=c?` | Section: ${c}`:""}if(v.value==="daily"&&a.date&&(t+=` | Date: ${De(a.date)}`),["monthly","subject","comparison"].includes(v.value)){const c=(i=we.value.find(f=>f.value==a.month))==null?void 0:i.label;t+=` | ${c} ${a.year}`}return t||"Generated on "+new Date().toLocaleDateString()},oe=a=>a>=90?"bg-green-500":a>=75?"bg-yellow-500":a>=60?"bg-orange-500":"bg-red-500",Ae=a=>{W.value=a},fe=async()=>{try{const a=await h.get("/sessions/select-options");a.data.success&&Array.isArray(a.data.result)&&(U.value=a.data.result.map(t=>({value:t.id,label:t.name})))}catch{try{const t=await h.get("/sessions");t.data.success&&Array.isArray(t.data.result)&&(U.value=t.data.result.map(o=>({value:o.id,label:o.name})))}catch{}}},be=async()=>{if(!D.value){C.value=[];return}try{const a=E(),t={session_id:D.value};a&&(t.merchant_id=a);const o=await h.get("/classes",{params:t});o.data.success&&Array.isArray(o.data.result)?C.value=o.data.result.map(d=>({value:d.id,label:d.name})):C.value=[]}catch{C.value=[]}},Me=async()=>{if(!V.value){b.value=[];return}try{const a=E(),t={class_id:V.value};a&&(t.merchant_id=a);const o=await h.get("/sections/select-options",{params:t});o.data.success&&Array.isArray(o.data.result)?b.value=o.data.result.map(d=>({value:d.id,label:d.name})):b.value=[]}catch{try{const t=E(),o={class_id:V.value};t&&(o.merchant_id=t);const d=await h.get("/sections",{params:o});d.data.success&&Array.isArray(d.data.result)?b.value=d.data.result.map(i=>({value:i.id,label:i.name})):b.value=[]}catch{b.value=[]}}},J=async(a=1)=>{if(D.value&&C.value.length===0&&await be(),V.value&&b.value.length===0&&await Me(),g.value==="subject"&&j.value&&X.value.length===0&&await Se(),!V.value||!$.value){w.value=[],H.value={current_page:1,per_page:10,total:0,last_page:1,from:0,to:0};return}if(g.value==="subject"&&!j.value){w.value=[];return}R.value=!0;try{const t=E(),o={class_id:V.value,section_id:$.value,date:L.value,attendance_mode:g.value==="subject"?"period_wise":"daily",page:a,per_page:O.value,search:Q.value||""};t&&(o.merchant_id=t),D.value&&(o.session_id=D.value),g.value==="subject"&&j.value&&(o.subject_id=j.value);const d=await h.get("/attendance/students-paginated",{params:o});if(d.data.success){const i=d.data.result;i.data&&Array.isArray(i.data)?(w.value=i.data.map(c=>{var f,B;return{id:c.id,name:`${c.first_name} ${c.last_name}`,rollNumber:c.roll_number,class:((f=c.class)==null?void 0:f.name)||"",section:((B=c.section)==null?void 0:B.name)||"",date:L.value,status:c.attendance_status||"not_marked",timeIn:c.time_in||"",timeOut:c.time_out||"",remarks:c.remarks||"",isMarked:c.is_marked||!1,attendancePercentage:c.attendance_percentage||0,totalClasses:c.total_classes||0,presentClasses:c.present_classes||0}}),H.value={current_page:i.current_page,per_page:i.per_page,total:i.total,last_page:i.last_page,from:i.from,to:i.to},k.value=i.current_page,I.value=i.total,F.value=i.last_page):Array.isArray(i)&&(w.value=i.map(c=>{var f,B;return{id:c.id,name:`${c.first_name} ${c.last_name}`,rollNumber:c.roll_number,class:((f=c.class)==null?void 0:f.name)||"",section:((B=c.section)==null?void 0:B.name)||"",date:L.value,status:c.attendance_status||"not_marked",timeIn:c.time_in||"",timeOut:c.time_out||"",remarks:c.remarks||"",isMarked:c.is_marked||!1,attendancePercentage:c.attendance_percentage||0,totalClasses:c.total_classes||0,presentClasses:c.present_classes||0}}),I.value=w.value.length,F.value=1),le.value=w.value.filter(c=>c.status==="present").length,de.value=I.value}else w.value=[]}catch{w.value=[];try{const o={class_id:V.value,section_id:$.value,page:a,per_page:O.value,search:Q.value};D.value&&(o.session_id=D.value);const d=await h.get("/students",{params:o}),i=d.data.result||d.data,c=(i==null?void 0:i.data)||i||[];Array.isArray(c)&&(w.value=c.map(f=>{var B,te;return{id:f.id,name:`${f.first_name} ${f.last_name}`,rollNumber:f.roll_number,class:((B=f.class)==null?void 0:B.name)||"",section:((te=f.section)==null?void 0:te.name)||"",date:L.value,status:"not_marked",timeIn:"",timeOut:"",remarks:"",isMarked:!1,attendancePercentage:0,totalClasses:0,presentClasses:0}}),i!=null&&i.current_page?(H.value={current_page:i.current_page,per_page:i.per_page,total:i.total,last_page:i.last_page,from:i.from,to:i.to},k.value=i.current_page,I.value=i.total,F.value=i.last_page):(I.value=w.value.length,F.value=1)),le.value=w.value.length,de.value=I.value}catch{}}finally{R.value=!1}},Z=wt(()=>w.value),Ve=a=>{switch(a==null?void 0:a.toLowerCase()){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";default:return"bg-white text-gray-900"}},De=a=>a?new Date(a).toLocaleDateString("en-GB"):"-",rt=()=>{k.value=1,J(1)},he=a=>{a>=1&&a<=F.value&&(k.value=a,J(a))},nt=()=>{k.value<F.value&&he(k.value+1)},dt=()=>{k.value>1&&he(k.value-1)},it=a=>{O.value=a,k.value=1,J(1)},ct=()=>{const a=[],t=F.value,o=k.value;if(t<=7)for(let d=1;d<=t;d++)a.push(d);else{a.push(1),o>4&&a.push("...");const d=Math.max(2,o-1),i=Math.min(t-1,o+1);for(let c=d;c<=i;c++)a.push(c);o<t-3&&a.push("..."),t>1&&a.push(t)}return a},Te=a=>{},Be=a=>{},ut=()=>{p.value.class_id="",p.value.section_id="",C.value=[],b.value=[],p.value.session_id&&re()},re=async()=>{if(p.value.session_id)try{const a=E(),t={session_id:p.value.session_id};a&&(t.merchant_id=a);const o=await h.get("/classes",{params:t});o.data.success&&Array.isArray(o.data.result)&&(C.value=o.data.result.map(d=>({value:d.id,label:d.name})))}catch{}},pt=async()=>{if(p.value.section_id)try{(await h.get(`/attendance/section/${p.value.section_id}/stats`)).data.success}catch{}},vt=()=>{const a=new Date().toTimeString().slice(0,5);w.value.forEach(t=>{t.status="present",t.timeIn||(t.timeIn=a)}),alert(`Marked all ${w.value.length} students as present with time ${a}`)},mt=()=>{w.value.forEach(a=>{a.status="absent",a.timeIn="",a.remarks=""}),alert(`Marked all ${w.value.length} students as absent`)},xt=()=>{Q.value="",D.value="",V.value="",$.value="",j.value="",ie.value="",ce.value="",L.value=new Date().toISOString().split("T")[0],Qe.value="",C.value=[],b.value=[],G.value=[],X.value=[],w.value=[],Z.value=[],k.value=1,I.value=0,F.value=0,H.value={current_page:1,per_page:10,total:0,last_page:1,from:0,to:0}},Pe=async()=>{var a,t;try{if(R.value=!0,g.value==="subject"&&!j.value){alert("Please select subject for subject-wise attendance");return}const o={class_id:V.value,section_id:$.value,date:L.value,attendance_mode:g.value==="subject"?"period_wise":"daily",attendances:w.value.map(c=>({student_id:c.id,status:c.status,time_in:c.timeIn,time_out:c.timeOut,remarks:c.remarks}))};let d="/attendance/mark-daily";g.value==="subject"&&(d="/attendance/mark-period",o.subject_id=j.value,o.teacher_id=ie.value,o.period_number=ce.value||1);const i=await h.post(d,o);if(i.data.success)alert("Attendance saved successfully!"),await J();else throw new Error(i.data.message||"Failed to save attendance")}catch(o){alert("Failed to save attendance: "+(((t=(a=o.response)==null?void 0:a.data)==null?void 0:t.message)||o.message))}finally{R.value=!1}};Y(D,a=>{V.value="",$.value="",C.value=[],b.value=[],a&&be()}),Y(V,a=>{$.value="",b.value=[],a&&(Me(),g.value==="subject"&&je())}),Y(j,()=>{j.value&&Se()}),Y(()=>p.value.session_id,(a,t)=>{a!==t&&(p.value.class_id="",p.value.section_id="",C.value=[],b.value=[],a&&re())}),Y(()=>p.value.class_id,(a,t)=>{a!==t&&(p.value.section_id="",b.value=[],a&&(gt(),g.value==="reports"&&je()))}),Y(()=>p.value.section_id,a=>{a&&g.value==="reports"&&pt()});const gt=async()=>{if(!p.value.class_id){b.value=[];return}try{const a=E(),t={class_id:p.value.class_id};a&&(t.merchant_id=a);const o=await h.get("/sections/select-options",{params:t});o.data.success&&Array.isArray(o.data.result)?b.value=o.data.result.map(d=>({value:d.id,label:d.name})):b.value=[]}catch{b.value=[]}};Y(Q,a=>{clearTimeout(ze.value),ze.value=setTimeout(()=>{k.value=1,J(1)},500)});const ze=u(null);u(1);const ft=async()=>{try{const a=await h.get("/attendance/stats");a.data.success&&(ee.value={present:a.data.data.today_present||0,absent:a.data.data.today_absent||0,total:a.data.data.today_total||0})}catch{ee.value={present:0,absent:0,total:0}}};return _t(async()=>{await fe(),ft(),g.value==="reports"&&re();try{const a=await h.get("/classes");if(a.data.success&&Array.isArray(a.data.result)){const t=a.data.result.map(o=>({value:o.id,label:o.name,session_id:o.session_id}));!D.value&&t.length>0&&(C.value=t)}}catch{}try{const a=await h.get("/sections");if(a.data.success&&Array.isArray(a.data.result)){const t=a.data.result.map(o=>({value:o.id,label:o.name,class_id:o.class_id}));!V.value&&t.length>0&&(b.value=t)}}catch{}}),(a,t)=>{var o,d,i,c,f,B,te,Re,$e,Ie,Fe,Ne,Ue,Le,Oe,Ee;return n(),r("div",St,[g.value?g.value==="reports"?(n(),r("div",Ot,[e("div",{class:"mb-4"},[e("button",{onClick:_e,class:"flex items-center gap-2 px-4 py-2 bg-white/90 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 text-gray-900 hover:text-gray-900"},[...t[46]||(t[46]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1),T(" Back to Selection ",-1)])])]),t[89]||(t[89]=S('<div class="w-full mx-auto mt-2 mb-6 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500" data-v-1dc2eb2c><h2 class="text-base font-medium text-gray-600 tracking-tight flex items-center gap-2" data-v-1dc2eb2c><div class="w-2 h-2 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full animate-pulse" data-v-1dc2eb2c></div> Attendance Reports &amp; Analytics </h2><nav class="flex items-center gap-2 text-base font-medium text-gray-500" data-v-1dc2eb2c><span class="hover:text-green-600 cursor-pointer transition-colors duration-200" data-v-1dc2eb2c>Dashboard</span><span class="mx-2" data-v-1dc2eb2c>|</span><span class="hover:text-green-600 cursor-pointer transition-colors duration-200" data-v-1dc2eb2c>Students</span><span class="mx-2" data-v-1dc2eb2c>|</span><span class="hover:text-green-600 cursor-pointer transition-colors duration-200" data-v-1dc2eb2c>Attendance</span><span class="mx-2" data-v-1dc2eb2c>|</span><span class="text-gray-900 font-bold" data-v-1dc2eb2c>Reports</span></nav></div>',1)),e("div",Et,[e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[3]||(t[3]=s=>v.value="daily")},[...t[47]||(t[47]=[S('<div class="bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4" data-v-1dc2eb2c><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-1dc2eb2c><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-1dc2eb2c></path></svg></div><div data-v-1dc2eb2c><h3 class="text-base font-medium text-white tracking-tight" data-v-1dc2eb2c>Daily Report</h3><p class="text-blue-100 text-sm" data-v-1dc2eb2c>Day-wise attendance sheet</p></div></div></div><div class="p-4" data-v-1dc2eb2c><p class="text-sm text-gray-600" data-v-1dc2eb2c>Generate detailed daily attendance reports for specific dates</p></div>',2)])]),e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[4]||(t[4]=s=>v.value="monthly")},[...t[48]||(t[48]=[S('<div class="bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-4" data-v-1dc2eb2c><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-1dc2eb2c><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z" data-v-1dc2eb2c></path></svg></div><div data-v-1dc2eb2c><h3 class="text-base font-medium text-white tracking-tight" data-v-1dc2eb2c>Monthly Summary</h3><p class="text-purple-100 text-sm" data-v-1dc2eb2c>Student-wise percentage</p></div></div></div><div class="p-4" data-v-1dc2eb2c><p class="text-sm text-gray-600" data-v-1dc2eb2c>Comprehensive monthly attendance summary with statistics</p></div>',2)])]),e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[5]||(t[5]=s=>v.value="subject")},[...t[49]||(t[49]=[S('<div class="bg-gradient-to-r from-indigo-500 to-indigo-600 px-6 py-4" data-v-1dc2eb2c><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-1dc2eb2c><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" data-v-1dc2eb2c></path></svg></div><div data-v-1dc2eb2c><h3 class="text-base font-medium text-white tracking-tight" data-v-1dc2eb2c>Subject-wise</h3><p class="text-indigo-100 text-sm" data-v-1dc2eb2c>Subject attendance tracking</p></div></div></div><div class="p-4" data-v-1dc2eb2c><p class="text-sm text-gray-600" data-v-1dc2eb2c>Analyze attendance patterns for individual subjects</p></div>',2)])]),e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[6]||(t[6]=s=>v.value="trends")},[...t[50]||(t[50]=[S('<div class="bg-gradient-to-r from-green-500 to-green-600 px-6 py-4" data-v-1dc2eb2c><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-1dc2eb2c><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" data-v-1dc2eb2c></path></svg></div><div data-v-1dc2eb2c><h3 class="text-base font-medium text-white tracking-tight" data-v-1dc2eb2c>Trends &amp; Analytics</h3><p class="text-green-100 text-sm" data-v-1dc2eb2c>Attendance patterns</p></div></div></div><div class="p-4" data-v-1dc2eb2c><p class="text-sm text-gray-600" data-v-1dc2eb2c>Discover trends and patterns in attendance data</p></div>',2)])]),e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[7]||(t[7]=s=>v.value="defaulters")},[...t[51]||(t[51]=[S('<div class="bg-gradient-to-r from-red-500 to-red-600 px-6 py-4" data-v-1dc2eb2c><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-1dc2eb2c><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" data-v-1dc2eb2c></path></svg></div><div data-v-1dc2eb2c><h3 class="text-base font-medium text-white tracking-tight" data-v-1dc2eb2c>Defaulters List</h3><p class="text-red-100 text-sm" data-v-1dc2eb2c>Students below 75%</p></div></div></div><div class="p-4" data-v-1dc2eb2c><p class="text-sm text-gray-600" data-v-1dc2eb2c>Identify students with poor attendance records</p></div>',2)])]),e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[8]||(t[8]=s=>v.value="comparison")},[...t[52]||(t[52]=[S('<div class="bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4" data-v-1dc2eb2c><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-1dc2eb2c><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.5a8.25 8.25 0 0116.5 0" data-v-1dc2eb2c></path></svg></div><div data-v-1dc2eb2c><h3 class="text-base font-medium text-white tracking-tight" data-v-1dc2eb2c>Class Comparison</h3><p class="text-orange-100 text-sm" data-v-1dc2eb2c>Compare class performance</p></div></div></div><div class="p-4" data-v-1dc2eb2c><p class="text-sm text-gray-600" data-v-1dc2eb2c>Compare attendance rates across different classes</p></div>',2)])])]),v.value?(n(),r("div",Ht,[e("div",Gt,[t[66]||(t[66]=e("h4",{class:"text-base font-medium text-gray-900 mb-4"},"Report Filters",-1)),e("div",Wt,[e("div",Jt,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Session",-1)),A(e("select",{"onUpdate:modelValue":t[9]||(t[9]=s=>p.value.session_id=s),onChange:ut,class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[t[53]||(t[53]=e("option",{value:""},"All Sessions",-1)),(n(!0),r(y,null,_(U.value,s=>(n(),r("option",{key:s.value,value:s.value},l(s.label),9,Yt))),128))],544),[[z,p.value.session_id]])]),e("div",Qt,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Class",-1)),A(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>p.value.class_id=s),class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[t[55]||(t[55]=e("option",{value:""},"All Classes",-1)),(n(!0),r(y,null,_(C.value,s=>(n(),r("option",{key:s.value,value:s.value},l(s.label),9,Zt))),128))],512),[[z,p.value.class_id]])]),e("div",qt,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Section",-1)),A(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>p.value.section_id=s),class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[t[57]||(t[57]=e("option",{value:""},"All Sections",-1)),(n(!0),r(y,null,_(b.value,s=>(n(),r("option",{key:s.value,value:s.value},l(s.label),9,Kt))),128))],512),[[z,p.value.section_id]])]),v.value==="subject"?(n(),r("div",Xt,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Subject",-1)),A(e("select",{"onUpdate:modelValue":t[12]||(t[12]=s=>p.value.subject_id=s),class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[t[59]||(t[59]=e("option",{value:""},"All Subjects",-1)),(n(!0),r(y,null,_(G.value,s=>(n(),r("option",{key:s.value,value:s.value},l(s.label),9,es))),128))],512),[[z,p.value.subject_id]])])):M("",!0),v.value==="daily"?(n(),r("div",ts,[t[61]||(t[61]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Date",-1)),q(ne,{modelValue:p.value.date,"onUpdate:modelValue":t[13]||(t[13]=s=>p.value.date=s),placeholder:""},null,8,["modelValue"])])):M("",!0),["monthly","subject","comparison"].includes(v.value)?(n(),r("div",ss,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Month",-1)),A(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>p.value.month=s),class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[(n(!0),r(y,null,_(we.value,s=>(n(),r("option",{key:s.value,value:s.value},l(s.label),9,as))),128))],512),[[z,p.value.month]])])):M("",!0),["monthly","subject","comparison"].includes(v.value)?(n(),r("div",ls,[t[63]||(t[63]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Year",-1)),A(e("select",{"onUpdate:modelValue":t[15]||(t[15]=s=>p.value.year=s),class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[(n(!0),r(y,null,_(qe.value,s=>(n(),r("option",{key:s,value:s},l(s),9,os))),128))],512),[[z,p.value.year]])])):M("",!0),v.value==="trends"?(n(),r("div",rs,[t[64]||(t[64]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Date From",-1)),q(ne,{modelValue:p.value.date_from,"onUpdate:modelValue":t[16]||(t[16]=s=>p.value.date_from=s),placeholder:""},null,8,["modelValue"])])):M("",!0),v.value==="trends"?(n(),r("div",ns,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Date To",-1)),q(ne,{modelValue:p.value.date_to,"onUpdate:modelValue":t[17]||(t[17]=s=>p.value.date_to=s),placeholder:""},null,8,["modelValue"])])):M("",!0)]),e("div",{class:"flex justify-end mt-4 gap-2"},[e("button",{onClick:Ke,class:"px-6 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105 font-medium"}," Generate Report "),e("button",{onClick:Xe,class:"px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-lg hover:from-blue-600 hover:to-indigo-600 transition-all duration-300 transform hover:scale-105 font-medium"}," Export ")])]),m.value?(n(),r("div",ds,[e("div",is,[e("h3",cs,l(lt()),1),e("p",us,l(ot()),1)]),v.value==="daily"?(n(),r("div",ps,[e("div",vs,[e("div",ms,[e("div",xs,l(((d=(o=m.value.data)==null?void 0:o.summary)==null?void 0:d.present)||0),1),t[67]||(t[67]=e("div",{class:"text-sm text-green-700"},"Present",-1))]),e("div",gs,[e("div",fs,l(((c=(i=m.value.data)==null?void 0:i.summary)==null?void 0:c.absent)||0),1),t[68]||(t[68]=e("div",{class:"text-sm text-red-700"},"Absent",-1))]),e("div",bs,[e("div",hs,l(((B=(f=m.value.data)==null?void 0:f.summary)==null?void 0:B.late)||0),1),t[69]||(t[69]=e("div",{class:"text-sm text-yellow-700"},"Late",-1))]),e("div",ys,[e("div",ws,l(((Re=(te=m.value.data)==null?void 0:te.summary)==null?void 0:Re.total_students)||0),1),t[70]||(t[70]=e("div",{class:"text-sm text-blue-700"},"Total",-1))])]),e("div",_s,[e("div",ks,[t[71]||(t[71]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Attendance Overview",-1)),e("canvas",{ref_key:"dailyChart",ref:pe,width:"400",height:"200"},null,512)]),e("div",Cs,[t[72]||(t[72]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Status Distribution",-1)),e("canvas",{ref_key:"statusChart",ref:ve,width:"400",height:"200"},null,512)])]),e("div",js,[e("table",Ss,[t[73]||(t[73]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Student"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Roll No"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Time In"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Remarks")])],-1)),e("tbody",As,[(n(!0),r(y,null,_(m.value.data.attendance_sheet,s=>{var x,P,He,Ge;return n(),r("tr",{key:s.student.id},[e("td",Ms,l(s.student.name),1),e("td",Vs,l(s.student.roll_number),1),e("td",Ds,[e("span",{class:N([Ve(((x=s.attendance[0])==null?void 0:x.status)||"absent"),"px-2 py-1 rounded-full text-xs font-medium"])},l(((P=s.attendance[0])==null?void 0:P.status)||"absent"),3)]),e("td",Ts,l(((He=s.attendance[0])==null?void 0:He.time_in)||"-"),1),e("td",Bs,l(((Ge=s.attendance[0])==null?void 0:Ge.remarks)||"-"),1)])}),128))])])])])):v.value==="monthly"?(n(),r("div",Ps,[e("div",zs,[e("div",Rs,[e("div",$s,l(((Ie=($e=m.value.data)==null?void 0:$e.overall_stats)==null?void 0:Ie.total_students)||0),1),t[74]||(t[74]=e("div",{class:"text-sm text-blue-700"},"Total Students",-1))]),e("div",Is,[e("div",Fs,l(Math.round(((Fe=m.value.data.overall_stats)==null?void 0:Fe.average_attendance)||0))+"%",1),t[75]||(t[75]=e("div",{class:"text-sm text-green-700"},"Avg Attendance",-1))]),e("div",Ns,[e("div",Us,l(((Ne=m.value.data.overall_stats)==null?void 0:Ne.good_attendance)||0),1),t[76]||(t[76]=e("div",{class:"text-sm text-yellow-700"},"Good (75-89%)",-1))]),e("div",Ls,[e("div",Os,l(((Ue=m.value.data.overall_stats)==null?void 0:Ue.defaulters_count)||0),1),t[77]||(t[77]=e("div",{class:"text-sm text-red-700"},"Defaulters",-1))])]),e("div",Es,[e("div",Hs,[t[78]||(t[78]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Monthly Attendance Trend",-1)),e("canvas",{ref_key:"monthlyTrendChart",ref:me,width:"400",height:"200"},null,512)]),e("div",Gs,[t[79]||(t[79]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Performance Categories",-1)),e("canvas",{ref_key:"performanceChart",ref:xe,width:"400",height:"200"},null,512)])]),e("div",Ws,[e("table",Js,[t[80]||(t[80]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Student"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Roll No"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Class"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Total Days"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Present Days"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Percentage"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),e("tbody",Ys,[(n(!0),r(y,null,_(m.value.data.student_summaries,s=>(n(),r("tr",{key:s.student.id},[e("td",Qs,l(s.student.name),1),e("td",Zs,l(s.student.roll_number),1),e("td",qs,l(s.student.class)+" - "+l(s.student.section),1),e("td",Ks,l(s.total_days),1),e("td",Xs,l(s.present_days),1),e("td",ea,[e("span",{class:N([oe(s.attendance_percentage),"px-2 py-1 rounded-full text-xs font-medium"])},l(s.attendance_percentage)+"% ",3)]),e("td",ta,[e("span",{class:N([s.is_defaulter?"text-red-600 font-medium":"text-green-600 font-medium","text-xs"])},l(s.is_defaulter?"Defaulter":"Good"),3)])]))),128))])])])])):v.value==="subject"?(n(),r("div",sa,[(n(!0),r(y,null,_(m.value.data.subject_reports,s=>(n(),r("div",{key:s.subject.id,class:"border border-gray-200 rounded-lg p-4"},[e("div",aa,[e("h4",la,l(s.subject.name)+" ("+l(s.subject.code)+")",1),e("div",oa," Avg: "+l(Math.round(s.subject_stats.average_attendance))+"% | Classes: "+l(s.subject_stats.total_classes_conducted),1)]),e("div",ra,[e("table",na,[t[81]||(t[81]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Student"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Roll No"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Total Classes"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Present"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Percentage")])],-1)),e("tbody",da,[(n(!0),r(y,null,_(s.student_summaries,x=>(n(),r("tr",{key:x.student_id},[e("td",ia,l(x.student_name),1),e("td",ca,l(x.roll_number),1),e("td",ua,l(x.total_classes),1),e("td",pa,l(x.present_classes),1),e("td",va,[e("span",{class:N([oe(x.attendance_percentage),"px-2 py-1 rounded-full text-xs font-medium"])},l(x.attendance_percentage)+"% ",3)])]))),128))])])])]))),128))])):v.value==="defaulters"?(n(),r("div",ma,[e("div",xa,[t[82]||(t[82]=e("h4",{class:"text-lg font-medium text-red-800 mb-2"},"Students with Attendance Below 75%",-1)),e("p",ga,"Total Defaulters: "+l(((Le=m.value.data)==null?void 0:Le.length)||0),1)]),e("div",fa,[e("table",ba,[t[83]||(t[83]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Student"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Roll No"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Class"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Total Days"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Present Days"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Percentage")])],-1)),e("tbody",ha,[(n(!0),r(y,null,_(m.value.data,s=>{var x,P;return n(),r("tr",{key:s.student.id,class:"bg-red-50"},[e("td",ya,l(s.student.first_name)+" "+l(s.student.last_name),1),e("td",wa,l(s.student.roll_number),1),e("td",_a,l((x=s.student.class)==null?void 0:x.name)+" - "+l((P=s.student.section)==null?void 0:P.name),1),e("td",ka,l(s.total_days),1),e("td",Ca,l(s.present_days),1),e("td",ja,[e("span",Sa,l(s.attendance_percentage)+"% ",1)])])}),128))])])])])):(n(),r("div",Aa,[t[84]||(t[84]=e("svg",{class:"w-16 h-16 mx-auto text-gray-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z"})],-1)),t[85]||(t[85]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"Report Data",-1)),t[86]||(t[86]=e("p",{class:"text-gray-600"},"Report generated successfully. Data structure:",-1)),e("pre",Ma,l(JSON.stringify(m.value.data,null,2)),1)]))])):ue.value?(n(),r("div",Va,[...t[87]||(t[87]=[e("div",{class:"w-16 h-16 border-4 border-green-200 border-t-green-600 rounded-full animate-spin mb-4"},null,-1),e("p",{class:"text-gray-600"},"Generating report...",-1)])])):(n(),r("div",Da,[...t[88]||(t[88]=[S('<svg class="w-16 h-16 mx-auto text-gray-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z" data-v-1dc2eb2c></path></svg><h4 class="text-lg font-medium text-gray-900 mb-2" data-v-1dc2eb2c>Select Report Type</h4><p class="text-gray-600" data-v-1dc2eb2c>Choose a report type above and fill the required filters to generate report</p><div class="mt-4 flex justify-center" data-v-1dc2eb2c><div class="flex items-center gap-2 text-xs text-gray-500" data-v-1dc2eb2c><span class="w-2 h-2 bg-blue-400 rounded-full" data-v-1dc2eb2c></span><span data-v-1dc2eb2c>Daily Report</span><span class="w-2 h-2 bg-purple-400 rounded-full" data-v-1dc2eb2c></span><span data-v-1dc2eb2c>Monthly Summary</span><span class="w-2 h-2 bg-indigo-400 rounded-full" data-v-1dc2eb2c></span><span data-v-1dc2eb2c>Subject-wise</span></div></div>',4)])]))])):M("",!0)])):g.value!=="reports"?(n(),r("div",Ta,[e("div",{class:"mb-4"},[e("button",{onClick:_e,class:"flex items-center gap-2 px-4 py-2 bg-white/90 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 text-gray-900 hover:text-gray-900"},[...t[90]||(t[90]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1),T(" Back to Selection ",-1)])])]),e("div",Ba,[e("div",Pa,[e("button",{onClick:t[18]||(t[18]=s=>Ae("daily")),class:N([W.value==="daily"?"px-3":"px-4","py-2 rounded-full text-sm font-medium transition-all duration-300 ease-in-out transform relative overflow-hidden",W.value==="daily"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md scale-105":"text-purple-600 hover:text-purple-700 hover:bg-purple-50 hover:scale-102"])},[e("span",za,[t[91]||(t[91]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t[92]||(t[92]=T(" Daily Attendance ",-1)),e("span",Ra,l(le.value),1)]),W.value==="daily"?(n(),r("div",$a)):M("",!0)],2),t[95]||(t[95]=e("div",{class:"h-6 w-px bg-purple-200 mx-1 self-center"},null,-1)),e("button",{onClick:t[19]||(t[19]=s=>Ae("monthly")),class:N([W.value==="monthly"?"px-3":"px-4","py-2 rounded-full text-sm font-medium transition-all duration-300 ease-in-out transform relative overflow-hidden",W.value==="monthly"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md scale-105":"text-purple-600 hover:text-purple-700 hover:bg-purple-50 hover:scale-102"])},[e("span",Ia,[t[93]||(t[93]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z"})],-1)),t[94]||(t[94]=T(" Monthly Report ",-1)),e("span",Fa,l(de.value),1)]),W.value==="monthly"?(n(),r("div",Na)):M("",!0)],2)])]),e("div",Ua,[e("h2",La,[t[96]||(t[96]=e("div",{class:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"},null,-1)),T(" "+l(g.value==="subject"?"Subject-wise Attendance":"Class-wise Attendance"),1)]),t[97]||(t[97]=S('<nav class="flex items-center gap-2 text-base font-medium text-gray-600" data-v-1dc2eb2c><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-1dc2eb2c>Dashboard</span><span class="mx-2" data-v-1dc2eb2c>|</span><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-1dc2eb2c>Academic</span><span class="mx-2" data-v-1dc2eb2c>|</span><span class="text-gray-900 font-bold" data-v-1dc2eb2c>Attendance</span></nav>',1))]),t[150]||(t[150]=e("div",{class:"relative z-10 w-full mb-2"},[e("div",{class:"flex flex-col items-start"},[e("h3",{class:"text-base font-medium text-gray-900 tracking-tight"},"Filter Attendance"),e("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-300",style:{"max-width":"110px"}})])],-1)),e("div",Oa,[e("form",{class:"w-full",onSubmit:We(rt,["prevent"])},[e("div",Ea,[e("div",Ha,[t[99]||(t[99]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Search",-1)),e("div",Ga,[A(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>Q.value=s),type:"text",placeholder:"Search students...",class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[se,Q.value]]),t[98]||(t[98]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",Wa,[t[103]||(t[103]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Session",-1)),e("div",Ja,[A(e("select",{"onUpdate:modelValue":t[21]||(t[21]=s=>D.value=s),class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[t[100]||(t[100]=e("option",{value:""},"All Sessions",-1)),(n(!0),r(y,null,_(U.value,s=>(n(),r("option",{key:s.value,value:s.value},l(s.label),9,Ya))),128))],512),[[z,D.value]]),t[101]||(t[101]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[102]||(t[102]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",Qa,[t[107]||(t[107]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Class",-1)),e("div",Za,[A(e("select",{"onUpdate:modelValue":t[22]||(t[22]=s=>V.value=s),class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[t[104]||(t[104]=e("option",{value:""},"All Classes",-1)),(n(!0),r(y,null,_(C.value,s=>(n(),r("option",{key:s.value,value:s.value},l(s.label),9,qa))),128))],512),[[z,V.value]]),t[105]||(t[105]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[106]||(t[106]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",Ka,[t[111]||(t[111]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Section",-1)),e("div",Xa,[A(e("select",{"onUpdate:modelValue":t[23]||(t[23]=s=>$.value=s),class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[t[108]||(t[108]=e("option",{value:""},"All Sections",-1)),(n(!0),r(y,null,_(b.value,s=>(n(),r("option",{key:s.value,value:s.value},l(s.label),9,el))),128))],512),[[z,$.value]]),t[109]||(t[109]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[110]||(t[110]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),g.value==="subject"?(n(),r("div",tl,[t[115]||(t[115]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Subject",-1)),e("div",sl,[A(e("select",{"onUpdate:modelValue":t[24]||(t[24]=s=>j.value=s),class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[t[112]||(t[112]=e("option",{value:""},"Select Subject",-1)),(n(!0),r(y,null,_(G.value,s=>(n(),r("option",{key:s.value,value:s.value},l(s.label),9,al))),128))],512),[[z,j.value]]),t[113]||(t[113]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[114]||(t[114]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])):M("",!0),e("div",ll,[t[117]||(t[117]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Date",-1)),e("div",ol,[q(ne,{modelValue:L.value,"onUpdate:modelValue":t[25]||(t[25]=s=>L.value=s),placeholder:""},null,8,["modelValue"]),t[116]||(t[116]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]),e("div",{class:"flex justify-end mt-3"},[e("div",{class:"flex items-center gap-2"},[e("button",{type:"button",onClick:xt,class:"h-9 px-6 bg-white hover:bg-white text-gray-900 text-sm font-medium rounded-full border border-gray-200 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[...t[118]||(t[118]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),T(" Clear ",-1)])]),t[119]||(t[119]=e("button",{type:"submit",class:"h-9 px-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-medium rounded-full hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]),T(" Search ")],-1))])])],32)]),e("div",rl,[e("div",nl,[e("h3",dl,[t[120]||(t[120]=e("div",{class:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 animate-bounce"},null,-1)),T(" "+l(g.value==="subject"?"Subject Students":"Class Students")+" ("+l(I.value)+") ",1)]),t[121]||(t[121]=e("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-500",style:{"max-width":"120px"}},null,-1))])]),t[151]||(t[151]=e("div",{class:"relative z-10 w-full"},[e("div",{class:"h-[2px] w-full bg-purple-200 mb-4"})],-1)),R.value?(n(),r("div",il,[e("div",cl,[q(Ct)])])):!R.value&&Z.value.length===0?(n(),r("div",ul,[e("div",pl,[e("div",vl,[t[123]||(t[123]=S('<div class="relative mb-6" data-v-1dc2eb2c><div class="w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center" data-v-1dc2eb2c><svg class="w-12 h-12 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" data-v-1dc2eb2c></path></svg></div><div class="absolute -top-2 -right-2 w-4 h-4 bg-purple-300 rounded-full animate-ping opacity-30" data-v-1dc2eb2c></div><div class="absolute -bottom-2 -left-2 w-3 h-3 bg-indigo-300 rounded-full animate-pulse" data-v-1dc2eb2c></div></div>',1)),e("div",ml,[t[122]||(t[122]=e("h3",{class:"text-gray-600 font-medium text-xl mb-2"},"No Attendance Records",-1)),e("p",xl,l(I.value===0?"No students found. Select class and section to view attendance records or start marking attendance for today.":"No students match your current filters. Try adjusting your search criteria."),1)])])])])):!R.value&&Z.value.length>0?(n(),r("div",gl,[e("div",fl,[e("div",bl,[e("table",hl,[e("thead",yl,[e("tr",null,[t[124]||(t[124]=e("th",{class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"#",-1)),t[125]||(t[125]=e("th",{class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Student",-1)),t[126]||(t[126]=e("th",{class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Roll No",-1)),t[127]||(t[127]=e("th",{class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Class",-1)),t[128]||(t[128]=e("th",{class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Section",-1)),t[129]||(t[129]=e("th",{class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Status",-1)),t[130]||(t[130]=e("th",{class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Time In",-1)),t[131]||(t[131]=e("th",{class:"text-left py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Remarks",-1)),g.value==="subject"?(n(),r("th",wl,"Subject Attendance %")):M("",!0),t[132]||(t[132]=e("th",{class:"text-center py-2 px-2 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Actions",-1))])]),e("tbody",null,[(n(!0),r(y,null,_(Z.value,(s,x)=>(n(),r("tr",{key:s.id,class:"hover:bg-indigo-50 transition-colors border-b border-purple-200"},[e("td",_l,l((k.value-1)*O.value+x+1),1),e("td",kl,[e("div",Cl,[e("div",jl,l(s.name.charAt(0).toUpperCase()),1),e("div",null,[e("div",Sl,l(s.name),1)])])]),e("td",Al,l(s.rollNumber),1),e("td",Ml,l(s.class),1),e("td",Vl,[e("span",Dl,l(s.section||"N/A"),1)]),e("td",Tl,[A(e("select",{"onUpdate:modelValue":P=>s.status=P,class:"text-xs border border-gray-200 rounded px-2 py-1 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"},[...t[133]||(t[133]=[e("option",{value:"present"},"Present",-1),e("option",{value:"absent"},"Absent",-1),e("option",{value:"late"},"Late",-1),e("option",{value:"excused"},"Excused",-1)])],8,Bl),[[z,s.status]])]),e("td",Pl,[A(e("input",{"onUpdate:modelValue":P=>s.timeIn=P,type:"time",class:"text-xs border border-gray-200 rounded px-2 py-1 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"},null,8,zl),[[se,s.timeIn]])]),e("td",Rl,[A(e("input",{"onUpdate:modelValue":P=>s.remarks=P,type:"text",placeholder:"Add remarks",class:"text-xs border border-gray-200 rounded px-2 py-1 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 w-32"},null,8,$l),[[se,s.remarks]])]),g.value==="subject"?(n(),r("td",Il,[e("span",{class:N([oe(s.attendancePercentage),"px-2 py-1 rounded-full text-xs font-medium"])},l(s.attendancePercentage||0)+"% ",3)])):M("",!0),e("td",Fl,[e("div",Nl,[e("button",{onClick:P=>Te(),class:"px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-indigo-500 to-blue-600 text-white hover:from-indigo-600 hover:to-blue-700",title:"View Details"},[...t[134]||(t[134]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),T(" View ",-1)])],8,Ul),e("button",{onClick:P=>Be(),class:"px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700",title:"Edit Attendance"},[...t[135]||(t[135]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),T(" Edit ",-1)])],8,Ll)])])]))),128))])])]),e("div",Ol,[e("button",{class:"px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700",onClick:vt},[...t[136]||(t[136]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),T(" Mark All Present ",-1)])]),e("button",{class:"px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-red-500 to-rose-600 text-white hover:from-red-600 hover:to-rose-700",onClick:mt},[...t[137]||(t[137]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),T(" Mark All Absent ",-1)])]),e("button",{class:"ml-auto px-3 py-1.5 text-xs font-medium rounded-full flex items-center gap-1 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 bg-gradient-to-r from-indigo-500 to-blue-600 text-white hover:from-indigo-600 hover:to-blue-700",onClick:Pe,disabled:R.value},[R.value?(n(),r("svg",Hl,[...t[138]||(t[138]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(n(),r("svg",Gl,[...t[139]||(t[139]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"},null,-1)])])),T(" "+l(R.value?"Saving...":"Save Attendance"),1)],8,El)])]),q(jt,{"current-page":k.value,"page-size":O.value,total:I.value,show:!R.value&&Z.value.length>0,onPageChange:t[26]||(t[26]=s=>{k.value=s,J()}),onPageSizeChange:t[27]||(t[27]=s=>{O.value=s,k.value=1,J()})},null,8,["current-page","page-size","total","show"])])):(n(),r("div",Wl,[e("div",Jl,[e("div",Yl,[e("h3",Ql,l(g.value==="subject"?"Subject Students List":"Class Students List"),1),e("p",Zl,l(g.value==="subject"?"Students enrolled in selected subject":"Students in selected class and section"),1)]),e("div",ql,[e("table",Kl,[t[141]||(t[141]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Roll No"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Student Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Class"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Section"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Attendance %"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Classes"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Xl,[(n(!0),r(y,null,_(Z.value,s=>(n(),r("tr",{key:s.id,class:"hover:bg-white transition-colors"},[e("td",eo,l(s.rollNumber),1),e("td",to,[e("div",so,[e("div",ao,l(s.name.charAt(0)),1),e("div",lo,[e("div",oo,l(s.name),1),e("div",ro,"Student ID: "+l(s.id),1)])])]),e("td",no,l(s.class),1),e("td",io,l(s.section),1),e("td",co,[e("span",{class:N([Ve(s.status),"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full"])},l(s.status.replace("_"," ").toUpperCase()),3)]),e("td",uo,[e("div",po,[e("div",vo,[e("div",{class:N([oe(s.attendancePercentage),"h-2 rounded-full transition-all duration-300"]),style:kt(`width: ${s.attendancePercentage}%`)},null,6)]),e("span",mo,l(s.attendancePercentage)+"%",1)])]),e("td",xo,[e("div",go,[e("div",fo,l(s.presentClasses)+"/"+l(s.totalClasses),1),t[140]||(t[140]=e("div",{class:"text-xs text-gray-500"},"Present/Total",-1))])]),e("td",bo,[e("button",{onClick:x=>Te(),class:"text-indigo-600 hover:text-indigo-900 transition-colors"}," View ",8,ho),e("button",{onClick:x=>Be(),class:"text-green-600 hover:text-green-900 transition-colors"}," Edit ",8,yo)])]))),128))])])]),e("div",wo,[e("div",_o,[e("div",ko," Showing "+l(H.value.from)+" to "+l(H.value.to)+" of "+l(H.value.total)+" students ",1),e("div",Co,[e("span",jo,"Total Present: "+l(le.value),1),t[143]||(t[143]=e("span",{class:"text-sm text-gray-500"},"|",-1)),e("span",So,"Total: "+l(H.value.total),1),t[144]||(t[144]=e("span",{class:"text-sm text-gray-500"},"|",-1)),A(e("select",{"onUpdate:modelValue":t[28]||(t[28]=s=>O.value=s),onChange:t[29]||(t[29]=s=>it(O.value)),class:"text-sm border border-gray-200 rounded px-2 py-1"},[...t[142]||(t[142]=[e("option",{value:5},"5 per page",-1),e("option",{value:10},"10 per page",-1),e("option",{value:20},"20 per page",-1),e("option",{value:50},"50 per page",-1)])],544),[[z,O.value]])])]),F.value>1?(n(),r("div",Ao,[e("button",{onClick:dt,disabled:k.value<=1,class:"px-3 py-1 text-sm border border-gray-200 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Mo),(n(!0),r(y,null,_(ct(),s=>(n(),r(y,{key:s},[s==="..."?(n(),r("button",Vo,"...")):(n(),r("button",{key:1,onClick:x=>he(s),class:N(["px-3 py-1 text-sm border rounded-lg",k.value===s?"bg-purple-500 text-white border-purple-500":"border-gray-200 hover:bg-white"])},l(s),11,Do))],64))),128)),e("button",{onClick:nt,disabled:k.value>=F.value,class:"px-3 py-1 text-sm border border-gray-200 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,To)])):M("",!0)])])])),ae.value?(n(),r("div",{key:4,class:"relative z-10",onClick:t[32]||(t[32]=We(s=>ae.value=!1,["self"]))},[e("div",Bo,[e("div",Po,[e("div",zo,[e("h3",Ro,[T(l(g.value==="subject"?"Mark Subject Attendance":"Mark Class Attendance")+" - "+l(De(L.value))+" ",1),g.value==="subject"&&j.value.value?(n(),r("span",$o," Subject: "+l((Oe=G.value.find(s=>s.value==j.value.value))==null?void 0:Oe.label),1)):M("",!0)]),e("button",{onClick:t[30]||(t[30]=s=>ae.value=!1),class:"text-white hover:text-gray-500 transition-colors"},[...t[145]||(t[145]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",Io,[g.value==="subject"&&j.value?(n(),r("div",Fo,[e("div",No,[t[146]||(t[146]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),e("span",Uo,"Subject: "+l((Ee=G.value.find(s=>s.value==j.value))==null?void 0:Ee.label),1),t[147]||(t[147]=e("span",{class:"text-blue-600"},"| Subject-wise Attendance",-1))])])):g.value==="class"?(n(),r("div",Lo,[...t[148]||(t[148]=[S('<div class="flex items-center gap-2 text-green-800" data-v-1dc2eb2c><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" data-v-1dc2eb2c></path></svg><span class="font-medium" data-v-1dc2eb2c>Class-wise Daily Attendance</span><span class="text-green-600" data-v-1dc2eb2c>| Full Day Marking</span></div>',1)])])):M("",!0),e("div",Oo,[e("table",Eo,[t[149]||(t[149]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Roll No"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Student Name"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Time In"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Remarks")])],-1)),e("tbody",Ho,[(n(!0),r(y,null,_(w.value,s=>(n(),r("tr",{key:s.id,class:"hover:bg-white"},[e("td",Go,l(s.rollNumber),1),e("td",Wo,[e("div",Jo,[e("div",Yo,l(s.name.charAt(0)),1),e("span",Qo,l(s.name),1)])]),e("td",Zo,[A(e("select",{"onUpdate:modelValue":x=>s.status=x,class:"border border-gray-200 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[(n(!0),r(y,null,_(ye.value,x=>(n(),r("option",{key:x.value,value:x.value},l(x.label),9,Ko))),128))],8,qo),[[z,s.status]])]),e("td",Xo,[A(e("input",{"onUpdate:modelValue":x=>s.timeIn=x,type:"time",class:"border border-gray-200 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,8,er),[[se,s.timeIn]])]),e("td",tr,[A(e("input",{"onUpdate:modelValue":x=>s.remarks=x,type:"text",placeholder:"Optional remarks",class:"border border-gray-200 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent w-full"},null,8,sr),[[se,s.remarks]])])]))),128))])])])]),e("div",ar,[e("button",{onClick:t[31]||(t[31]=s=>ae.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-900 rounded-lg hover:bg-gray-400 transition-colors"}," Cancel "),e("button",{onClick:Pe,class:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105"}," Save Attendance ")])])])):M("",!0)])):M("",!0):(n(),r("div",At,[t[45]||(t[45]=S('<div class="w-full mx-auto mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500" data-v-1dc2eb2c><h2 class="text-base font-medium text-gray-600 tracking-tight flex items-center gap-2" data-v-1dc2eb2c><div class="w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse" data-v-1dc2eb2c></div> Student Attendance Management </h2><nav class="flex items-center gap-2 text-base font-medium text-gray-500" data-v-1dc2eb2c><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-1dc2eb2c>Dashboard</span><span class="mx-2" data-v-1dc2eb2c>|</span><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-1dc2eb2c>Students</span><span class="mx-2" data-v-1dc2eb2c>|</span><span class="text-gray-900 font-bold" data-v-1dc2eb2c>Attendance</span></nav></div><div class="w-full mx-auto mb-6" data-v-1dc2eb2c><div class="flex flex-col items-center" data-v-1dc2eb2c><h3 class="text-base font-medium text-gray-900 tracking-tight mb-2" data-v-1dc2eb2c>Choose Attendance Type</h3><div class="h-[2px] bg-purple-200 w-full transition-all duration-300" style="max-width:180px;" data-v-1dc2eb2c></div></div></div>',2)),e("div",Mt,[e("div",Vt,[t[34]||(t[34]=S('<div class="bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6" data-v-1dc2eb2c><div class="flex items-center justify-between" data-v-1dc2eb2c><div data-v-1dc2eb2c><h3 class="text-base font-medium text-white mb-1 tracking-tight" data-v-1dc2eb2c>Subject-wise Attendance</h3><p class="text-blue-100 text-sm" data-v-1dc2eb2c>Mark attendance for specific subjects</p></div><div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center" data-v-1dc2eb2c><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" data-v-1dc2eb2c></path></svg></div></div></div>',1)),e("div",Dt,[t[33]||(t[33]=S('<div class="space-y-4 mb-6" data-v-1dc2eb2c><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-2 h-2 bg-blue-500 rounded-full" data-v-1dc2eb2c></div><span class="text-sm text-gray-600" data-v-1dc2eb2c>Mark attendance per subject</span></div><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-2 h-2 bg-blue-500 rounded-full" data-v-1dc2eb2c></div><span class="text-sm text-gray-600" data-v-1dc2eb2c>Track subject-specific presence</span></div><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-2 h-2 bg-blue-500 rounded-full" data-v-1dc2eb2c></div><span class="text-sm text-gray-600" data-v-1dc2eb2c>Generate subject reports</span></div></div>',1)),e("button",{onClick:t[0]||(t[0]=s=>ge("subject")),class:"w-full h-12 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white font-medium hover:from-blue-600 hover:to-indigo-600 transition-all duration-300 transform hover:scale-105 shadow-lg"}," Start Subject Attendance ")])]),e("div",Tt,[t[36]||(t[36]=S('<div class="bg-gradient-to-r from-purple-600 to-pink-600 px-8 py-6" data-v-1dc2eb2c><div class="flex items-center justify-between" data-v-1dc2eb2c><div data-v-1dc2eb2c><h3 class="text-base font-medium text-white mb-1 tracking-tight" data-v-1dc2eb2c>Class-wise Attendance</h3><p class="text-purple-100 text-sm" data-v-1dc2eb2c>Mark attendance for entire class</p></div><div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center" data-v-1dc2eb2c><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.5a8.25 8.25 0 0116.5 0" data-v-1dc2eb2c></path></svg></div></div></div>',1)),e("div",Bt,[t[35]||(t[35]=S('<div class="space-y-4 mb-6" data-v-1dc2eb2c><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-2 h-2 bg-purple-500 rounded-full" data-v-1dc2eb2c></div><span class="text-sm text-gray-600" data-v-1dc2eb2c>Mark attendance for whole class</span></div><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-2 h-2 bg-purple-500 rounded-full" data-v-1dc2eb2c></div><span class="text-sm text-gray-600" data-v-1dc2eb2c>Daily attendance tracking</span></div><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-2 h-2 bg-purple-500 rounded-full" data-v-1dc2eb2c></div><span class="text-sm text-gray-600" data-v-1dc2eb2c>Generate class reports</span></div></div>',1)),e("button",{onClick:t[1]||(t[1]=s=>ge("class")),class:"w-full h-12 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 shadow-lg"}," Start Class Attendance ")])]),e("div",Pt,[t[38]||(t[38]=S('<div class="bg-gradient-to-r from-green-600 to-emerald-600 px-8 py-6" data-v-1dc2eb2c><div class="flex items-center justify-between" data-v-1dc2eb2c><div data-v-1dc2eb2c><h3 class="text-base font-medium text-white mb-1 tracking-tight" data-v-1dc2eb2c>Reports &amp; Analytics</h3><p class="text-green-100 text-sm" data-v-1dc2eb2c>View comprehensive attendance reports</p></div><div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center" data-v-1dc2eb2c><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-1dc2eb2c><path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z" data-v-1dc2eb2c></path></svg></div></div></div>',1)),e("div",zt,[t[37]||(t[37]=S('<div class="space-y-4 mb-6" data-v-1dc2eb2c><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-2 h-2 bg-green-500 rounded-full" data-v-1dc2eb2c></div><span class="text-sm text-gray-600" data-v-1dc2eb2c>Daily &amp; Monthly reports</span></div><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-2 h-2 bg-green-500 rounded-full" data-v-1dc2eb2c></div><span class="text-sm text-gray-600" data-v-1dc2eb2c>Subject-wise analytics</span></div><div class="flex items-center gap-3" data-v-1dc2eb2c><div class="w-2 h-2 bg-green-500 rounded-full" data-v-1dc2eb2c></div><span class="text-sm text-gray-600" data-v-1dc2eb2c>Trends &amp; insights</span></div></div>',1)),e("button",{onClick:t[2]||(t[2]=s=>ge("reports")),class:"w-full h-12 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-white font-medium hover:from-green-600 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105 shadow-lg"}," View Reports ")])])]),e("div",Rt,[e("div",$t,[t[39]||(t[39]=e("div",{class:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[40]||(t[40]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-1"},"Today's Present",-1)),e("p",It,l(ee.value.present),1)]),e("div",Ft,[t[41]||(t[41]=e("div",{class:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[42]||(t[42]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-1"},"Today's Absent",-1)),e("p",Nt,l(ee.value.absent),1)]),e("div",Ut,[t[43]||(t[43]=e("div",{class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z"})])],-1)),t[44]||(t[44]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-1"},"Total Students",-1)),e("p",Lt,l(ee.value.total),1)])])]))])}}},pr=bt(lr,[["__scopeId","data-v-1dc2eb2c"]]);export{pr as default};
