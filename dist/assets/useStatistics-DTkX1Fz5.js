import{l as o,p as n,R as c}from"./index-xvPUEXLW.js";function p(){const s=o({classes:0,sections:0,subjects:0}),l=o(!1),a=o(null),r=async()=>{try{l.value=!0,a.value=null;const t=await c.get("/statistics/counts");t.data.success?s.value=t.data.result:a.value=t.data.message||"Failed to fetch statistics"}catch(t){console.error("Error fetching statistics:",t),a.value="Failed to fetch statistics";try{const[e,i,u]=await Promise.all([c.get("/classes",{params:{per_page:1}}),c.get("/sections",{params:{per_page:1}}),c.get("/subjects",{params:{per_page:1}})]);e.data.success&&(s.value.classes=e.data.result.total||0),i.data.success&&(s.value.sections=i.data.result.total||0),u.data.status&&(s.value.subjects=u.data.result.total||0)}catch(e){console.error("Fallback statistics fetching also failed:",e)}}finally{l.value=!1}};return n(()=>{r()}),{statistics:s,loading:l,error:a,fetchStatistics:r}}export{p as u};
