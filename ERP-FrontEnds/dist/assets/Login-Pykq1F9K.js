import{_ as P,p as I,m as S,u as V,r as v,W as q,l as B,c as r,b as d,d as a,U as E,K as D,w as m,e as g,v as F,n as _,t as h,Z as N,F as R,g as T,a as C}from"./index-z4YXot-9.js";const M={class:"figma-login-container"},U={class:"login-card-wrapper"},K={class:"login-form-section"},W={class:"login-form-container"},z={class:"input-group"},A={key:0,class:"error-message"},J={class:"input-group"},O=["type"],Z={key:0,class:"error-message"},$=["disabled"],j={key:0},G={key:1,class:"loading-spinner"},H={class:"top-decoration"},Q={class:"decoration-grid"},X={__name:"Login",setup(Y){const w=I(),y=S(),l=V(),n=v(!1),b=v(!1),o=v(""),i=v(""),t=q({email:"",password:""}),u=()=>t.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?(o.value="",!0):(o.value="Please enter a valid email address",!1):(o.value="Email is required",!1),p=()=>t.password?t.password.length<6?(i.value="Password must be at least 6 characters",!1):(i.value="",!0):(i.value="Password is required",!1),f=B(()=>t.email&&t.password&&!o.value&&!i.value),k=async()=>{var c,s;if(u(),p(),!f.value){l.error("Please fix the errors before submitting");return}try{n.value=!0;const e=await C.post("/login",t);if(e.data.success){const L={...e.data.admin,token:e.data.access_token,api_token:e.data.access_token};localStorage.setItem("user",JSON.stringify(L)),localStorage.setItem("authToken",e.data.access_token),l.success("ðŸŽ‰ Welcome Back!",{position:"top-right",duration:4e3}),setTimeout(()=>{const x=y.query.redirect||"/dashboard";w.push(x)},2e3)}else l.error(e.data.message||"Invalid credentials")}catch(e){console.error("Login error:",e),l.error(((s=(c=e.response)==null?void 0:c.data)==null?void 0:s.message)||"Login failed. Please try again.")}finally{n.value=!1}};return(c,s)=>(d(),r("div",M,[a("div",U,[s[5]||(s[5]=E('<div class="illustration-section" data-v-aa2251fa><div class="cloud cloud-1" data-v-aa2251fa></div><div class="cloud cloud-2" data-v-aa2251fa></div><div class="cloud cloud-3" data-v-aa2251fa></div><div class="main-illustration" data-v-aa2251fa><div class="monitor" data-v-aa2251fa><div class="monitor-stand" data-v-aa2251fa></div><div class="monitor-base" data-v-aa2251fa></div><div class="monitor-screen" data-v-aa2251fa><div class="screen-content" data-v-aa2251fa><div class="screen-header" data-v-aa2251fa></div><div class="screen-lines" data-v-aa2251fa><div class="screen-line" data-v-aa2251fa></div><div class="screen-line" data-v-aa2251fa></div><div class="screen-line short" data-v-aa2251fa></div></div></div></div></div><div class="person-character" data-v-aa2251fa><div class="person-body" data-v-aa2251fa></div><div class="person-head" data-v-aa2251fa></div><div class="person-arm" data-v-aa2251fa></div><div class="person-legs" data-v-aa2251fa><div class="leg-left" data-v-aa2251fa></div><div class="leg-right" data-v-aa2251fa></div></div></div><div class="abstract-shapes" data-v-aa2251fa><div class="shape-1" data-v-aa2251fa></div><div class="shape-2" data-v-aa2251fa></div></div></div></div>',1)),a("div",K,[a("div",W,[s[4]||(s[4]=a("div",{class:"brand-header"},[a("h1",{class:"brand-title"},"BlueKaktus"),a("p",{class:"brand-subtitle"},"Login your account")],-1)),a("form",{onSubmit:D(k,["prevent"]),class:"login-form"},[a("div",z,[m(a("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>t.email=e),type:"email",placeholder:"username",class:_(["form-input",{error:o.value}]),onInput:u,required:""},null,34),[[F,t.email]]),o.value?(d(),r("div",A,h(o.value),1)):g("",!0)]),a("div",J,[m(a("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>t.password=e),type:b.value?"text":"password",placeholder:"password",class:_(["form-input",{error:i.value}]),onInput:p,required:""},null,42,O),[[N,t.password]]),i.value?(d(),r("div",Z,h(i.value),1)):g("",!0)]),s[2]||(s[2]=a("div",{class:"forgot-password"},[a("a",{href:"#",class:"forgot-link"},"forgot password?")],-1)),a("button",{type:"submit",class:"login-button",disabled:n.value||!f.value},[n.value?(d(),r("span",G,"Loading...")):(d(),r("span",j,"Login"))],8,$),s[3]||(s[3]=a("div",{class:"create-account"},[a("a",{href:"#",class:"create-link"},"Create Account")],-1))],32)])])]),a("div",H,[a("div",Q,[(d(),r(R,null,T(20,e=>a("div",{class:"grid-dot",key:e})),64))])])]))}},sa=P(X,[["__scopeId","data-v-aa2251fa"]]);export{sa as default};
