import{_ as ve,u as xe,c as r,b as a,d as t,e as P,U as H,f as b,t as u,A as o,n as I,K as ee,w as g,h as K,a2 as D,F as B,g as V,v as $,V as ge}from"./index-z4YXot-9.js";const be={class:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col items-center p-4 sm:p-6 lg:p-8"},he={class:"w-full max-w-7xl mx-auto mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500 border border-gray-200"},ke={class:"text-base font-medium text-gray-900 tracking-tight flex items-center gap-2"},ye={class:"w-full max-w-7xl mx-auto mb-6 flex justify-end"},we={class:"flex bg-white rounded-full shadow-lg p-1 border border-gray-200"},_e={key:0,class:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-20 animate-pulse rounded-full"},Ce={key:0,class:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-20 animate-pulse rounded-full"},Me={class:"w-full max-w-7xl mx-auto rounded-lg border border-gray-200 bg-white/90 px-4 sm:px-6 py-3 shadow-lg mb-6"},je={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Se={class:"flex flex-col w-full"},Ee={class:"relative"},Be=["value"],Ve={class:"flex flex-col w-full"},$e={class:"relative"},Fe=["value"],Ae={class:"flex flex-col w-full"},Ue={class:"relative"},Ne=["value"],Pe={class:"flex flex-col w-full"},Te={class:"relative"},Re={class:"flex justify-end gap-2 mt-2"},De={class:"w-full max-w-7xl mx-auto flex items-center justify-between mb-8"},We={class:"flex flex-col items-start"},qe={class:"text-base font-medium text-gray-900 tracking-tight flex items-center gap-2"},ze={key:0,class:"w-full max-w-7xl mx-auto"},Ge={key:1,class:"w-full max-w-7xl mx-auto"},Ke={key:2,class:"w-full max-w-7xl mx-auto"},Le={key:0,class:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200"},He={class:"overflow-x-auto"},Oe={class:"min-w-full"},Ye={class:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20"},Je={class:"flex items-center gap-1"},Qe={class:"flex flex-col ml-1"},Xe={key:0,class:"w-3 h-3 text-purple-500 transform -rotate-180",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},Ze={key:1,class:"w-3 h-3 text-purple-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},Ie={key:2,class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},et={class:"flex flex-col items-center gap-2"},tt={class:"relative"},st=["onUpdate:modelValue"],ot={class:"py-3 px-4 text-gray-600 font-normal text-sm"},lt={class:"relative"},rt=["onUpdate:modelValue"],at={class:"py-3 px-4 text-center"},nt=["onClick"],it={key:1,class:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200"},dt={class:"overflow-x-auto"},ut={class:"min-w-full"},pt={class:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20"},mt={class:"flex items-center gap-1"},ct={class:"flex flex-col ml-1"},ft={key:0,class:"w-3 h-3 text-purple-500 transform -rotate-180",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},vt={key:1,class:"w-3 h-3 text-purple-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},xt={key:2,class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},gt={class:"flex items-center gap-1"},bt={class:"flex flex-col ml-1"},ht={key:0,class:"w-3 h-3 text-purple-500 transform -rotate-180",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},kt={key:1,class:"w-3 h-3 text-purple-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},yt={key:2,class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},wt={class:"flex items-center gap-1"},_t={class:"flex flex-col ml-1"},Ct={key:0,class:"w-3 h-3 text-purple-500 transform -rotate-180",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},Mt={key:1,class:"w-3 h-3 text-purple-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},jt={key:2,class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},St={class:"py-3 px-4 text-gray-600 font-normal text-sm"},Et={class:"py-3 px-4 text-gray-600 font-normal text-sm"},Bt={class:"py-3 px-4 text-gray-600 font-normal text-sm"},Vt={class:"py-3 px-4 text-gray-600 font-normal text-sm"},$t={class:"py-3 px-4 text-gray-600 font-normal text-sm"},Ft={class:"py-3 px-4"},At={class:"relative"},Ut=["onUpdate:modelValue","max"],Nt={class:"py-3 px-4 text-center"},Pt=["onClick","disabled"],Tt={key:0,class:"p-6 border-t bg-gray-50 flex justify-end"},Rt={key:2,class:"w-full max-w-7xl mx-auto mt-8"},Dt={class:"flex flex-row items-center justify-between mb-4"},Wt={class:"text-gray-600 text-sm font-medium px-2"},qt={class:"flex items-center gap-4"},zt={class:"text-sm text-gray-600 font-medium flex items-center gap-1"},Gt=["value"],Kt={class:"text-sm text-gray-600 font-medium flex items-center gap-1 mr-3"},Lt=["max"],Ht={class:"flex justify-center"},Ot={class:"flex items-center gap-2"},Yt=["disabled"],Jt={class:"w-9 h-9 flex items-center justify-center rounded-lg bg-purple-600 text-white text-base font-bold shadow-md"},Qt=["disabled"],Xt={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},Zt={class:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-200"},It={class:"bg-gradient-to-r from-purple-500 to-pink-500 text-white p-6 rounded-t-xl"},es={class:"flex items-center justify-between"},ts={class:"p-6"},ss={class:"grid grid-cols-1 gap-6"},os={class:"flex flex-col w-full"},ls={class:"relative"},rs={class:"flex flex-col w-full"},as={class:"relative"},ns={class:"flex flex-col w-full"},is={class:"relative"},ds={class:"flex gap-3 pt-4 border-t border-gray-200"},us={__name:"AddMarksheet",setup(ps){const f=xe(),_=api,C=ref(!1),W=ref(!1),M=ref(!1),O=ref([]),j=ref([]),F=ref([]),v=ref([]),A=ref([]),m=ref(""),c=ref(""),h=ref(""),T=ref(""),p=ref(1),U=ref(20),w=ref(0),N=ref(1),L=computed(()=>Math.ceil(w.value/U.value)),k=ref("first_name"),x=ref("asc"),S=ref({name:"",term:"",academic_year:"",merchant_id:"",created_by:""}),q=reactive({}),z=computed(()=>F.value);computed(()=>{const l=A.value.find(e=>e.id===h.value);return l?l.name:"-"});const te=computed(()=>F.value.map(l=>{const e={};return v.value.forEach(s=>{e[s.id]={obtain:""}}),{...l,subjectMarks:e}})),R=ref([]),se=computed(()=>R.value.some(l=>l.total_marks!==""&&l.obtain_marks!=="")),oe=l=>{if(!l)return"All";const e=j.value.find(s=>String(s.id)===String(l));return e?e.name:"All"},le=async()=>{console.log("Clearing all filters"),m.value="",c.value="",h.value="",T.value="",j.value=[],v.value=[],F.value=[],w.value=0,p.value=1,await E(null,null,1)},Y=async()=>{p.value=1,await E(m.value,c.value,1),f.success("Filters applied successfully!")},re=()=>{R.value.forEach(l=>{l.total_marks=T.value})},E=async(l,e,s=1)=>{C.value=!0;try{const i={page:s,per_page:U.value};l&&(i.class_id=String(l)),e&&(i.section_id=String(e));const n=await _.get("http://localhost:8000/api/students",{params:i});n.data.status&&n.data.result&&Array.isArray(n.data.result.data)?(F.value=n.data.result.data.map(d=>{var y;return{...d,class_name:((y=d.class)==null?void 0:y.name)||""}}),w.value=n.data.result.total||0,p.value=n.data.result.current_page||1):(F.value=[],w.value=0)}catch(i){console.error("Error fetching students:",i),F.value=[],w.value=0}finally{C.value=!1}},ae=async l=>{if(!l){v.value=[];return}try{const e=await _.get(`http://localhost:8000/api/classes/${l}`);e.data.success&&e.data.result&&Array.isArray(e.data.result.subjects)?v.value=e.data.result.subjects:v.value=[]}catch(e){console.error("Error fetching subjects:",e),v.value=[]}},ne=async l=>{if(!l){j.value=[];return}try{const e=await _.get("http://localhost:8000/api/sections",{params:{class_id:String(l)}});e.data.success?j.value=e.data.result||[]:j.value=[]}catch(e){console.error("Error fetching sections:",e),j.value=[]}},J=async()=>{try{const l=await _.get("http://localhost:8000/api/exams");l.data.success&&l.data.result?(A.value=l.data.result||[],A.value.length&&!h.value&&(h.value=A.value[0].id)):A.value=[]}catch(l){console.error("Error fetching exams:",l),A.value=[]}},ie=async()=>{try{const l=await _.post("http://localhost:8000/api/exams/store",S.value);l.data.success?(f.success("Exam created successfully!"),W.value=!1,await J(),h.value=l.data.result.id,S.value={name:"",term:"",academic_year:"",merchant_id:"",created_by:""}):f.error(l.data.message||"Failed to create exam")}catch(l){console.error("Error creating exam:",l),f.error("Failed to create exam")}},de=()=>{f.success("All marksheets saved successfully!")},ue=async l=>{try{let e="";l.total_marks&&l.obtain_marks&&(e=(parseFloat(l.obtain_marks)/parseFloat(l.total_marks)*100).toFixed(2));const s={student_id:l.id,exam_id:h.value,total_mark_obtains:l.obtain_marks,total_marks:l.total_marks,percentage:e},i=await _.post("http://localhost:8000/api/result-sheet/store",s);i.data.success?f.success("Marksheet saved successfully!"):f.error(i.data.message||"Failed to save marksheet!")}catch(e){console.error("Error saving marksheet:",e),f.error("Failed to save marksheet!")}},pe=async l=>{try{const e=[];for(const n of v.value){const d=l.subjectMarks[n.id].obtain,y=q[n.id];d===""||y===""||e.push({subject_id:n.id,mark_obtained:d,max_marks:y})}if(e.length===0){f.warning("No marks to save!");return}const s={student_id:l.id,exam_id:h.value,marks:e},i=await _.post("http://localhost:8000/api/subject-mark-sheets/bulk-store",s);i.data.success?f.success("Subject marks saved successfully!"):f.error(i.data.message||"Failed to save subject marks!")}catch(e){console.error("Error saving subject marks:",e),f.error("Failed to save subject marks!")}},Q=l=>{p.value=l,E(m.value,c.value,l)},me=()=>{p.value=1,E(m.value,c.value,1)},X=()=>{N.value>=1&&N.value<=L.value&&(p.value=N.value,E(m.value,c.value,N.value))},G=l=>{k.value===l?x.value=x.value==="asc"?"desc":"asc":(k.value=l,x.value="asc");const e=[...z.value].sort((s,i)=>{let n=s[l],d=i[l];return n==null&&(n=""),d==null&&(d=""),x.value==="asc"?n>d?1:n<d?-1:0:n<d?1:n>d?-1:0});z.value=e},ce=async()=>{console.log("Class changed to:",m.value),m.value?(await ne(m.value),await ae(m.value),c.value=""):(j.value=[],v.value=[],c.value=""),p.value=1,await E(m.value,c.value,1)},fe=async()=>{console.log("Section changed to:",c.value),p.value=1,await E(m.value,c.value,1)};return watch(v,l=>{l.forEach(e=>{e.id in q||(q[e.id]="")})}),watch([F,v,T],([l,e,s])=>{const i=[];e.length>0?l.forEach(n=>{e.forEach(d=>{const y=R.value.find(Z=>Z.student_id===n.id&&Z.subject_id===d.id);i.push({...n,subject_id:d.id,subject_name:d.name,obtain_marks:y?y.obtain_marks:"",total_marks:s||""})})}):l.forEach(n=>{const d=R.value.find(y=>y.student_id===n.id);i.push({...n,subject_id:"",subject_name:"",obtain_marks:d?d.obtain_marks:"",total_marks:s||""})}),R.value=i},{immediate:!0}),onMounted(async()=>{C.value=!0;try{const l=await _.get("http://localhost:8000/api/classes");l.data.success&&(O.value=l.data.result||[]),await E(null,null,1),await J()}catch(l){console.error("Error loading initial data:",l)}finally{C.value=!1}}),(l,e)=>(a(),r("div",be,[t("div",he,[t("h2",ke,[e[20]||(e[20]=t("div",{class:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"},null,-1)),b(" Add Marksheet - "+u(oe(o(c))),1)]),e[21]||(e[21]=H('<nav class="flex items-center gap-2 text-base font-medium text-gray-600" data-v-769b3585><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-769b3585>Dashboard</span><span class="mx-2" data-v-769b3585>|</span><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-769b3585>Exams</span><span class="mx-2" data-v-769b3585>|</span><span class="text-gray-900 font-bold" data-v-769b3585>Add Marksheet</span></nav>',1))]),t("div",ye,[t("div",we,[t("button",{onClick:e[0]||(e[0]=s=>M.value=!1),class:I(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ease-in-out transform relative overflow-hidden",o(M)?"text-purple-600 hover:text-purple-700 hover:bg-gray-50 hover:scale-102":"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md scale-105"])},[e[22]||(e[22]=t("span",{class:"relative z-10"},"Normal View",-1)),o(M)?P("",!0):(a(),r("div",_e))],2),e[24]||(e[24]=t("div",{class:"h-6 w-px bg-purple-200 mx-1 self-center"},null,-1)),t("button",{onClick:e[1]||(e[1]=s=>M.value=!0),class:I(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ease-in-out transform relative overflow-hidden",o(M)?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md scale-105":"text-purple-600 hover:text-purple-700 hover:bg-gray-50 hover:scale-102"])},[e[23]||(e[23]=t("span",{class:"relative z-10"},"Subject Wise",-1)),o(M)?(a(),r("div",Ce)):P("",!0)],2)])]),e[83]||(e[83]=t("div",{class:"w-full max-w-7xl mx-auto mb-2"},[t("div",{class:"flex flex-col items-start"},[t("h3",{class:"text-base font-medium text-gray-900 tracking-tight"},"Filter Students"),t("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-300",style:{"max-width":"120px"}})])],-1)),t("div",Me,[t("form",{class:"w-full",onSubmit:ee(Y,["prevent"])},[t("div",je,[t("div",Se,[e[28]||(e[28]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Class",-1)),t("div",Ee,[g(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>D(m)?m.value=s:null),onChange:ce,class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[e[25]||(e[25]=t("option",{value:""},"All Classes",-1)),(a(!0),r(B,null,V(o(O),s=>(a(),r("option",{key:s.id,value:String(s.id)},u(s.name),9,Be))),128))],544),[[K,o(m)]]),e[26]||(e[26]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[27]||(e[27]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",Ve,[e[32]||(e[32]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Section",-1)),t("div",$e,[g(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>D(c)?c.value=s:null),onChange:fe,class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[e[29]||(e[29]=t("option",{value:""},"All Sections",-1)),(a(!0),r(B,null,V(o(j),s=>(a(),r("option",{key:s.id,value:String(s.id)},u(s.name),9,Fe))),128))],544),[[K,o(c)]]),e[30]||(e[30]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[31]||(e[31]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",Ae,[e[36]||(e[36]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Exam",-1)),t("div",Ue,[g(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>D(h)?h.value=s:null),class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[e[33]||(e[33]=t("option",{value:""},"Select Exam",-1)),(a(!0),r(B,null,V(o(A),s=>(a(),r("option",{key:s.id,value:s.id},u(s.name),9,Ne))),128))],512),[[K,o(h)]]),e[34]||(e[34]=t("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),e[35]||(e[35]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",Pe,[e[38]||(e[38]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Total Marks",-1)),t("div",Te,[g(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>D(T)?T.value=s:null),type:"number",placeholder:"Enter total marks",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full",onInput:re},null,544),[[$,o(T)]]),e[37]||(e[37]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]),t("div",Re,[t("button",{type:"button",onClick:le,class:"h-9 px-8 rounded-full bg-gradient-to-r from-gray-500 to-slate-500 text-sm font-bold text-white shadow hover:from-gray-600 hover:to-slate-600 transition-all duration-300 transform hover:scale-105"},"Clear"),t("button",{type:"submit",onClick:Y,class:"h-9 px-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 flex items-center gap-2"},e[39]||(e[39]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})],-1),b(" Filter ")])),t("button",{onClick:e[6]||(e[6]=s=>W.value=!0),class:"h-9 px-8 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-sm font-bold text-white shadow hover:from-green-600 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105 flex items-center gap-2"},e[40]||(e[40]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),b(" Create Exam ")]))])],32)]),t("div",De,[t("div",We,[t("h3",qe,[e[41]||(e[41]=t("div",{class:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 animate-bounce"},null,-1)),b(" "+u(o(M)?"Subject Wise Marks":"Student Marksheet")+" ("+u(o(w))+") ",1)]),e[42]||(e[42]=t("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-500",style:{"max-width":"200px"}},null,-1))])]),e[84]||(e[84]=t("div",{class:"w-full max-w-7xl mx-auto"},[t("div",{class:"h-[2px] w-full bg-purple-200 mb-4"})],-1)),o(C)?(a(),r("div",ze,e[43]||(e[43]=[H('<div class="border border-gray-200 rounded-xl p-8 bg-white/40 shadow-sm" data-v-769b3585><div class="flex flex-col items-center justify-center py-12" data-v-769b3585><div class="relative mb-6" data-v-769b3585><div class="w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin" data-v-769b3585></div><div class="absolute inset-0 w-16 h-16 border-4 border-transparent border-r-indigo-500 rounded-full animate-ping opacity-20" data-v-769b3585></div></div><div class="text-center" data-v-769b3585><p class="text-gray-600 font-medium text-lg mb-1" data-v-769b3585>Loading Data</p><p class="text-gray-500 text-sm font-normal" data-v-769b3585>Please wait while we fetch the student information...</p><div class="flex justify-center mt-3 space-x-1" data-v-769b3585><div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce" data-v-769b3585></div><div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce" style="animation-delay:0.1s;" data-v-769b3585></div><div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce" style="animation-delay:0.2s;" data-v-769b3585></div></div></div></div></div>',1)]))):!o(C)&&o(z).length===0?(a(),r("div",Ge,e[44]||(e[44]=[H('<div class="border border-gray-200 rounded-xl p-8 bg-white/40 shadow-sm" data-v-769b3585><div class="flex flex-col items-center justify-center py-12" data-v-769b3585><div class="relative mb-6" data-v-769b3585><div class="w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center" data-v-769b3585><svg class="w-12 h-12 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-769b3585><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" data-v-769b3585></path></svg></div><div class="absolute -top-2 -right-2 w-4 h-4 bg-purple-300 rounded-full animate-ping opacity-30" data-v-769b3585></div><div class="absolute -bottom-2 -left-2 w-3 h-3 bg-indigo-300 rounded-full animate-pulse" data-v-769b3585></div></div><div class="text-center max-w-sm" data-v-769b3585><h3 class="text-gray-600 font-medium text-xl mb-2" data-v-769b3585>No Students Found</h3><p class="text-gray-500 text-sm font-normal leading-relaxed mb-4" data-v-769b3585> No students match your current filters. Please adjust your search criteria. </p></div></div></div>',1)]))):!o(C)&&o(z).length>0?(a(),r("div",Ke,[o(M)?(a(),r("div",Le,[t("div",He,[t("table",Oe,[t("thead",Ye,[t("tr",null,[t("th",{onClick:e[7]||(e[7]=s=>G("first_name")),class:"text-left py-3 px-4 font-medium text-gray-900 text-sm tracking-wider cursor-pointer select-none group transition-all duration-150 hover:bg-purple-50 dark:hover:bg-purple-900/20 border-b-2 border-purple-400 relative #ffffffspace-nowrap"},[t("span",Je,[e[48]||(e[48]=b(" Student ")),t("span",Qe,[o(k)==="first_name"&&o(x)==="asc"?(a(),r("svg",Xe,e[45]||(e[45]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)]))):o(k)==="first_name"&&o(x)==="desc"?(a(),r("svg",Ze,e[46]||(e[46]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)]))):(a(),r("svg",Ie,e[47]||(e[47]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])))])])]),(a(!0),r(B,null,V(o(v),s=>(a(),r("th",{key:s.id,class:"text-center py-3 px-4 font-medium text-gray-900 text-sm tracking-wider border-b-2 border-purple-400 min-w-[120px]"},[t("div",et,[t("span",null,u(s.name),1),t("div",tt,[g(t("input",{"onUpdate:modelValue":i=>o(q)[s.id]=i,type:"number",placeholder:"Total",class:"w-16 h-8 border-0 bg-white px-2 text-xs font-light text-gray-600 focus:ring-0 focus:outline-none text-center rounded-md"},null,8,st),[[$,o(q)[s.id]]]),e[49]||(e[49]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[1px] bg-purple-200"},null,-1))])])]))),128)),e[50]||(e[50]=t("th",{class:"text-center py-3 px-4 font-medium text-gray-900 text-sm tracking-wider border-b-2 border-purple-400"},"Action",-1))])]),t("tbody",null,[(a(!0),r(B,null,V(o(te),(s,i)=>(a(),r("tr",{key:s.id,class:"hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors border-b border-purple-200"},[t("td",ot,u(s.first_name)+" "+u(s.last_name),1),(a(!0),r(B,null,V(o(v),n=>(a(),r("td",{key:n.id,class:"py-3 px-4 text-center"},[t("div",lt,[s.subjectMarks&&s.subjectMarks[n.id]?g((a(),r("input",{key:0,"onUpdate:modelValue":d=>s.subjectMarks[n.id].obtain=d,type:"number",placeholder:"Marks",class:"w-16 h-8 border-0 bg-transparent px-2 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none text-center"},null,8,rt)),[[$,s.subjectMarks[n.id].obtain]]):P("",!0),e[51]||(e[51]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[1px] bg-purple-200"},null,-1))])]))),128)),t("td",at,[t("button",{onClick:n=>pe(s),class:"px-4 py-1.5 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-medium rounded-full hover:from-green-600 hover:to-emerald-600 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105"}," Save ",8,nt)])]))),128))])])])])):(a(),r("div",it,[t("div",dt,[t("table",ut,[t("thead",pt,[t("tr",null,[e[64]||(e[64]=t("th",{class:"text-left py-3 px-4 font-medium text-gray-900 text-sm tracking-wider border-b-2 border-purple-400"},"#",-1)),t("th",{onClick:e[8]||(e[8]=s=>G("first_name")),class:"text-left py-3 px-4 font-medium text-gray-900 text-sm tracking-wider cursor-pointer select-none group transition-all duration-150 hover:bg-purple-50 dark:hover:bg-purple-900/20 border-b-2 border-purple-400 relative #ffffffspace-nowrap"},[t("span",mt,[e[55]||(e[55]=b(" Student Name ")),t("span",ct,[o(k)==="first_name"&&o(x)==="asc"?(a(),r("svg",ft,e[52]||(e[52]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)]))):o(k)==="first_name"&&o(x)==="desc"?(a(),r("svg",vt,e[53]||(e[53]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)]))):(a(),r("svg",xt,e[54]||(e[54]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])))])])]),t("th",{onClick:e[9]||(e[9]=s=>G("roll_number")),class:"text-left py-3 px-4 font-medium text-gray-900 text-sm tracking-wider cursor-pointer select-none group transition-all duration-150 hover:bg-purple-50 dark:hover:bg-purple-900/20 border-b-2 border-purple-400 relative #ffffffspace-nowrap"},[t("span",gt,[e[59]||(e[59]=b(" Roll No ")),t("span",bt,[o(k)==="roll_number"&&o(x)==="asc"?(a(),r("svg",ht,e[56]||(e[56]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)]))):o(k)==="roll_number"&&o(x)==="desc"?(a(),r("svg",kt,e[57]||(e[57]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)]))):(a(),r("svg",yt,e[58]||(e[58]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])))])])]),t("th",{onClick:e[10]||(e[10]=s=>G("class_name")),class:"text-left py-3 px-4 font-medium text-gray-900 text-sm tracking-wider cursor-pointer select-none group transition-all duration-150 hover:bg-purple-50 dark:hover:bg-purple-900/20 border-b-2 border-purple-400 relative #ffffffspace-nowrap"},[t("span",wt,[e[63]||(e[63]=b(" Class ")),t("span",_t,[o(k)==="class_name"&&o(x)==="asc"?(a(),r("svg",Ct,e[60]||(e[60]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)]))):o(k)==="class_name"&&o(x)==="desc"?(a(),r("svg",Mt,e[61]||(e[61]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)]))):(a(),r("svg",jt,e[62]||(e[62]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"},null,-1)])))])])]),e[65]||(e[65]=t("th",{class:"text-left py-3 px-4 font-medium text-gray-900 text-sm tracking-wider border-b-2 border-purple-400"},"Total Marks",-1)),e[66]||(e[66]=t("th",{class:"text-left py-3 px-4 font-medium text-gray-900 text-sm tracking-wider border-b-2 border-purple-400"},"Obtain Marks",-1)),e[67]||(e[67]=t("th",{class:"text-center py-3 px-4 font-medium text-gray-900 text-sm tracking-wider border-b-2 border-purple-400"},"Action",-1))])]),t("tbody",null,[(a(!0),r(B,null,V(o(R),(s,i)=>(a(),r("tr",{key:i,class:"hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors border-b border-purple-200"},[t("td",St,u(i+1),1),t("td",Et,u(s.first_name)+" "+u(s.last_name),1),t("td",Bt,u(s.roll_number),1),t("td",Vt,u(s.class_name),1),t("td",$t,u(s.total_marks),1),t("td",Ft,[t("div",At,[g(t("input",{"onUpdate:modelValue":n=>s.obtain_marks=n,type:"number",placeholder:"Enter marks",max:s.total_marks,class:"w-24 h-8 border-0 bg-transparent px-2 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none"},null,8,Ut),[[$,s.obtain_marks]]),e[68]||(e[68]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[1px] bg-purple-200"},null,-1))])]),t("td",Nt,[t("button",{onClick:n=>ue(s),disabled:!s.total_marks||!s.obtain_marks,class:"px-4 py-1.5 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-medium rounded-full hover:from-green-600 hover:to-emerald-600 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"}," Save ",8,Pt)])]))),128))])])]),o(se)?(a(),r("div",Tt,[t("button",{onClick:de,class:"px-8 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-medium rounded-full hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105"}," Save All Marksheets ")])):P("",!0)])),!o(C)&&o(w)>0?(a(),r("div",Rt,[t("div",Dt,[t("div",Wt," Showing "+u((o(p)-1)*o(U)+1)+" to "+u(Math.min(o(p)*o(U),o(w)))+" of "+u(o(w))+" entries ",1),t("div",qt,[t("label",zt,[e[69]||(e[69]=b(" Per page: ")),g(t("select",{"onUpdate:modelValue":e[11]||(e[11]=s=>D(U)?U.value=s:null),onChange:me,class:"rounded-md border border-purple-200 bg-white px-2 py-1 text-xs font-semibold text-purple-700 focus:ring-2 focus:ring-purple-300"},[(a(),r(B,null,V([10,20,50,100],s=>t("option",{key:s,value:s},u(s),9,Gt)),64))],544),[[K,o(U)]])]),t("label",Kt,[e[71]||(e[71]=b(" Go to page: ")),g(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>D(N)?N.value=s:null),type:"number",min:"1",max:o(L),class:"w-16 rounded-md border border-purple-200 px-2 py-1 text-xs font-semibold text-purple-700 focus:ring-2 focus:ring-purple-300",onKeyup:ge(X,["enter"])},null,40,Lt),[[$,o(N),void 0,{number:!0}]]),t("button",{onClick:X,class:"ml-1 px-2 py-1 rounded-md bg-purple-500 text-white text-xs font-semibold hover:bg-purple-600 transition-all flex items-center gap-1"},e[70]||(e[70]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1),b(" Go ")]))])])]),t("div",Ht,[t("div",Ot,[t("button",{class:"w-9 h-9 flex items-center justify-center rounded-lg bg-purple-50 text-purple-500 text-xl font-bold shadow-sm transition-all duration-200 hover:bg-purple-100 focus:outline-none focus:ring-2 focus:ring-purple-300 disabled:opacity-40 disabled:cursor-not-allowed",disabled:o(p)===1,onClick:e[13]||(e[13]=s=>Q(o(p)-1)),"aria-label":"Previous"},e[72]||(e[72]=[t("span",null,"←",-1)]),8,Yt),t("span",Jt,u(o(p)),1),t("button",{class:"w-9 h-9 flex items-center justify-center rounded-lg bg-purple-50 text-purple-500 text-xl font-bold shadow-sm transition-all duration-200 hover:bg-purple-100 focus:outline-none focus:ring-2 focus:ring-purple-300 disabled:opacity-40 disabled:cursor-not-allowed",disabled:o(p)===o(L),onClick:e[14]||(e[14]=s=>Q(o(p)+1)),"aria-label":"Next"},e[73]||(e[73]=[t("span",null,"→",-1)]),8,Qt)])])])):P("",!0)])):P("",!0),o(W)?(a(),r("div",Xt,[t("div",Zt,[t("div",It,[t("div",es,[e[75]||(e[75]=t("div",null,[t("h3",{class:"text-xl font-bold"},"Create New Exam"),t("p",{class:"text-purple-100 text-sm mt-1"},"Set up a new exam for marksheet entry")],-1)),t("button",{onClick:e[15]||(e[15]=s=>W.value=!1),class:"p-2 hover:bg-gray-50/20 rounded-lg transition-colors duration-200"},e[74]||(e[74]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),t("div",ts,[t("form",{onSubmit:ee(ie,["prevent"]),class:"space-y-6"},[t("div",ss,[t("div",os,[e[77]||(e[77]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Exam Name",-1)),t("div",ls,[g(t("input",{"onUpdate:modelValue":e[16]||(e[16]=s=>o(S).name=s),type:"text",required:"",placeholder:"Enter exam name",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[$,o(S).name]]),e[76]||(e[76]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",rs,[e[79]||(e[79]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Term",-1)),t("div",as,[g(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>o(S).term=s),type:"text",required:"",placeholder:"e.g., Mid, Final",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[$,o(S).term]]),e[78]||(e[78]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),t("div",ns,[e[81]||(e[81]=t("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Academic Year",-1)),t("div",is,[g(t("input",{"onUpdate:modelValue":e[18]||(e[18]=s=>o(S).academic_year=s),type:"text",required:"",placeholder:"e.g., 2024-2025",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[$,o(S).academic_year]]),e[80]||(e[80]=t("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]),t("div",ds,[t("button",{type:"button",onClick:e[19]||(e[19]=s=>W.value=!1),class:"flex-1 h-9 px-8 rounded-full bg-gradient-to-r from-gray-500 to-slate-500 text-sm font-bold text-white shadow hover:from-gray-600 hover:to-slate-600 transition-all duration-300 transform hover:scale-105"}," Cancel "),e[82]||(e[82]=t("button",{type:"submit",class:"flex-1 h-9 px-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105"}," Create Exam ",-1))])],32)])])])):P("",!0)]))}},cs=ve(us,[["__scopeId","data-v-769b3585"]]);export{cs as default};
