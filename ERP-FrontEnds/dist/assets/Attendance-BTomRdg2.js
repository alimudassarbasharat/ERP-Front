import{_ as ft,u as bt,r as u,l as ht,q as G,o as yt,a as _,c as o,b as n,e as D,U as S,d as e,t as l,f as V,w as h,h as P,F as k,g as C,v as N,n as L,i as Ye,K as Qe,V as qe}from"./index-z4YXot-9.js";import{C as X,r as wt}from"./chart-DUfl3Dpl.js";const _t={class:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col items-center p-4 sm:p-6 lg:p-8"},kt={key:0,class:"w-full"},Ct={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-8"},jt={class:"bg-white/90 rounded-2xl shadow-xl border border-gray-200 overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:scale-105"},St={class:"p-8"},At={class:"bg-white/90 rounded-2xl shadow-xl border border-gray-200 overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:scale-105"},Mt={class:"p-8"},Dt={class:"bg-white/90 rounded-2xl shadow-xl border border-gray-200 overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:scale-105"},Vt={class:"p-8"},Tt={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12"},Pt={class:"bg-white/80 rounded-xl p-6 text-center shadow-lg"},Bt={class:"text-2xl font-bold text-green-600"},$t={class:"bg-white/80 rounded-xl p-6 text-center shadow-lg"},Rt={class:"text-2xl font-bold text-red-600"},Ut={class:"bg-white/80 rounded-xl p-6 text-center shadow-lg"},Ft={class:"text-2xl font-bold text-blue-600"},It={key:1,class:"w-full"},Nt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},zt={key:0,class:"bg-white/90 rounded-xl shadow-lg p-6"},Lt={class:"mb-6 p-4 bg-white rounded-lg"},Ot={class:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-4"},Et={class:"w-full"},Ht=["value"],Gt={class:"w-full"},Wt=["value"],Kt={class:"w-full"},Jt=["value"],Yt={key:0,class:"w-full"},Qt=["value"],qt={key:1,class:"w-full"},Zt={key:2,class:"w-full"},Xt=["value"],es={key:3,class:"w-full"},ts=["value"],ss={key:4,class:"w-full"},as={key:5,class:"w-full"},ls={key:0,class:"space-y-6"},os={class:"text-center border-b pb-4"},ns={class:"text-xl font-bold text-gray-900"},rs={class:"text-sm text-gray-600 mt-1"},ds={key:0,class:"space-y-4"},is={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},us={class:"bg-green-50 rounded-lg p-4 text-center"},cs={class:"text-2xl font-bold text-green-600"},ps={class:"bg-red-50 rounded-lg p-4 text-center"},vs={class:"text-2xl font-bold text-red-600"},xs={class:"bg-yellow-50 rounded-lg p-4 text-center"},ms={class:"text-2xl font-bold text-yellow-600"},gs={class:"bg-blue-50 rounded-lg p-4 text-center"},fs={class:"text-2xl font-bold text-blue-600"},bs={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},hs={class:"bg-white rounded-lg p-4 shadow-sm"},ys={class:"bg-white rounded-lg p-4 shadow-sm"},ws={class:"overflow-x-auto"},_s={class:"min-w-full bg-white border border-gray-200 rounded-lg"},ks={class:"divide-y divide-gray-200"},Cs={class:"px-4 py-2 text-sm text-gray-900"},js={class:"px-4 py-2 text-sm text-gray-900"},Ss={class:"px-4 py-2"},As={class:"px-4 py-2 text-sm text-gray-900"},Ms={class:"px-4 py-2 text-sm text-gray-900"},Ds={key:1,class:"space-y-4"},Vs={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},Ts={class:"bg-blue-50 rounded-lg p-4 text-center"},Ps={class:"text-2xl font-bold text-blue-600"},Bs={class:"bg-green-50 rounded-lg p-4 text-center"},$s={class:"text-2xl font-bold text-green-600"},Rs={class:"bg-yellow-50 rounded-lg p-4 text-center"},Us={class:"text-2xl font-bold text-yellow-600"},Fs={class:"bg-red-50 rounded-lg p-4 text-center"},Is={class:"text-2xl font-bold text-red-600"},Ns={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},zs={class:"bg-white rounded-lg p-4 shadow-sm"},Ls={class:"bg-white rounded-lg p-4 shadow-sm"},Os={class:"overflow-x-auto"},Es={class:"min-w-full bg-white border border-gray-200 rounded-lg"},Hs={class:"divide-y divide-gray-200"},Gs={class:"px-4 py-2 text-sm text-gray-900"},Ws={class:"px-4 py-2 text-sm text-gray-900"},Ks={class:"px-4 py-2 text-sm text-gray-900"},Js={class:"px-4 py-2 text-sm text-gray-900"},Ys={class:"px-4 py-2 text-sm text-gray-900"},Qs={class:"px-4 py-2"},qs={class:"px-4 py-2"},Zs={key:2,class:"space-y-6"},Xs={class:"flex items-center justify-between mb-4"},ea={class:"text-lg font-medium text-gray-900"},ta={class:"text-sm text-gray-600"},sa={class:"overflow-x-auto"},aa={class:"min-w-full bg-white border border-gray-200 rounded-lg"},la={class:"divide-y divide-gray-200"},oa={class:"px-4 py-2 text-sm text-gray-900"},na={class:"px-4 py-2 text-sm text-gray-900"},ra={class:"px-4 py-2 text-sm text-gray-900"},da={class:"px-4 py-2 text-sm text-gray-900"},ia={class:"px-4 py-2"},ua={key:3,class:"space-y-4"},ca={class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},pa={class:"text-sm text-red-600"},va={class:"overflow-x-auto"},xa={class:"min-w-full bg-white border border-gray-200 rounded-lg"},ma={class:"divide-y divide-gray-200"},ga={class:"px-4 py-2 text-sm text-gray-900"},fa={class:"px-4 py-2 text-sm text-gray-900"},ba={class:"px-4 py-2 text-sm text-gray-900"},ha={class:"px-4 py-2 text-sm text-gray-900"},ya={class:"px-4 py-2 text-sm text-gray-900"},wa={class:"px-4 py-2"},_a={class:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800"},ka={key:4,class:"text-center py-8"},Ca={class:"mt-4 text-left bg-white p-4 rounded-lg text-xs overflow-auto"},ja={key:1,class:"flex flex-col items-center justify-center py-12"},Sa={key:2,class:"text-center py-12"},Aa={key:2,class:"w-full"},Ma={class:"w-full"},Da={class:"flex bg-white rounded-full shadow-lg p-1 border border-purple-100"},Va={class:"relative z-10 flex items-center gap-2"},Ta={class:"px-2 py-0.5 rounded-full text-xs font-bold bg-white text-purple-700 border border-purple-200 ml-1"},Pa={key:0,class:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-20 animate-pulse rounded-full"},Ba={class:"relative z-10 flex items-center gap-2"},$a={class:"px-2 py-0.5 rounded-full text-xs font-bold bg-white text-purple-700 border border-purple-200 ml-1"},Ra={key:0,class:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 opacity-20 animate-pulse rounded-full"},Ua={class:"w-full max-w-7xl mx-auto mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500 border border-gray-200"},Fa={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},Ia={class:"w-full"},Na={class:"flex flex-col items-start"},za={class:"text-base font-medium text-gray-900 tracking-tight"},La={class:"w-full"},Oa={class:"flex flex-wrap items-end gap-x-4 gap-y-3"},Ea={class:"w-full"},Ha={class:"relative"},Ga={class:"w-full"},Wa={class:"relative"},Ka=["value"],Ja={class:"w-full"},Ya={class:"relative"},Qa=["value"],qa={class:"w-full"},Za={class:"relative"},Xa=["value"],el={key:0,class:"w-full"},tl={class:"relative"},sl=["value"],al={class:"w-full"},ll={class:"relative"},ol={class:"w-full"},nl={class:"flex flex-col items-start"},rl={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},dl={class:"flex-1 flex justify-center"},il={class:"w-full"},ul={key:0,class:"w-full"},cl={key:1,class:"w-full"},pl={key:2,class:"w-full"},vl={class:"rounded-2xl bg-white/90 shadow-lg p-6"},xl={class:"flex items-center justify-between mb-6"},ml={class:"text-lg font-semibold text-gray-900"},gl={class:"text-sm text-gray-500 mt-1"},fl={class:"text-right"},bl={class:"text-sm text-gray-600"},hl={class:"text-xs text-gray-500"},yl={key:0,class:"text-xs text-gray-500"},wl={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},_l={class:"bg-green-50 rounded-lg p-3 text-center"},kl={class:"text-lg font-bold text-green-600"},Cl={class:"bg-red-50 rounded-lg p-3 text-center"},jl={class:"text-lg font-bold text-red-600"},Sl={class:"bg-yellow-50 rounded-lg p-3 text-center"},Al={class:"text-lg font-bold text-yellow-600"},Ml={class:"bg-blue-50 rounded-lg p-3 text-center"},Dl={class:"text-lg font-bold text-blue-600"},Vl={class:"overflow-x-auto"},Tl={class:"min-w-full bg-white border border-gray-200 rounded-lg"},Pl={class:"bg-white"},Bl={key:0,class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},$l={class:"divide-y divide-gray-200"},Rl={class:"px-4 py-2 text-sm text-gray-900"},Ul={class:"px-4 py-2 text-sm text-gray-900"},Fl={class:"px-4 py-2 text-sm text-gray-900"},Il={class:"px-4 py-2 text-sm text-gray-900"},Nl={class:"px-4 py-2"},zl=["onUpdate:modelValue"],Ll={class:"px-4 py-2"},Ol=["onUpdate:modelValue"],El={class:"px-4 py-2"},Hl=["onUpdate:modelValue"],Gl={key:0,class:"px-4 py-2"},Wl={class:"px-4 py-2 text-sm font-medium"},Kl={class:"flex gap-2"},Jl=["onClick"],Yl=["onClick"],Ql={class:"mt-6 pt-4 border-t border-gray-200"},ql={class:"flex items-center justify-between mb-4"},Zl={class:"flex items-center gap-3"},Xl=["disabled"],eo={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},to={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},so={class:"text-sm text-gray-600"},ao={class:"text-xs text-gray-500 text-center"},lo={class:"w-full"},oo={class:"text-gray-600 text-sm font-medium px-2"},no={class:"flex items-center gap-4"},ro={class:"text-sm text-gray-600 font-medium flex items-center gap-1"},io=["value"],uo={class:"text-sm text-gray-600 font-medium flex items-center gap-1 mr-3"},co=["max"],po={class:"w-full"},vo={class:"flex items-center gap-2"},xo=["disabled"],mo={class:"w-9 h-9 flex items-center justify-center rounded-lg bg-purple-600 text-white text-base font-bold shadow-md"},go=["disabled"],fo={key:3,class:"w-full"},bo={class:"border border-gray-200 rounded-xl bg-white/40 shadow-sm overflow-hidden"},ho={class:"bg-gradient-to-r from-purple-500 to-pink-500 px-6 py-4"},yo={class:"text-lg font-medium text-white"},wo={class:"text-purple-100 text-sm mt-1"},_o={class:"overflow-x-auto"},ko={class:"min-w-full"},Co={class:"bg-white divide-y divide-gray-200"},jo={class:"px-6 py-4 #ffffffspace-nowrap text-sm font-medium text-gray-900"},So={class:"px-6 py-4 #ffffffspace-nowrap"},Ao={class:"flex items-center"},Mo={class:"w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm"},Do={class:"ml-4"},Vo={class:"text-sm font-medium text-gray-900"},To={class:"text-sm text-gray-500"},Po={class:"px-6 py-4 #ffffffspace-nowrap text-sm text-gray-900"},Bo={class:"px-6 py-4 #ffffffspace-nowrap text-sm text-gray-900"},$o={class:"px-6 py-4 #ffffffspace-nowrap"},Ro={class:"px-6 py-4 #ffffffspace-nowrap"},Uo={class:"flex items-center"},Fo={class:"w-full bg-white rounded-full h-2 mr-2"},Io={class:"text-sm font-medium text-gray-900"},No={class:"px-6 py-4 #ffffffspace-nowrap text-sm text-gray-900"},zo={class:"text-center"},Lo={class:"text-sm font-medium"},Oo={class:"px-6 py-4 #ffffffspace-nowrap text-sm font-medium space-x-2"},Eo=["onClick"],Ho=["onClick"],Go={class:"bg-white px-6 py-3"},Wo={class:"flex items-center justify-between mb-3"},Ko={class:"text-sm text-gray-900"},Jo={class:"flex items-center space-x-4"},Yo={class:"text-sm text-gray-900"},Qo={class:"text-sm text-gray-900"},qo={key:0,class:"flex items-center justify-center space-x-2"},Zo=["disabled"],Xo={key:0,disabled:"",class:"px-3 py-1 text-sm text-gray-500"},en=["onClick"],tn=["disabled"],sn={class:"w-full"},an={class:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4"},ln={class:"flex items-center justify-between"},on={class:"text-lg font-medium text-white"},nn={key:0,class:"text-indigo-200 text-sm block"},rn={class:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},dn={key:0,class:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},un={class:"flex items-center gap-2 text-blue-800"},cn={class:"font-medium"},pn={key:1,class:"mb-4 p-3 bg-green-50 rounded-lg border border-green-200"},vn={class:"overflow-x-auto"},xn={class:"min-w-full"},mn={class:"bg-white divide-y divide-gray-200"},gn={class:"px-4 py-2 text-sm text-gray-900"},fn={class:"px-4 py-2"},bn={class:"flex items-center gap-2"},hn={class:"w-8 h-8 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold"},yn={class:"text-sm text-gray-900"},wn={class:"px-4 py-2"},_n=["onUpdate:modelValue"],kn=["value"],Cn={class:"px-4 py-2"},jn=["onUpdate:modelValue"],Sn={class:"px-4 py-2"},An=["onUpdate:modelValue"],Mn={class:"bg-white px-6 py-4 flex justify-end gap-3"},Dn={__name:"Attendance",setup(Vn){X.register(...wt),bt();const z=u(!1),O=u([]),A=u([]),y=u([]),x=u([]),T=u(""),M=u(""),B=u(""),I=u(new Date().toISOString().split("T")[0]);u("");const W=u(""),w=u(1),R=u(10),U=u(0),F=u(0),K=u({current_page:1,per_page:10,total:0,last_page:1,from:0,to:0}),ee=u(!1),Y=u("daily"),te=u(0),re=u(0),p=u(""),j=u(""),de=u(""),be=u(""),E=u([]),se=u([]),Q=u({present:0,absent:0,total:0}),he=u([{value:"present",label:"Present"},{value:"absent",label:"Absent"},{value:"late",label:"Late"},{value:"leave",label:"Leave"},{value:"medical",label:"Medical"},{value:"online_present",label:"Online Present"},{value:"proxy_suspected",label:"Proxy Suspected"}]),Ze=u([{value:"daily",label:"Daily Attendance"},{value:"period_wise",label:"Period-wise Attendance"}]),m=u(""),c=u({session_id:"",class_id:"",section_id:"",subject_id:"",date:new Date().toISOString().split("T")[0],month:new Date().getMonth()+1,year:new Date().getFullYear(),date_from:"",date_to:""}),g=u(null),ie=u(!1),ye=u([{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}]),Xe=u([2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030]),ue=u(null),ce=u(null),pe=u(null),ve=u(null),xe=async a=>{if(p.value=a,(a==="subject"||a==="class")&&(_e(),ke()),a==="subject"||a==="class"){if(O.value.length===0&&await me(),A.value.length===0&&O.value.length>0)if(T.value)await ge();else try{const t=await _.get("/classes");t.data.success&&Array.isArray(t.data.result)&&(A.value=t.data.result.map(r=>({value:r.id,label:r.name,session_id:r.session_id})))}catch{}}else a==="reports"&&(O.value.length===0&&await me(),O.value.length>0&&await oe())},we=()=>{p.value="",m.value="",g.value=null,T.value="",M.value="",B.value="",j.value="",de.value="",be.value="",x.value=[],O.value=[],A.value=[],y.value=[],E.value=[],se.value=[]},_e=async()=>{try{const a=await _.get("/attendance/status-options");a.data.success&&(he.value=Object.entries(a.data.data).map(([t,r])=>({value:t,label:r})))}catch{}},ke=async()=>{try{const a=await _.get("/attendance/attendance-modes");a.data.success&&(Ze.value=Object.entries(a.data.data).map(([t,r])=>({value:t,label:r})))}catch{}},Ce=async()=>{const a=M.value||c.value.class_id;if(!a){E.value=[];return}try{const t=await _.get(`/attendance/class/${a}/subjects`);t.data.success&&(E.value=t.data.data.map(r=>({value:r.id,label:r.name})))}catch{}},je=async()=>{if(!j.value){se.value=[];return}try{const a=await _.get(`/attendance/subject/${j.value}/teachers`);a.data.success&&(se.value=a.data.data.map(t=>({value:t.id,label:t.full_name||`${t.first_name} ${t.last_name}`})))}catch{}},et=async()=>{var a,t;if(!m.value){alert("Please select a report type");return}ie.value=!0;try{let r="",i={...c.value};switch(!i.date&&["daily"].includes(m.value)&&(i.date=new Date().toISOString().split("T")[0]),!i.month&&["monthly","subject","comparison"].includes(m.value)&&(i.month=new Date().getMonth()+1),!i.year&&["monthly","subject","comparison"].includes(m.value)&&(i.year=new Date().getFullYear()),m.value){case"daily":if(r="/attendance-reports/daily-sheet",!i.class_id||!i.section_id){alert("Please select class and section for daily report");return}break;case"monthly":r="/attendance-reports/monthly-summary";break;case"subject":if(r="/attendance-reports/subject-wise",!i.class_id||!i.section_id){alert("Please select class and section for subject-wise report");return}break;case"trends":if(r="/attendance-reports/trends",!i.date_from||!i.date_to){const b=new Date,J=new Date(b.getFullYear(),b.getMonth()-1,b.getDate());i.date_from=J.toISOString().split("T")[0],i.date_to=b.toISOString().split("T")[0]}break;case"defaulters":const v=await _.get("/attendance/defaulters",{params:i});g.value=v.data;return;case"comparison":r="/attendance-reports/class-comparison";break;default:alert("Invalid report type");return}const d=await _.post(r,i);if(d.data.success)g.value=d.data,setTimeout(()=>{m.value==="daily"?(st(),at()):m.value==="monthly"&&(lt(),ot())},100);else throw new Error(d.data.message||"Failed to generate report")}catch(r){alert("Failed to generate report: "+(((t=(a=r.response)==null?void 0:a.data)==null?void 0:t.message)||r.message))}finally{ie.value=!1}},tt=async()=>{if(!g.value){alert("Please generate a report first");return}try{const a={...c.value,report_type:m.value,format:"pdf"};(await _.post("/attendance-reports/export",a)).data.success&&alert("Report export prepared successfully!")}catch{alert("Failed to export report")}},st=()=>{var r,i;if(!ue.value||!((i=(r=g.value)==null?void 0:r.data)!=null&&i.summary))return;const a=ue.value.getContext("2d"),t=g.value.data.summary;new X(a,{type:"doughnut",data:{labels:["Present","Absent","Late","Leave"],datasets:[{data:[t.present||0,t.absent||0,t.late||0,t.leave||0],backgroundColor:["#10B981","#EF4444","#F59E0B","#6366F1"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,font:{size:12}}}}}})},at=()=>{var r,i;if(!ce.value||!((i=(r=g.value)==null?void 0:r.data)!=null&&i.summary))return;const a=ce.value.getContext("2d"),t=g.value.data.summary;new X(a,{type:"bar",data:{labels:["Present","Absent","Late","Leave"],datasets:[{label:"Students",data:[t.present||0,t.absent||0,t.late||0,t.leave||0],backgroundColor:["#10B981","#EF4444","#F59E0B","#6366F1"],borderRadius:8,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})},lt=()=>{var r,i;if(!pe.value||!((i=(r=g.value)==null?void 0:r.data)!=null&&i.overall_stats))return;const a=pe.value.getContext("2d");g.value.data.overall_stats;const t=g.value.data.weekly_trends||[{week:"Week 1",percentage:85},{week:"Week 2",percentage:88},{week:"Week 3",percentage:82},{week:"Week 4",percentage:90}];new X(a,{type:"line",data:{labels:t.map(d=>d.week||d.label),datasets:[{label:"Attendance %",data:t.map(d=>d.percentage||d.value||0),borderColor:"#8B5CF6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:3,fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(d){return d+"%"}}}}}})},ot=()=>{var r,i;if(!ve.value||!((i=(r=g.value)==null?void 0:r.data)!=null&&i.overall_stats))return;const a=ve.value.getContext("2d"),t=g.value.data.overall_stats;new X(a,{type:"pie",data:{labels:["Excellent (90-100%)","Good (75-89%)","Average (60-74%)","Poor (<60%)"],datasets:[{data:[t.excellent_attendance||0,t.good_attendance||0,t.average_attendance||0,t.poor_attendance||0],backgroundColor:["#059669","#10B981","#F59E0B","#EF4444"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:11}}}}}})},nt=()=>({daily:"Daily Attendance Sheet",monthly:"Monthly Attendance Summary",subject:"Subject-wise Attendance Report",trends:"Attendance Trends & Analytics",defaulters:"Defaulters List",comparison:"Class Comparison Report"})[m.value]||"Attendance Report",rt=()=>{var r,i,d;const a=c.value;let t="";if(a.class_id&&A.value.length>0){const v=(r=A.value.find(b=>b.value==a.class_id))==null?void 0:r.label;t+=v?`Class: ${v}`:""}if(a.section_id&&y.value.length>0){const v=(i=y.value.find(b=>b.value==a.section_id))==null?void 0:i.label;t+=v?` | Section: ${v}`:""}if(m.value==="daily"&&a.date&&(t+=` | Date: ${fe(a.date)}`),["monthly","subject","comparison"].includes(m.value)){const v=(d=ye.value.find(b=>b.value==a.month))==null?void 0:d.label;t+=` | ${v} ${a.year}`}return t||"Generated on "+new Date().toLocaleDateString()},ae=a=>a>=90?"bg-green-500":a>=75?"bg-yellow-500":a>=60?"bg-orange-500":"bg-red-500",Se=a=>{Y.value=a},me=async()=>{try{const a=await _.get("/sessions/select-options");a.data.success&&Array.isArray(a.data.result)&&(O.value=a.data.result.map(t=>({value:t.id,label:t.name})))}catch{try{const t=await _.get("/sessions");t.data.success&&Array.isArray(t.data.result)&&(O.value=t.data.result.map(r=>({value:r.id,label:r.name})))}catch{}}},ge=async()=>{if(!T.value){A.value=[];return}try{const a=await _.get("/classes",{params:{session_id:T.value}});a.data.success&&Array.isArray(a.data.result)?A.value=a.data.result.map(t=>({value:t.id,label:t.name})):A.value=[]}catch{A.value=[]}},Ae=async()=>{if(!M.value){y.value=[];return}try{const a=await _.get("/sections/select-options",{params:{class_id:M.value}});a.data.success&&Array.isArray(a.data.result)?y.value=a.data.result.map(t=>({value:t.id,label:t.name})):y.value=[]}catch{try{const t=await _.get("/sections",{params:{class_id:M.value}});t.data.success&&Array.isArray(t.data.result)?y.value=t.data.result.map(r=>({value:r.id,label:r.name})):y.value=[]}catch{y.value=[]}}},H=async(a=1)=>{if(!M.value||!B.value){x.value=[],K.value={current_page:1,per_page:10,total:0,last_page:1,from:0,to:0};return}if(p.value==="subject"&&!j.value){x.value=[];return}z.value=!0;try{const t={class_id:M.value,section_id:B.value,date:I.value,attendance_mode:p.value==="subject"?"period_wise":"daily",page:a,per_page:R.value,search:W.value};T.value&&(t.session_id=T.value),p.value==="subject"&&j.value&&(t.subject_id=j.value);const r=await _.get("/attendance/students-paginated",{params:t});if(r.data.success){const i=r.data.result;i.data&&Array.isArray(i.data)?(x.value=i.data.map(d=>{var v,b;return{id:d.id,name:`${d.first_name} ${d.last_name}`,rollNumber:d.roll_number,class:((v=d.class)==null?void 0:v.name)||"",section:((b=d.section)==null?void 0:b.name)||"",date:I.value,status:d.attendance_status||"not_marked",timeIn:d.time_in||"",timeOut:d.time_out||"",remarks:d.remarks||"",isMarked:d.is_marked||!1,attendancePercentage:d.attendance_percentage||0,totalClasses:d.total_classes||0,presentClasses:d.present_classes||0}}),K.value={current_page:i.current_page,per_page:i.per_page,total:i.total,last_page:i.last_page,from:i.from,to:i.to},w.value=i.current_page,U.value=i.total,F.value=i.last_page):Array.isArray(i)&&(x.value=i.map(d=>{var v,b;return{id:d.id,name:`${d.first_name} ${d.last_name}`,rollNumber:d.roll_number,class:((v=d.class)==null?void 0:v.name)||"",section:((b=d.section)==null?void 0:b.name)||"",date:I.value,status:d.attendance_status||"not_marked",timeIn:d.time_in||"",timeOut:d.time_out||"",remarks:d.remarks||"",isMarked:d.is_marked||!1,attendancePercentage:d.attendance_percentage||0,totalClasses:d.total_classes||0,presentClasses:d.present_classes||0}}),U.value=x.value.length,F.value=1),te.value=x.value.filter(d=>d.status==="present").length,re.value=U.value}else x.value=[]}catch{x.value=[];try{const r={class_id:M.value,section_id:B.value,page:a,per_page:R.value,search:W.value};T.value&&(r.session_id=T.value);const i=await _.get("/students",{params:r}),d=i.data.result||i.data,v=(d==null?void 0:d.data)||d||[];Array.isArray(v)&&(x.value=v.map(b=>{var J,Z;return{id:b.id,name:`${b.first_name} ${b.last_name}`,rollNumber:b.roll_number,class:((J=b.class)==null?void 0:J.name)||"",section:((Z=b.section)==null?void 0:Z.name)||"",date:I.value,status:"not_marked",timeIn:"",timeOut:"",remarks:"",isMarked:!1,attendancePercentage:0,totalClasses:0,presentClasses:0}}),d!=null&&d.current_page?(K.value={current_page:d.current_page,per_page:d.per_page,total:d.total,last_page:d.last_page,from:d.from,to:d.to},w.value=d.current_page,U.value=d.total,F.value=d.last_page):(U.value=x.value.length,F.value=1)),te.value=x.value.length,re.value=U.value}catch{}}finally{z.value=!1}},le=ht(()=>x.value),Me=a=>{switch(a==null?void 0:a.toLowerCase()){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";default:return"bg-white text-gray-900"}},fe=a=>a?new Date(a).toLocaleDateString("en-GB"):"-",q=a=>{a>=1&&a<=F.value&&(w.value=a,H(a))},De=()=>{w.value<F.value&&q(w.value+1)},Ve=()=>{w.value>1&&q(w.value-1)},dt=a=>{R.value=a,w.value=1,H(1)},it=()=>{const a=[],t=F.value,r=w.value;if(t<=7)for(let i=1;i<=t;i++)a.push(i);else{a.push(1),r>4&&a.push("...");const i=Math.max(2,r-1),d=Math.min(t-1,r+1);for(let v=i;v<=d;v++)a.push(v);r<t-3&&a.push("..."),t>1&&a.push(t)}return a},Te=a=>{},Pe=a=>{},ut=()=>{c.value.class_id="",c.value.section_id="",A.value=[],y.value=[],c.value.session_id&&oe()},oe=async()=>{if(c.value.session_id)try{const a=await _.get("/classes",{params:{session_id:c.value.session_id}});a.data.success&&Array.isArray(a.data.result)&&(A.value=a.data.result.map(t=>({value:t.id,label:t.name})))}catch{}},ct=async()=>{if(c.value.section_id)try{(await _.get(`/attendance/section/${c.value.section_id}/stats`)).data.success}catch{}},pt=()=>{const a=new Date().toTimeString().slice(0,5);x.value.forEach(t=>{t.status="present",t.timeIn||(t.timeIn=a)}),alert(`Marked all ${x.value.length} students as present with time ${a}`)},vt=()=>{x.value.forEach(a=>{a.status="absent",a.timeIn="",a.remarks=""}),alert(`Marked all ${x.value.length} students as absent`)},xt=()=>{W.value="",T.value="",M.value="",B.value="",j.value="",de.value="",I.value=new Date().toISOString().split("T")[0],A.value=[],y.value=[],E.value=[],se.value=[],x.value=[],w.value=1,U.value=0,F.value=0},Be=async()=>{var a,t;try{if(z.value=!0,p.value==="subject"&&!j.value){alert("Please select subject for subject-wise attendance");return}const r={class_id:M.value,section_id:B.value,date:I.value,attendance_mode:p.value==="subject"?"period_wise":"daily",attendances:x.value.map(v=>({student_id:v.id,status:v.status,time_in:v.timeIn,time_out:v.timeOut,remarks:v.remarks}))};let i="/attendance/mark-daily";p.value==="subject"&&(i="/attendance/mark-period",r.subject_id=j.value,r.teacher_id=de.value,r.period_number=be.value||1);const d=await _.post(i,r);if(d.data.success)alert("Attendance saved successfully!"),await H();else throw new Error(d.data.message||"Failed to save attendance")}catch(r){alert("Failed to save attendance: "+(((t=(a=r.response)==null?void 0:a.data)==null?void 0:t.message)||r.message))}finally{z.value=!1}};G(T,(a,t)=>{M.value="",B.value="",A.value=[],y.value=[],x.value=[],a&&ge()}),G(M,(a,t)=>{B.value="",y.value=[],x.value=[],a&&(Ae(),p.value==="subject"&&Ce())}),G([T,M,B],(a,t)=>{const[r,i,d]=a;i&&d?H():x.value=[]},{deep:!0}),G(j,je),G([I,j],()=>{p.value==="subject"&&M.value&&B.value&&H()}),G(()=>c.value.session_id,(a,t)=>{a!==t&&(c.value.class_id="",c.value.section_id="",A.value=[],y.value=[],a&&oe())}),G(()=>c.value.class_id,(a,t)=>{a!==t&&(c.value.section_id="",y.value=[],a&&(mt(),p.value==="reports"&&Ce()))}),G(()=>c.value.section_id,a=>{a&&p.value==="reports"&&ct()});const mt=async()=>{if(!c.value.class_id){y.value=[];return}try{const a=await _.get("/sections/select-options",{params:{class_id:c.value.class_id}});a.data.success&&Array.isArray(a.data.result)?y.value=a.data.result.map(t=>({value:t.id,label:t.name})):y.value=[]}catch{y.value=[]}};G(W,a=>{clearTimeout($e.value),$e.value=setTimeout(()=>{w.value=1,H(1)},500)});const $e=u(null),ne=u(1),gt=async()=>{try{const a=await _.get("/attendance/stats");a.data.success&&(Q.value={present:a.data.data.today_present||0,absent:a.data.data.today_absent||0,total:a.data.data.today_total||0})}catch{Q.value={present:0,absent:0,total:0}}};return yt(async()=>{await me(),gt(),p.value==="reports"&&oe();try{const a=await _.get("/classes");if(a.data.success&&Array.isArray(a.data.result)){const t=a.data.result.map(r=>({value:r.id,label:r.name,session_id:r.session_id}));!T.value&&t.length>0&&(A.value=t)}}catch{}try{const a=await _.get("/sections");if(a.data.success&&Array.isArray(a.data.result)){const t=a.data.result.map(r=>({value:r.id,label:r.name,class_id:r.class_id}));!M.value&&t.length>0&&(y.value=t)}}catch{}}),(a,t)=>{var r,i,d,v,b,J,Z,Re,Ue,Fe,Ie,Ne,ze,Le,Oe,Ee,He,Ge,We;return n(),o("div",_t,[p.value?p.value==="reports"?(n(),o("div",It,[e("div",{class:"mb-4"},[e("button",{onClick:we,class:"flex items-center gap-2 px-4 py-2 bg-white/90 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 text-gray-900 hover:text-gray-900"},t[50]||(t[50]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1),V(" Back to Selection ")]))]),t[93]||(t[93]=S('<div class="w-full mx-auto mt-2 mb-6 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500" data-v-0adc1527><h2 class="text-base font-medium text-gray-600 tracking-tight flex items-center gap-2" data-v-0adc1527><div class="w-2 h-2 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full animate-pulse" data-v-0adc1527></div> Attendance Reports &amp; Analytics </h2><nav class="flex items-center gap-2 text-base font-medium text-gray-500" data-v-0adc1527><span class="hover:text-green-600 cursor-pointer transition-colors duration-200" data-v-0adc1527>Dashboard</span><span class="mx-2" data-v-0adc1527>|</span><span class="hover:text-green-600 cursor-pointer transition-colors duration-200" data-v-0adc1527>Students</span><span class="mx-2" data-v-0adc1527>|</span><span class="hover:text-green-600 cursor-pointer transition-colors duration-200" data-v-0adc1527>Attendance</span><span class="mx-2" data-v-0adc1527>|</span><span class="text-gray-900 font-bold" data-v-0adc1527>Reports</span></nav></div>',1)),e("div",Nt,[e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[3]||(t[3]=s=>m.value="daily")},t[51]||(t[51]=[S('<div class="bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4" data-v-0adc1527><div class="flex items-center gap-3" data-v-0adc1527><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-0adc1527><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-0adc1527></path></svg></div><div data-v-0adc1527><h3 class="text-base font-medium text-white tracking-tight" data-v-0adc1527>Daily Report</h3><p class="text-blue-100 text-sm" data-v-0adc1527>Day-wise attendance sheet</p></div></div></div><div class="p-4" data-v-0adc1527><p class="text-sm text-gray-600" data-v-0adc1527>Generate detailed daily attendance reports for specific dates</p></div>',2)])),e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[4]||(t[4]=s=>m.value="monthly")},t[52]||(t[52]=[S('<div class="bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-4" data-v-0adc1527><div class="flex items-center gap-3" data-v-0adc1527><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-0adc1527><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z" data-v-0adc1527></path></svg></div><div data-v-0adc1527><h3 class="text-base font-medium text-white tracking-tight" data-v-0adc1527>Monthly Summary</h3><p class="text-purple-100 text-sm" data-v-0adc1527>Student-wise percentage</p></div></div></div><div class="p-4" data-v-0adc1527><p class="text-sm text-gray-600" data-v-0adc1527>Comprehensive monthly attendance summary with statistics</p></div>',2)])),e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[5]||(t[5]=s=>m.value="subject")},t[53]||(t[53]=[S('<div class="bg-gradient-to-r from-indigo-500 to-indigo-600 px-6 py-4" data-v-0adc1527><div class="flex items-center gap-3" data-v-0adc1527><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-0adc1527><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" data-v-0adc1527></path></svg></div><div data-v-0adc1527><h3 class="text-base font-medium text-white tracking-tight" data-v-0adc1527>Subject-wise</h3><p class="text-indigo-100 text-sm" data-v-0adc1527>Subject attendance tracking</p></div></div></div><div class="p-4" data-v-0adc1527><p class="text-sm text-gray-600" data-v-0adc1527>Analyze attendance patterns for individual subjects</p></div>',2)])),e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[6]||(t[6]=s=>m.value="trends")},t[54]||(t[54]=[S('<div class="bg-gradient-to-r from-green-500 to-green-600 px-6 py-4" data-v-0adc1527><div class="flex items-center gap-3" data-v-0adc1527><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-0adc1527><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" data-v-0adc1527></path></svg></div><div data-v-0adc1527><h3 class="text-base font-medium text-white tracking-tight" data-v-0adc1527>Trends &amp; Analytics</h3><p class="text-green-100 text-sm" data-v-0adc1527>Attendance patterns</p></div></div></div><div class="p-4" data-v-0adc1527><p class="text-sm text-gray-600" data-v-0adc1527>Discover trends and patterns in attendance data</p></div>',2)])),e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[7]||(t[7]=s=>m.value="defaulters")},t[55]||(t[55]=[S('<div class="bg-gradient-to-r from-red-500 to-red-600 px-6 py-4" data-v-0adc1527><div class="flex items-center gap-3" data-v-0adc1527><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-0adc1527><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" data-v-0adc1527></path></svg></div><div data-v-0adc1527><h3 class="text-base font-medium text-white tracking-tight" data-v-0adc1527>Defaulters List</h3><p class="text-red-100 text-sm" data-v-0adc1527>Students below 75%</p></div></div></div><div class="p-4" data-v-0adc1527><p class="text-sm text-gray-600" data-v-0adc1527>Identify students with poor attendance records</p></div>',2)])),e("div",{class:"bg-white/90 rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:t[8]||(t[8]=s=>m.value="comparison")},t[56]||(t[56]=[S('<div class="bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4" data-v-0adc1527><div class="flex items-center gap-3" data-v-0adc1527><div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center" data-v-0adc1527><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.5a8.25 8.25 0 0116.5 0" data-v-0adc1527></path></svg></div><div data-v-0adc1527><h3 class="text-base font-medium text-white tracking-tight" data-v-0adc1527>Class Comparison</h3><p class="text-orange-100 text-sm" data-v-0adc1527>Compare class performance</p></div></div></div><div class="p-4" data-v-0adc1527><p class="text-sm text-gray-600" data-v-0adc1527>Compare attendance rates across different classes</p></div>',2)]))]),m.value?(n(),o("div",zt,[e("div",Lt,[t[70]||(t[70]=e("h4",{class:"text-base font-medium text-gray-900 mb-4"},"Report Filters",-1)),e("div",Ot,[e("div",Et,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Session",-1)),h(e("select",{"onUpdate:modelValue":t[9]||(t[9]=s=>c.value.session_id=s),onChange:ut,class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[t[57]||(t[57]=e("option",{value:""},"All Sessions",-1)),(n(!0),o(k,null,C(O.value,s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,Ht))),128))],544),[[P,c.value.session_id]])]),e("div",Gt,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Class",-1)),h(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>c.value.class_id=s),class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[t[59]||(t[59]=e("option",{value:""},"All Classes",-1)),(n(!0),o(k,null,C(A.value,s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,Wt))),128))],512),[[P,c.value.class_id]])]),e("div",Kt,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Section",-1)),h(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>c.value.section_id=s),class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[t[61]||(t[61]=e("option",{value:""},"All Sections",-1)),(n(!0),o(k,null,C(y.value,s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,Jt))),128))],512),[[P,c.value.section_id]])]),m.value==="subject"?(n(),o("div",Yt,[t[64]||(t[64]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Subject",-1)),h(e("select",{"onUpdate:modelValue":t[12]||(t[12]=s=>c.value.subject_id=s),class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[t[63]||(t[63]=e("option",{value:""},"All Subjects",-1)),(n(!0),o(k,null,C(E.value,s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,Qt))),128))],512),[[P,c.value.subject_id]])])):D("",!0),m.value==="daily"?(n(),o("div",qt,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Date",-1)),h(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>c.value.date=s),type:"date",class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},null,512),[[N,c.value.date]])])):D("",!0),["monthly","subject","comparison"].includes(m.value)?(n(),o("div",Zt,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Month",-1)),h(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>c.value.month=s),class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[(n(!0),o(k,null,C(ye.value,s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,Xt))),128))],512),[[P,c.value.month]])])):D("",!0),["monthly","subject","comparison"].includes(m.value)?(n(),o("div",es,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Year",-1)),h(e("select",{"onUpdate:modelValue":t[15]||(t[15]=s=>c.value.year=s),class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},[(n(!0),o(k,null,C(Xe.value,s=>(n(),o("option",{key:s,value:s},l(s),9,ts))),128))],512),[[P,c.value.year]])])):D("",!0),m.value==="trends"?(n(),o("div",ss,[t[68]||(t[68]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Date From",-1)),h(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>c.value.date_from=s),type:"date",class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},null,512),[[N,c.value.date_from]])])):D("",!0),m.value==="trends"?(n(),o("div",as,[t[69]||(t[69]=e("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Date To",-1)),h(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>c.value.date_to=s),type:"date",class:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500"},null,512),[[N,c.value.date_to]])])):D("",!0)]),e("div",{class:"flex justify-end mt-4 gap-2"},[e("button",{onClick:et,class:"px-6 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105 font-medium"}," Generate Report "),e("button",{onClick:tt,class:"px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-lg hover:from-blue-600 hover:to-indigo-600 transition-all duration-300 transform hover:scale-105 font-medium"}," Export ")])]),g.value?(n(),o("div",ls,[e("div",os,[e("h3",ns,l(nt()),1),e("p",rs,l(rt()),1)]),m.value==="daily"?(n(),o("div",ds,[e("div",is,[e("div",us,[e("div",cs,l(((i=(r=g.value.data)==null?void 0:r.summary)==null?void 0:i.present)||0),1),t[71]||(t[71]=e("div",{class:"text-sm text-green-700"},"Present",-1))]),e("div",ps,[e("div",vs,l(((v=(d=g.value.data)==null?void 0:d.summary)==null?void 0:v.absent)||0),1),t[72]||(t[72]=e("div",{class:"text-sm text-red-700"},"Absent",-1))]),e("div",xs,[e("div",ms,l(((J=(b=g.value.data)==null?void 0:b.summary)==null?void 0:J.late)||0),1),t[73]||(t[73]=e("div",{class:"text-sm text-yellow-700"},"Late",-1))]),e("div",gs,[e("div",fs,l(((Re=(Z=g.value.data)==null?void 0:Z.summary)==null?void 0:Re.total_students)||0),1),t[74]||(t[74]=e("div",{class:"text-sm text-blue-700"},"Total",-1))])]),e("div",bs,[e("div",hs,[t[75]||(t[75]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Attendance Overview",-1)),e("canvas",{ref_key:"dailyChart",ref:ue,width:"400",height:"200"},null,512)]),e("div",ys,[t[76]||(t[76]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Status Distribution",-1)),e("canvas",{ref_key:"statusChart",ref:ce,width:"400",height:"200"},null,512)])]),e("div",ws,[e("table",_s,[t[77]||(t[77]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Student"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Roll No"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Time In"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Remarks")])],-1)),e("tbody",ks,[(n(!0),o(k,null,C(g.value.data.attendance_sheet,s=>{var f,$,Ke,Je;return n(),o("tr",{key:s.student.id},[e("td",Cs,l(s.student.name),1),e("td",js,l(s.student.roll_number),1),e("td",Ss,[e("span",{class:L([Me(((f=s.attendance[0])==null?void 0:f.status)||"absent"),"px-2 py-1 rounded-full text-xs font-medium"])},l((($=s.attendance[0])==null?void 0:$.status)||"absent"),3)]),e("td",As,l(((Ke=s.attendance[0])==null?void 0:Ke.time_in)||"-"),1),e("td",Ms,l(((Je=s.attendance[0])==null?void 0:Je.remarks)||"-"),1)])}),128))])])])])):m.value==="monthly"?(n(),o("div",Ds,[e("div",Vs,[e("div",Ts,[e("div",Ps,l(((Fe=(Ue=g.value.data)==null?void 0:Ue.overall_stats)==null?void 0:Fe.total_students)||0),1),t[78]||(t[78]=e("div",{class:"text-sm text-blue-700"},"Total Students",-1))]),e("div",Bs,[e("div",$s,l(Math.round(((Ie=g.value.data.overall_stats)==null?void 0:Ie.average_attendance)||0))+"%",1),t[79]||(t[79]=e("div",{class:"text-sm text-green-700"},"Avg Attendance",-1))]),e("div",Rs,[e("div",Us,l(((Ne=g.value.data.overall_stats)==null?void 0:Ne.good_attendance)||0),1),t[80]||(t[80]=e("div",{class:"text-sm text-yellow-700"},"Good (75-89%)",-1))]),e("div",Fs,[e("div",Is,l(((ze=g.value.data.overall_stats)==null?void 0:ze.defaulters_count)||0),1),t[81]||(t[81]=e("div",{class:"text-sm text-red-700"},"Defaulters",-1))])]),e("div",Ns,[e("div",zs,[t[82]||(t[82]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Monthly Attendance Trend",-1)),e("canvas",{ref_key:"monthlyTrendChart",ref:pe,width:"400",height:"200"},null,512)]),e("div",Ls,[t[83]||(t[83]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Performance Categories",-1)),e("canvas",{ref_key:"performanceChart",ref:ve,width:"400",height:"200"},null,512)])]),e("div",Os,[e("table",Es,[t[84]||(t[84]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Student"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Roll No"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Class"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Total Days"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Present Days"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Percentage"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),e("tbody",Hs,[(n(!0),o(k,null,C(g.value.data.student_summaries,s=>(n(),o("tr",{key:s.student.id},[e("td",Gs,l(s.student.name),1),e("td",Ws,l(s.student.roll_number),1),e("td",Ks,l(s.student.class)+" - "+l(s.student.section),1),e("td",Js,l(s.total_days),1),e("td",Ys,l(s.present_days),1),e("td",Qs,[e("span",{class:L([ae(s.attendance_percentage),"px-2 py-1 rounded-full text-xs font-medium"])},l(s.attendance_percentage)+"% ",3)]),e("td",qs,[e("span",{class:L([s.is_defaulter?"text-red-600 font-medium":"text-green-600 font-medium","text-xs"])},l(s.is_defaulter?"Defaulter":"Good"),3)])]))),128))])])])])):m.value==="subject"?(n(),o("div",Zs,[(n(!0),o(k,null,C(g.value.data.subject_reports,s=>(n(),o("div",{key:s.subject.id,class:"border border-gray-200 rounded-lg p-4"},[e("div",Xs,[e("h4",ea,l(s.subject.name)+" ("+l(s.subject.code)+")",1),e("div",ta," Avg: "+l(Math.round(s.subject_stats.average_attendance))+"% | Classes: "+l(s.subject_stats.total_classes_conducted),1)]),e("div",sa,[e("table",aa,[t[85]||(t[85]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Student"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Roll No"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Total Classes"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Present"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Percentage")])],-1)),e("tbody",la,[(n(!0),o(k,null,C(s.student_summaries,f=>(n(),o("tr",{key:f.student_id},[e("td",oa,l(f.student_name),1),e("td",na,l(f.roll_number),1),e("td",ra,l(f.total_classes),1),e("td",da,l(f.present_classes),1),e("td",ia,[e("span",{class:L([ae(f.attendance_percentage),"px-2 py-1 rounded-full text-xs font-medium"])},l(f.attendance_percentage)+"% ",3)])]))),128))])])])]))),128))])):m.value==="defaulters"?(n(),o("div",ua,[e("div",ca,[t[86]||(t[86]=e("h4",{class:"text-lg font-medium text-red-800 mb-2"},"Students with Attendance Below 75%",-1)),e("p",pa,"Total Defaulters: "+l(((Le=g.value.data)==null?void 0:Le.length)||0),1)]),e("div",va,[e("table",xa,[t[87]||(t[87]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Student"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Roll No"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Class"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Total Days"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Present Days"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Percentage")])],-1)),e("tbody",ma,[(n(!0),o(k,null,C(g.value.data,s=>{var f,$;return n(),o("tr",{key:s.student.id,class:"bg-red-50"},[e("td",ga,l(s.student.first_name)+" "+l(s.student.last_name),1),e("td",fa,l(s.student.roll_number),1),e("td",ba,l((f=s.student.class)==null?void 0:f.name)+" - "+l(($=s.student.section)==null?void 0:$.name),1),e("td",ha,l(s.total_days),1),e("td",ya,l(s.present_days),1),e("td",wa,[e("span",_a,l(s.attendance_percentage)+"% ",1)])])}),128))])])])])):(n(),o("div",ka,[t[88]||(t[88]=e("svg",{class:"w-16 h-16 mx-auto text-gray-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z"})],-1)),t[89]||(t[89]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"Report Data",-1)),t[90]||(t[90]=e("p",{class:"text-gray-600"},"Report generated successfully. Data structure:",-1)),e("pre",Ca,l(JSON.stringify(g.value.data,null,2)),1)]))])):ie.value?(n(),o("div",ja,t[91]||(t[91]=[e("div",{class:"w-16 h-16 border-4 border-green-200 border-t-green-600 rounded-full animate-spin mb-4"},null,-1),e("p",{class:"text-gray-600"},"Generating report...",-1)]))):(n(),o("div",Sa,t[92]||(t[92]=[S('<svg class="w-16 h-16 mx-auto text-gray-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z" data-v-0adc1527></path></svg><h4 class="text-lg font-medium text-gray-900 mb-2" data-v-0adc1527>Select Report Type</h4><p class="text-gray-600" data-v-0adc1527>Choose a report type above and fill the required filters to generate report</p><div class="mt-4 flex justify-center" data-v-0adc1527><div class="flex items-center gap-2 text-xs text-gray-500" data-v-0adc1527><span class="w-2 h-2 bg-blue-400 rounded-full" data-v-0adc1527></span><span data-v-0adc1527>Daily Report</span><span class="w-2 h-2 bg-purple-400 rounded-full" data-v-0adc1527></span><span data-v-0adc1527>Monthly Summary</span><span class="w-2 h-2 bg-indigo-400 rounded-full" data-v-0adc1527></span><span data-v-0adc1527>Subject-wise</span></div></div>',4)])))])):D("",!0)])):p.value!=="reports"?(n(),o("div",Aa,[e("div",{class:"mb-4"},[e("button",{onClick:we,class:"flex items-center gap-2 px-4 py-2 bg-white/90 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 text-gray-900 hover:text-gray-900"},t[94]||(t[94]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1),V(" Back to Selection ")]))]),e("div",Ma,[e("div",Da,[e("button",{onClick:t[18]||(t[18]=s=>Se("daily")),class:L(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ease-in-out transform relative overflow-hidden",Y.value==="daily"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md scale-105":"text-purple-600 hover:text-purple-700 hover:bg-purple-50 hover:scale-102"])},[e("span",Va,[t[95]||(t[95]=V(" Daily Attendance ")),e("span",Ta,l(te.value),1)]),Y.value==="daily"?(n(),o("div",Pa)):D("",!0)],2),t[97]||(t[97]=e("div",{class:"h-6 w-px bg-purple-200 mx-1 self-center"},null,-1)),e("button",{onClick:t[19]||(t[19]=s=>Se("monthly")),class:L(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ease-in-out transform relative overflow-hidden",Y.value==="monthly"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-md scale-105":"text-purple-600 hover:text-purple-700 hover:bg-purple-50 hover:scale-102"])},[e("span",Ba,[t[96]||(t[96]=V(" Monthly Report ")),e("span",$a,l(re.value),1)]),Y.value==="monthly"?(n(),o("div",Ra)):D("",!0)],2)])]),e("div",Ua,[e("h2",Fa,[t[98]||(t[98]=e("div",{class:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"},null,-1)),V(" "+l(p.value==="subject"?"Subject-wise Attendance":"Class-wise Attendance"),1)]),t[99]||(t[99]=S('<nav class="flex items-center gap-2 text-base font-medium text-gray-500" data-v-0adc1527><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-0adc1527>Dashboard</span><span class="mx-2" data-v-0adc1527>|</span><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-0adc1527>Students</span><span class="mx-2" data-v-0adc1527>|</span><span class="text-gray-900 font-bold" data-v-0adc1527>Attendance</span></nav>',1))]),e("div",Ia,[e("div",Na,[e("h3",za,l(p.value==="subject"?"Mark Subject Attendance":"Mark Class Attendance"),1),e("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-300",style:Ye(`max-width: ${p.value==="subject"?"160px":"140px"}`)},null,4)])]),e("div",La,[e("form",{class:"w-full",onSubmit:Qe(H,["prevent"])},[e("div",Oa,[e("div",Ea,[t[101]||(t[101]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Search",-1)),e("div",Ha,[h(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>W.value=s),type:"text",placeholder:"Search students...",class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[N,W.value]]),t[100]||(t[100]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",Ga,[t[105]||(t[105]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Session",-1)),e("div",Wa,[h(e("select",{"onUpdate:modelValue":t[21]||(t[21]=s=>T.value=s),onChange:ge,class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[t[102]||(t[102]=e("option",{value:""},"All Sessions",-1)),(n(!0),o(k,null,C(O.value,s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,Ka))),128))],544),[[P,T.value]]),t[103]||(t[103]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[104]||(t[104]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",Ja,[t[109]||(t[109]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Class",-1)),e("div",Ya,[h(e("select",{"onUpdate:modelValue":t[22]||(t[22]=s=>M.value=s),onChange:Ae,class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[t[106]||(t[106]=e("option",{value:""},"All Classes",-1)),(n(!0),o(k,null,C(A.value,s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,Qa))),128))],544),[[P,M.value]]),t[107]||(t[107]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[108]||(t[108]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",qa,[t[113]||(t[113]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Section",-1)),e("div",Za,[h(e("select",{"onUpdate:modelValue":t[23]||(t[23]=s=>B.value=s),class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[t[110]||(t[110]=e("option",{value:""},"All Sections",-1)),(n(!0),o(k,null,C(y.value,s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,Xa))),128))],512),[[P,B.value]]),t[111]||(t[111]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[112]||(t[112]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),p.value==="subject"?(n(),o("div",el,[t[117]||(t[117]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Subject",-1)),e("div",tl,[h(e("select",{"onUpdate:modelValue":t[24]||(t[24]=s=>j.value=s),onChange:je,class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[t[114]||(t[114]=e("option",{value:""},"Select Subject",-1)),(n(!0),o(k,null,C(E.value,s=>(n(),o("option",{key:s.value,value:s.value},l(s.label),9,sl))),128))],544),[[P,j.value]]),t[115]||(t[115]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[116]||(t[116]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])):D("",!0),e("div",al,[t[119]||(t[119]=e("label",{class:"mb-1 text-base font-normal text-black modern-font"},"Date",-1)),e("div",ll,[h(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>I.value=s),type:"date",class:"h-9 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[N,I.value]]),t[118]||(t[118]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]),e("div",{class:"flex justify-end mt-3"},[e("div",{class:"flex items-center gap-2"},[t[121]||(t[121]=e("button",{type:"submit",class:"h-9 px-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-medium rounded-full hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]),V(" Search ")],-1)),e("button",{type:"button",onClick:xt,class:"h-9 px-6 bg-gradient-to-r from-gray-500 to-gray-600 text-white text-sm font-medium rounded-full hover:from-gray-600 hover:to-gray-700 transition-all duration-300 shadow-sm hover:shadow-md transform origin-left hover:scale-105 flex items-center gap-2"},t[120]||(t[120]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),V(" Clear ")]))])])],32)]),e("div",ol,[e("div",nl,[e("h3",rl,[t[122]||(t[122]=e("div",{class:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 animate-bounce"},null,-1)),V(" "+l(p.value==="subject"?"Subject Students":"Class Students")+" ("+l(U.value)+") ",1)]),t[123]||(t[123]=e("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-500",style:{"max-width":"150px"}},null,-1))]),e("div",dl,[e("div",il,[t[124]||(t[124]=e("span",{class:"absolute left-0 top-1/2 -translate-y-1/2 pl-2 text-purple-400"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})])],-1)),h(e("input",{"onUpdate:modelValue":t[26]||(t[26]=s=>W.value=s),onKeyup:qe(H,["enter"]),type:"text",placeholder:"QUICK SEARCH",class:"w-full border-0 bg-transparent pl-10 pr-0 py-2 text-gray-900 font-medium text-xs tracking-wider uppercase focus:ring-0 focus:outline-none transition placeholder:text-gray-600 placeholder:font-medium placeholder:opacity-100 placeholder:text-xs shadow-none",style:{"letter-spacing":"0.08em"}},null,544),[[N,W.value]]),t[125]||(t[125]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[1.5px] bg-purple-200 pointer-events-none"},null,-1))])])]),t[160]||(t[160]=e("div",{class:"w-full"},[e("div",{class:"h-[2px] w-full bg-purple-200 mb-4"})],-1)),z.value?(n(),o("div",ul,t[126]||(t[126]=[S('<div class="border border-gray-200 rounded-xl p-8 bg-white/40 shadow-sm" data-v-0adc1527><div class="flex flex-col items-center justify-center py-12" data-v-0adc1527><div class="relative mb-6" data-v-0adc1527><div class="w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin" data-v-0adc1527></div><div class="absolute inset-0 w-16 h-16 border-4 border-transparent border-r-indigo-500 rounded-full animate-ping opacity-20" data-v-0adc1527></div></div><div class="text-center" data-v-0adc1527><p class="text-gray-600 font-medium text-lg mb-1" data-v-0adc1527>Loading Attendance</p><p class="text-gray-500 text-sm font-normal" data-v-0adc1527>Please wait while we fetch the data...</p><div class="flex justify-center mt-3 space-x-1" data-v-0adc1527><div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce" data-v-0adc1527></div><div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce" style="animation-delay:0.1s;" data-v-0adc1527></div><div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce" style="animation-delay:0.2s;" data-v-0adc1527></div></div></div></div></div>',1)]))):!z.value&&le.value.length===0?(n(),o("div",cl,t[127]||(t[127]=[S('<div class="border border-gray-200 rounded-xl p-8 bg-white/40 shadow-sm" data-v-0adc1527><div class="flex flex-col items-center justify-center py-12" data-v-0adc1527><div class="relative mb-6" data-v-0adc1527><div class="w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center" data-v-0adc1527><svg class="w-12 h-12 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" data-v-0adc1527></path></svg></div><div class="absolute -top-2 -right-2 w-4 h-4 bg-purple-300 rounded-full animate-ping opacity-30" data-v-0adc1527></div><div class="absolute -bottom-2 -left-2 w-3 h-3 bg-indigo-300 rounded-full animate-pulse" data-v-0adc1527></div></div><div class="w-full" data-v-0adc1527><h3 class="text-gray-600 font-medium text-xl mb-2" data-v-0adc1527>No Attendance Records</h3><p class="text-gray-500 text-sm font-normal leading-relaxed mb-4" data-v-0adc1527> Select class and section to view attendance records or start marking attendance for today. </p><div class="flex flex-wrap justify-center gap-2 text-xs text-gray-500" data-v-0adc1527><span class="px-2 py-1 bg-white rounded-full font-normal" data-v-0adc1527> Select class</span><span class="px-2 py-1 bg-white rounded-full font-normal" data-v-0adc1527> Select section</span><span class="px-2 py-1 bg-white rounded-full font-normal" data-v-0adc1527> Choose date</span></div></div></div></div>',1)]))):!z.value&&le.value.length>0?(n(),o("div",pl,[e("div",vl,[e("div",xl,[e("div",null,[e("h3",ml,l(p.value==="subject"?"Subject-wise Attendance":"Class-wise Attendance"),1),e("p",gl,l(p.value==="subject"?"Mark attendance for individual subjects":"Mark daily attendance for entire class"),1)]),e("div",fl,[e("div",bl,"Date: "+l(fe(I.value)),1),e("div",hl,l(((Oe=A.value.find(s=>s.value==M.value))==null?void 0:Oe.label)||"Class")+" - "+l(((Ee=y.value.find(s=>s.value==B.value))==null?void 0:Ee.label)||"Section"),1),p.value==="subject"&&j.value?(n(),o("div",yl," Subject: "+l((He=E.value.find(s=>s.value==j.value))==null?void 0:He.label),1)):D("",!0)])]),e("div",wl,[e("div",_l,[e("div",kl,l(x.value.filter(s=>s.status==="present").length),1),t[128]||(t[128]=e("div",{class:"text-xs text-green-700"},"Present",-1))]),e("div",Cl,[e("div",jl,l(x.value.filter(s=>s.status==="absent").length),1),t[129]||(t[129]=e("div",{class:"text-xs text-red-700"},"Absent",-1))]),e("div",Sl,[e("div",Al,l(x.value.filter(s=>s.status==="late").length),1),t[130]||(t[130]=e("div",{class:"text-xs text-yellow-700"},"Late",-1))]),e("div",Ml,[e("div",Dl,l(x.value.length),1),t[131]||(t[131]=e("div",{class:"text-xs text-blue-700"},"Total",-1))])]),e("div",Vl,[e("table",Tl,[e("thead",Pl,[e("tr",null,[t[132]||(t[132]=e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Student",-1)),t[133]||(t[133]=e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Roll No",-1)),t[134]||(t[134]=e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Class",-1)),t[135]||(t[135]=e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Section",-1)),t[136]||(t[136]=e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Status",-1)),t[137]||(t[137]=e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Time In",-1)),t[138]||(t[138]=e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Remarks",-1)),p.value==="subject"?(n(),o("th",Bl,"Subject Attendance %")):D("",!0),t[139]||(t[139]=e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Actions",-1))])]),e("tbody",$l,[(n(!0),o(k,null,C(le.value,(s,f)=>(n(),o("tr",{key:s.id,class:"hover:bg-white transition-colors"},[e("td",Rl,l(s.name),1),e("td",Ul,l(s.rollNumber),1),e("td",Fl,l(s.class),1),e("td",Il,l(s.section||"-"),1),e("td",Nl,[h(e("select",{"onUpdate:modelValue":$=>s.status=$,class:"text-xs border border-gray-200 rounded px-2 py-1 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"},t[140]||(t[140]=[e("option",{value:"present"},"Present",-1),e("option",{value:"absent"},"Absent",-1),e("option",{value:"late"},"Late",-1),e("option",{value:"excused"},"Excused",-1)]),8,zl),[[P,s.status]])]),e("td",Ll,[h(e("input",{"onUpdate:modelValue":$=>s.timeIn=$,type:"time",class:"text-xs border border-gray-200 rounded px-2 py-1 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"},null,8,Ol),[[N,s.timeIn]])]),e("td",El,[h(e("input",{"onUpdate:modelValue":$=>s.remarks=$,type:"text",placeholder:"Add remarks",class:"text-xs border border-gray-200 rounded px-2 py-1 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 w-32"},null,8,Hl),[[N,s.remarks]])]),p.value==="subject"?(n(),o("td",Gl,[e("span",{class:L([ae(s.attendancePercentage),"px-2 py-1 rounded-full text-xs font-medium"])},l(s.attendancePercentage||0)+"% ",3)])):D("",!0),e("td",Wl,[e("div",Kl,[e("button",{onClick:$=>Te(),class:"text-blue-600 hover:text-blue-900 transition-colors text-xs"}," View ",8,Jl),e("button",{onClick:$=>Pe(),class:"text-green-600 hover:text-green-900 transition-colors text-xs"}," Edit ",8,Yl)])])]))),128))])])]),e("div",Ql,[e("div",ql,[e("div",Zl,[e("button",{class:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm font-medium flex items-center gap-2",onClick:pt},t[141]||(t[141]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})],-1),V(" Mark All Present ")])),e("button",{class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium flex items-center gap-2",onClick:vt},t[142]||(t[142]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),V(" Mark All Absent ")])),e("button",{class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium flex items-center gap-2",onClick:Be,disabled:z.value},[z.value?(n(),o("svg",eo,t[143]||(t[143]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(n(),o("svg",to,t[144]||(t[144]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"},null,-1)]))),V(" "+l(z.value?"Saving...":"Save Attendance"),1)],8,Xl)]),e("div",so," Total: "+l(x.value.length)+" students | Present: "+l(x.value.filter(s=>s.status==="present").length)+" | Absent: "+l(x.value.filter(s=>s.status==="absent").length),1)]),e("div",ao," Showing "+l((w.value-1)*R.value+1)+" to "+l(Math.min(w.value*R.value,U.value))+" of "+l(U.value)+" students ",1)]),e("div",lo,[e("div",oo," Showing "+l((w.value-1)*R.value+1)+" to "+l(Math.min(w.value*R.value,U.value))+" of "+l(U.value)+" entries ",1),e("div",no,[e("label",ro,[t[145]||(t[145]=V(" Per page: ")),h(e("select",{"onUpdate:modelValue":t[27]||(t[27]=s=>R.value=s),onChange:t[28]||(t[28]=s=>{w.value=1,H()}),class:"rounded-md border border-purple-200 bg-white px-2 py-1 text-xs font-semibold text-purple-700 focus:ring-2 focus:ring-purple-300"},[(n(),o(k,null,C([5,10,20,50],s=>e("option",{key:s,value:s},l(s),9,io)),64))],544),[[P,R.value]])]),e("label",uo,[t[147]||(t[147]=V(" Go to page: ")),h(e("input",{"onUpdate:modelValue":t[29]||(t[29]=s=>ne.value=s),type:"number",min:"1",max:F.value,class:"w-16 rounded-md border border-purple-200 px-2 py-1 text-xs font-semibold text-purple-700 focus:ring-2 focus:ring-purple-300",onKeyup:t[30]||(t[30]=qe(s=>q(ne.value),["enter"]))},null,40,co),[[N,ne.value,void 0,{number:!0}]]),e("button",{onClick:t[31]||(t[31]=s=>q(ne.value)),class:"ml-1 px-2 py-1 rounded-md bg-purple-500 text-white text-xs font-semibold hover:bg-purple-600 transition-all flex items-center gap-1"},t[146]||(t[146]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1),V(" Go ")]))])])]),e("div",po,[e("div",vo,[e("button",{class:"w-9 h-9 flex items-center justify-center rounded-lg bg-purple-50 text-purple-500 text-xl font-bold shadow-sm transition-all duration-200 hover:bg-purple-100 focus:outline-none focus:ring-2 focus:ring-purple-300 disabled:opacity-40 disabled:cursor-not-allowed",disabled:w.value===1,onClick:Ve,"aria-label":"Previous"},t[148]||(t[148]=[e("span",null,"",-1)]),8,xo),e("span",mo,l(w.value),1),e("button",{class:"w-9 h-9 flex items-center justify-center rounded-lg bg-purple-50 text-purple-500 text-xl font-bold shadow-sm transition-all duration-200 hover:bg-purple-100 focus:outline-none focus:ring-2 focus:ring-purple-300 disabled:opacity-40 disabled:cursor-not-allowed",disabled:w.value===F.value,onClick:De,"aria-label":"Next"},t[149]||(t[149]=[e("span",null,"",-1)]),8,go)])])])])):(n(),o("div",fo,[e("div",bo,[e("div",ho,[e("h3",yo,l(p.value==="subject"?"Subject Students List":"Class Students List"),1),e("p",wo,l(p.value==="subject"?"Students enrolled in selected subject":"Students in selected class and section"),1)]),e("div",_o,[e("table",ko,[t[151]||(t[151]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Roll No"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Student Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Class"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Section"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Attendance %"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Classes"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Co,[(n(!0),o(k,null,C(le.value,s=>(n(),o("tr",{key:s.id,class:"hover:bg-white transition-colors"},[e("td",jo,l(s.rollNumber),1),e("td",So,[e("div",Ao,[e("div",Mo,l(s.name.charAt(0)),1),e("div",Do,[e("div",Vo,l(s.name),1),e("div",To,"Student ID: "+l(s.id),1)])])]),e("td",Po,l(s.class),1),e("td",Bo,l(s.section),1),e("td",$o,[e("span",{class:L([Me(s.status),"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full"])},l(s.status.replace("_"," ").toUpperCase()),3)]),e("td",Ro,[e("div",Uo,[e("div",Fo,[e("div",{class:L([ae(s.attendancePercentage),"h-2 rounded-full transition-all duration-300"]),style:Ye(`width: ${s.attendancePercentage}%`)},null,6)]),e("span",Io,l(s.attendancePercentage)+"%",1)])]),e("td",No,[e("div",zo,[e("div",Lo,l(s.presentClasses)+"/"+l(s.totalClasses),1),t[150]||(t[150]=e("div",{class:"text-xs text-gray-500"},"Present/Total",-1))])]),e("td",Oo,[e("button",{onClick:f=>Te(),class:"text-indigo-600 hover:text-indigo-900 transition-colors"}," View ",8,Eo),e("button",{onClick:f=>Pe(),class:"text-green-600 hover:text-green-900 transition-colors"}," Edit ",8,Ho)])]))),128))])])]),e("div",Go,[e("div",Wo,[e("div",Ko," Showing "+l(K.value.from)+" to "+l(K.value.to)+" of "+l(K.value.total)+" students ",1),e("div",Jo,[e("span",Yo,"Total Present: "+l(te.value),1),t[153]||(t[153]=e("span",{class:"text-sm text-gray-500"},"|",-1)),e("span",Qo,"Total: "+l(K.value.total),1),t[154]||(t[154]=e("span",{class:"text-sm text-gray-500"},"|",-1)),h(e("select",{"onUpdate:modelValue":t[32]||(t[32]=s=>R.value=s),onChange:t[33]||(t[33]=s=>dt(R.value)),class:"text-sm border border-gray-200 rounded px-2 py-1"},t[152]||(t[152]=[e("option",{value:5},"5 per page",-1),e("option",{value:10},"10 per page",-1),e("option",{value:20},"20 per page",-1),e("option",{value:50},"50 per page",-1)]),544),[[P,R.value]])])]),F.value>1?(n(),o("div",qo,[e("button",{onClick:Ve,disabled:w.value<=1,class:"px-3 py-1 text-sm border border-gray-200 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Zo),(n(!0),o(k,null,C(it(),s=>(n(),o(k,{key:s},[s==="..."?(n(),o("button",Xo,"...")):(n(),o("button",{key:1,onClick:f=>q(s),class:L(["px-3 py-1 text-sm border rounded-lg",w.value===s?"bg-purple-500 text-white border-purple-500":"border-gray-200 hover:bg-white"])},l(s),11,en))],64))),128)),e("button",{onClick:De,disabled:w.value>=F.value,class:"px-3 py-1 text-sm border border-gray-200 rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,tn)])):D("",!0)])])])),ee.value?(n(),o("div",{key:4,class:"relative z-10",onClick:t[36]||(t[36]=Qe(s=>ee.value=!1,["self"]))},[e("div",sn,[e("div",an,[e("div",ln,[e("h3",on,[V(l(p.value==="subject"?"Mark Subject Attendance":"Mark Class Attendance")+" - "+l(fe(I.value))+" ",1),p.value==="subject"&&j.value.value?(n(),o("span",nn," Subject: "+l((Ge=E.value.find(s=>s.value==j.value.value))==null?void 0:Ge.label),1)):D("",!0)]),e("button",{onClick:t[34]||(t[34]=s=>ee.value=!1),class:"text-white hover:text-gray-500 transition-colors"},t[155]||(t[155]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",rn,[p.value==="subject"&&j.value?(n(),o("div",dn,[e("div",un,[t[156]||(t[156]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),e("span",cn,"Subject: "+l((We=E.value.find(s=>s.value==j.value))==null?void 0:We.label),1),t[157]||(t[157]=e("span",{class:"text-blue-600"},"| Subject-wise Attendance",-1))])])):p.value==="class"?(n(),o("div",pn,t[158]||(t[158]=[S('<div class="flex items-center gap-2 text-green-800" data-v-0adc1527><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" data-v-0adc1527></path></svg><span class="font-medium" data-v-0adc1527>Class-wise Daily Attendance</span><span class="text-green-600" data-v-0adc1527>| Full Day Marking</span></div>',1)]))):D("",!0),e("div",vn,[e("table",xn,[t[159]||(t[159]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Roll No"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Student Name"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Time In"),e("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Remarks")])],-1)),e("tbody",mn,[(n(!0),o(k,null,C(x.value,s=>(n(),o("tr",{key:s.id,class:"hover:bg-white"},[e("td",gn,l(s.rollNumber),1),e("td",fn,[e("div",bn,[e("div",hn,l(s.name.charAt(0)),1),e("span",yn,l(s.name),1)])]),e("td",wn,[h(e("select",{"onUpdate:modelValue":f=>s.status=f,class:"border border-gray-200 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[(n(!0),o(k,null,C(he.value,f=>(n(),o("option",{key:f.value,value:f.value},l(f.label),9,kn))),128))],8,_n),[[P,s.status]])]),e("td",Cn,[h(e("input",{"onUpdate:modelValue":f=>s.timeIn=f,type:"time",class:"border border-gray-200 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,8,jn),[[N,s.timeIn]])]),e("td",Sn,[h(e("input",{"onUpdate:modelValue":f=>s.remarks=f,type:"text",placeholder:"Optional remarks",class:"border border-gray-200 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent w-full"},null,8,An),[[N,s.remarks]])])]))),128))])])])]),e("div",Mn,[e("button",{onClick:t[35]||(t[35]=s=>ee.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-900 rounded-lg hover:bg-gray-400 transition-colors"}," Cancel "),e("button",{onClick:Be,class:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105"}," Save Attendance ")])])])):D("",!0)])):D("",!0):(n(),o("div",kt,[t[49]||(t[49]=S('<div class="w-full mx-auto mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500" data-v-0adc1527><h2 class="text-base font-medium text-gray-600 tracking-tight flex items-center gap-2" data-v-0adc1527><div class="w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse" data-v-0adc1527></div> Student Attendance Management </h2><nav class="flex items-center gap-2 text-base font-medium text-gray-500" data-v-0adc1527><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-0adc1527>Dashboard</span><span class="mx-2" data-v-0adc1527>|</span><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-0adc1527>Students</span><span class="mx-2" data-v-0adc1527>|</span><span class="text-gray-900 font-bold" data-v-0adc1527>Attendance</span></nav></div><div class="w-full mx-auto mb-6" data-v-0adc1527><div class="flex flex-col items-center" data-v-0adc1527><h3 class="text-base font-medium text-gray-900 tracking-tight mb-2" data-v-0adc1527>Choose Attendance Type</h3><div class="h-[2px] bg-purple-200 w-full transition-all duration-300" style="max-width:180px;" data-v-0adc1527></div></div></div>',2)),e("div",Ct,[e("div",jt,[t[38]||(t[38]=S('<div class="bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6" data-v-0adc1527><div class="flex items-center justify-between" data-v-0adc1527><div data-v-0adc1527><h3 class="text-base font-medium text-white mb-1 tracking-tight" data-v-0adc1527>Subject-wise Attendance</h3><p class="text-blue-100 text-sm" data-v-0adc1527>Mark attendance for specific subjects</p></div><div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center" data-v-0adc1527><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" data-v-0adc1527></path></svg></div></div></div>',1)),e("div",St,[t[37]||(t[37]=S('<div class="space-y-4 mb-6" data-v-0adc1527><div class="flex items-center gap-3" data-v-0adc1527><div class="w-2 h-2 bg-blue-500 rounded-full" data-v-0adc1527></div><span class="text-sm text-gray-600" data-v-0adc1527>Mark attendance per subject</span></div><div class="flex items-center gap-3" data-v-0adc1527><div class="w-2 h-2 bg-blue-500 rounded-full" data-v-0adc1527></div><span class="text-sm text-gray-600" data-v-0adc1527>Track subject-specific presence</span></div><div class="flex items-center gap-3" data-v-0adc1527><div class="w-2 h-2 bg-blue-500 rounded-full" data-v-0adc1527></div><span class="text-sm text-gray-600" data-v-0adc1527>Generate subject reports</span></div></div>',1)),e("button",{onClick:t[0]||(t[0]=s=>xe("subject")),class:"w-full h-12 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white font-medium hover:from-blue-600 hover:to-indigo-600 transition-all duration-300 transform hover:scale-105 shadow-lg"}," Start Subject Attendance ")])]),e("div",At,[t[40]||(t[40]=S('<div class="bg-gradient-to-r from-purple-600 to-pink-600 px-8 py-6" data-v-0adc1527><div class="flex items-center justify-between" data-v-0adc1527><div data-v-0adc1527><h3 class="text-base font-medium text-white mb-1 tracking-tight" data-v-0adc1527>Class-wise Attendance</h3><p class="text-purple-100 text-sm" data-v-0adc1527>Mark attendance for entire class</p></div><div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center" data-v-0adc1527><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.5a8.25 8.25 0 0116.5 0" data-v-0adc1527></path></svg></div></div></div>',1)),e("div",Mt,[t[39]||(t[39]=S('<div class="space-y-4 mb-6" data-v-0adc1527><div class="flex items-center gap-3" data-v-0adc1527><div class="w-2 h-2 bg-purple-500 rounded-full" data-v-0adc1527></div><span class="text-sm text-gray-600" data-v-0adc1527>Mark attendance for whole class</span></div><div class="flex items-center gap-3" data-v-0adc1527><div class="w-2 h-2 bg-purple-500 rounded-full" data-v-0adc1527></div><span class="text-sm text-gray-600" data-v-0adc1527>Daily attendance tracking</span></div><div class="flex items-center gap-3" data-v-0adc1527><div class="w-2 h-2 bg-purple-500 rounded-full" data-v-0adc1527></div><span class="text-sm text-gray-600" data-v-0adc1527>Generate class reports</span></div></div>',1)),e("button",{onClick:t[1]||(t[1]=s=>xe("class")),class:"w-full h-12 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 shadow-lg"}," Start Class Attendance ")])]),e("div",Dt,[t[42]||(t[42]=S('<div class="bg-gradient-to-r from-green-600 to-emerald-600 px-8 py-6" data-v-0adc1527><div class="flex items-center justify-between" data-v-0adc1527><div data-v-0adc1527><h3 class="text-base font-medium text-white mb-1 tracking-tight" data-v-0adc1527>Reports &amp; Analytics</h3><p class="text-green-100 text-sm" data-v-0adc1527>View comprehensive attendance reports</p></div><div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center" data-v-0adc1527><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" data-v-0adc1527><path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z" data-v-0adc1527></path></svg></div></div></div>',1)),e("div",Vt,[t[41]||(t[41]=S('<div class="space-y-4 mb-6" data-v-0adc1527><div class="flex items-center gap-3" data-v-0adc1527><div class="w-2 h-2 bg-green-500 rounded-full" data-v-0adc1527></div><span class="text-sm text-gray-600" data-v-0adc1527>Daily &amp; Monthly reports</span></div><div class="flex items-center gap-3" data-v-0adc1527><div class="w-2 h-2 bg-green-500 rounded-full" data-v-0adc1527></div><span class="text-sm text-gray-600" data-v-0adc1527>Subject-wise analytics</span></div><div class="flex items-center gap-3" data-v-0adc1527><div class="w-2 h-2 bg-green-500 rounded-full" data-v-0adc1527></div><span class="text-sm text-gray-600" data-v-0adc1527>Trends &amp; insights</span></div></div>',1)),e("button",{onClick:t[2]||(t[2]=s=>xe("reports")),class:"w-full h-12 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-white font-medium hover:from-green-600 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105 shadow-lg"}," View Reports ")])])]),e("div",Tt,[e("div",Pt,[t[43]||(t[43]=e("div",{class:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[44]||(t[44]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-1"},"Today's Present",-1)),e("p",Bt,l(Q.value.present),1)]),e("div",$t,[t[45]||(t[45]=e("div",{class:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[46]||(t[46]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-1"},"Today's Absent",-1)),e("p",Rt,l(Q.value.absent),1)]),e("div",Ut,[t[47]||(t[47]=e("div",{class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2-2z"})])],-1)),t[48]||(t[48]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-1"},"Total Students",-1)),e("p",Ft,l(Q.value.total),1)])])]))])}}},Bn=ft(Dn,[["__scopeId","data-v-0adc1527"]]);export{Bn as default};
