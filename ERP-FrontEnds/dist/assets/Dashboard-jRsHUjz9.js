import{C as F,r as Z}from"./chart-DUfl3Dpl.js";import{r as n,o as K,a as v,_ as $,c as g,b as h,d as e,e as D,f as C,t as l,n as c,w as f,v as p,F as b,g as x,h as tt,i as M,j as E,k,l as N}from"./index-z4YXot-9.js";function et(){const r=n({classes:0,sections:0,subjects:0}),t=n(!1),d=n(null),s=async()=>{try{t.value=!0,d.value=null;const o=await v.get("/statistics/counts");o.data.success?r.value=o.data.result:d.value=o.data.message||"Failed to fetch statistics"}catch(o){console.error("Error fetching statistics:",o),d.value="Failed to fetch statistics";try{const[i,a,u]=await Promise.all([v.get("/classes",{params:{per_page:1}}),v.get("/sections",{params:{per_page:1}}),v.get("/subjects",{params:{per_page:1}})]);i.data.success&&(r.value.classes=i.data.result.total||0),a.data.success&&(r.value.sections=a.data.result.total||0),u.data.status&&(r.value.subjects=u.data.result.total||0)}catch(i){console.error("Fallback statistics fetching also failed:",i)}}finally{t.value=!1}};return K(()=>{s()}),{statistics:r,loading:t,error:d,fetchStatistics:s}}F.register(...Z);const at={name:"Dashboard",setup(){const r=n("6"),t=n("Monthly"),d=n("bar"),s=n(!1),o=n(!1),i=n(!1),a=n(!1),u=n(""),m=n(""),w=n("Admin"),y=n(!1),R=n({startDate:"",endDate:""}),P=n({startDate:"",endDate:""}),T=n({startDate:"",endDate:""}),V=n({startDate:"",endDate:""}),B=n({startDate:"",endDate:""}),Q=n({startDate:"",endDate:""}),{statistics:_,loading:z,error:L}=et(),j=k().format("MMMM D, YYYY"),S=k().hour(),q=N(()=>S<12?"morning":S<17?"afternoon":"evening"),U=N(()=>{const A=["Here's what's happening with your school today","Stay updated with real-time insights","Monitor your school's performance at a glance","Track important metrics and trends"];return A[Math.floor(Math.random()*A.length)]}),W=()=>{m.value=k().format("HH:mm:ss")},O=n([{content:"New student registration completed for Riya Sharma",time:"10 minutes ago",type:"success",color:"#10B981",icon:"fas fa-user-plus",details:"Student ID: STU001, Class: 10th A, Registration Fee: ₹5000"},{content:"Fee payment received from John Doe (₹12,500)",time:"30 minutes ago",type:"primary",color:"#3B82F6",icon:"fas fa-rupee-sign",details:"Payment Method: Online, Transaction ID: TXN123456"},{content:"New teacher joined the faculty - Mathematics",time:"2 hours ago",type:"warning",color:"#F59E0B",icon:"fas fa-chalkboard-teacher",details:"Teacher ID: TCH001, Experience: 5 years, Qualification: M.Sc"},{content:"Maintenance scheduled for Block A tomorrow",time:"3 hours ago",type:"info",color:"#6366F1",icon:"fas fa-tools",details:"Maintenance Type: Electrical, Duration: 4 hours, Affected Area: Block A"}]),I=n([{label:"Total Fee",value:185e4,prefix:"₹",suffix:"",trend:"up",change:"12% from last month",icon:"fas fa-money-bill-wave",iconBg:"bg-gradient-to-br from-blue-500 to-indigo-600",gradient:"bg-gradient-to-r from-blue-500 to-indigo-600",details:"Total fee collection target for this month"},{label:"Received Fee",value:152e4,prefix:"₹",suffix:"",trend:"up",change:"8% from last month",icon:"fas fa-check-circle",iconBg:"bg-gradient-to-br from-green-500 to-emerald-600",gradient:"bg-gradient-to-r from-green-500 to-emerald-600",details:"Successfully collected fees this month"},{label:"Present Students",value:487,prefix:"",suffix:"",trend:"up",change:"5% from last month",icon:"fas fa-user-check",iconBg:"bg-gradient-to-br from-amber-500 to-orange-600",gradient:"bg-gradient-to-r from-amber-500 to-orange-600",details:"Students present in school today"},{label:"Absent Students",value:42,prefix:"",suffix:"",trend:"down",change:"3% from last month",icon:"fas fa-user-times",iconBg:"bg-gradient-to-br from-pink-500 to-rose-600",gradient:"bg-gradient-to-r from-pink-500 to-rose-600",details:"Students absent today"}]),Y=n([]),H=n([]),G=n([]),J=n([{label:"New Students",value:24,originalValue:24,change:"+12%",percentage:85,originalPercentage:85,bgClass:"from-blue-50 to-indigo-50 border-blue-100",textClass:"text-blue-600",valueClass:"text-blue-800",changeClass:"text-green-600",progressClass:"bg-blue-500"},{label:"Pending Fees",value:18,originalValue:18,change:"-5%",percentage:30,originalPercentage:30,bgClass:"from-rose-50 to-pink-50 border-rose-100",textClass:"text-rose-600",valueClass:"text-rose-800",changeClass:"text-red-600",progressClass:"bg-rose-500"},{label:"Subjects",value:12,originalValue:12,change:"±0%",percentage:100,originalPercentage:100,bgClass:"from-purple-50 to-violet-50 border-purple-100",textClass:"text-purple-600",valueClass:"text-purple-800",changeClass:"text-purple-600",progressClass:"bg-purple-500"},{label:"Classes",value:8,originalValue:8,change:"±0%",percentage:100,originalPercentage:100,bgClass:"from-gray-50 to-slate-50 border-gray-200",textClass:"text-gray-600",valueClass:"text-gray-900",changeClass:"text-gray-600",progressClass:"bg-gray-500"}]),X=n([{title:"Annual Sports Day",date:"Dec 15, 2024",description:"Annual sports competition for all classes",icon:"fas fa-trophy",colorClass:"bg-gradient-to-br from-yellow-500 to-orange-500"},{title:"Parent-Teacher Meeting",date:"Dec 20, 2024",description:"Quarterly parent-teacher meeting",icon:"fas fa-users",colorClass:"bg-gradient-to-br from-blue-500 to-indigo-500"},{title:"Annual Function",date:"Dec 25, 2024",description:"Annual cultural function and prize distribution",icon:"fas fa-music",colorClass:"bg-gradient-to-br from-purple-500 to-pink-500"}]);return{selectedPeriod:r,feeDistributionPeriod:t,chartView:d,chartLoading:s,pieChartLoading:o,refreshing:i,showNotification:a,notificationMessage:u,currentDate:j,currentTime:m,timeOfDay:q,greetingMessage:U,recentActivities:O,filteredActivities:Y,statisticsCards:I,quickStats:J,filteredQuickStats:H,upcomingEvents:X,filteredEvents:G,userName:w,statistics:_,statsLoading:z,statsError:L,updateTime:W,showQuickActions:y,mainDateFilter:R,chartDateFilter:P,pieChartDateFilter:T,activitiesDateFilter:V,quickStatsDateFilter:B,eventsDateFilter:Q}},data(){return{totalFee:0,receivedFee:0,presentStudents:0,absentStudents:0,incomeData:{labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Current Month",data:[32e4,38e4,41e4,39e4],backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"#3B82F6",borderWidth:2,borderRadius:4,borderSkipped:!1,tension:.4},{label:"Previous Month",data:[28e4,35e4,38e4,36e4],backgroundColor:"rgba(156, 163, 175, 0.8)",borderColor:"#9CA3AF",borderWidth:2,borderRadius:4,borderSkipped:!1,tension:.4}]},pieData:{labels:["Tuition Fee","Examination Fee","Library Fee","Transport Fee","Other Fees"],datasets:[{data:[55,20,10,10,5],backgroundColor:["#3B82F6","#10B981","#F59E0B","#6366F1","#EC4899"],borderWidth:0}]},incomeChart:null,pieChart:null,chartRendered:!1,loading:!1}},async mounted(){this.updateTime(),setInterval(this.updateTime,1e3),this.startRealTimeUpdates(),this.setSampleData(),this.filteredActivities=[...this.recentActivities],this.filteredQuickStats=[...this.quickStats],this.filteredEvents=[...this.upcomingEvents],await this.$nextTick(),this.initCharts(),window.addEventListener("resize",this.handleResize);try{await this.fetchDashboardData()}catch(r){console.error("Error fetching dashboard data:",r)}},beforeUnmount(){this.destroyCharts(),window.removeEventListener("resize",this.handleResize)},methods:{formatNumber(r){return new Intl.NumberFormat("en-IN").format(r)},showNotification(r,t=3e3){this.notificationMessage=r,this.showNotification=!0,setTimeout(()=>{this.showNotification=!1},t)},async refreshData(){this.refreshing=!0;try{await this.fetchDashboardData(),this.showNotification("Data refreshed successfully!")}catch{this.showNotification("Failed to refresh data. Please try again.",5e3)}finally{this.refreshing=!1}},exportReport(){this.showNotification("Exporting report...")},showStatDetails(r){this.showNotification(`Viewing details for ${r.label}`)},showActivityDetails(r){this.showNotification(`Viewing activity: ${r.content}`)},showQuickStatDetails(r){this.showNotification(`Viewing details for ${r.label}`)},viewAllActivities(){this.showNotification("Opening all activities...")},viewAllStats(){this.showNotification("Opening all stats...")},toggleChartView(){this.chartView=this.chartView==="bar"?"line":"bar",this.updateChartData()},updateChartData(){this.chartLoading=!0,setTimeout(()=>{this.chartLoading=!1,this.incomeChart&&this.incomeChart.update()},1e3)},updatePieChart(){this.pieChartLoading=!0,setTimeout(()=>{this.pieChartLoading=!1,this.pieChart&&this.pieChart.update()},1e3)},getStatusClass(r){const t={success:"bg-green-100 text-green-800",primary:"bg-blue-100 text-blue-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-indigo-100 text-indigo-800"};return t[r]||t.info},toggleQuickActions(){this.showQuickActions=!this.showQuickActions},quickAction(r){switch(this.showQuickActions=!1,r){case"addStudent":this.showNotification("Opening student registration form..."),this.$router.push("/students/registration");break;case"addTeacher":this.showNotification("Opening teacher registration form..."),this.$router.push("/faculty/add-teacher");break;case"generateReport":this.showNotification("Generating comprehensive report...");break;case"scheduleEvent":this.showNotification("Opening event scheduler..."),this.$router.push("/events/create");break;default:this.showNotification("Action not implemented yet")}},startRealTimeUpdates(){setInterval(()=>{if(Math.random()>.7){const r=Math.floor(Math.random()*4);r===0?this.statisticsCards[0].value+=Math.floor(Math.random()*1e3):r===1&&(this.statisticsCards[1].value+=Math.floor(Math.random()*500))}},3e4)},applyMainDateFilter(){this.chartDateFilter.startDate=this.mainDateFilter.startDate,this.chartDateFilter.endDate=this.mainDateFilter.endDate,this.pieChartDateFilter.startDate=this.mainDateFilter.startDate,this.pieChartDateFilter.endDate=this.mainDateFilter.endDate,this.activitiesDateFilter.startDate=this.mainDateFilter.startDate,this.activitiesDateFilter.endDate=this.mainDateFilter.endDate,this.quickStatsDateFilter.startDate=this.mainDateFilter.startDate,this.quickStatsDateFilter.endDate=this.mainDateFilter.endDate,this.eventsDateFilter.startDate=this.mainDateFilter.startDate,this.eventsDateFilter.endDate=this.mainDateFilter.endDate,this.updateChartData(),this.updatePieChartData(),this.updateActivitiesData(),this.updateQuickStatsData(),this.updateEventsData(),this.showNotification("Main date filter applied to all sections")},clearMainDateFilter(){this.mainDateFilter.startDate="",this.mainDateFilter.endDate="",this.chartDateFilter.startDate="",this.chartDateFilter.endDate="",this.pieChartDateFilter.startDate="",this.pieChartDateFilter.endDate="",this.activitiesDateFilter.startDate="",this.activitiesDateFilter.endDate="",this.quickStatsDateFilter.startDate="",this.quickStatsDateFilter.endDate="",this.eventsDateFilter.startDate="",this.eventsDateFilter.endDate="",this.updateChartData(),this.updatePieChartData(),this.updateActivitiesData(),this.updateQuickStatsData(),this.updateEventsData(),this.showNotification("All date filters cleared")},updateChartData(){this.chartLoading=!0,setTimeout(()=>{this.chartLoading=!1,this.chart&&this.chart.update()},1e3)},updatePieChartData(){this.pieChartLoading=!0,setTimeout(()=>{this.pieChartLoading=!1,this.pieChart&&this.pieChart.update()},1e3)},updateActivitiesData(){if(this.activitiesDateFilter.startDate&&this.activitiesDateFilter.endDate){const r=new Date(this.activitiesDateFilter.startDate),t=new Date(this.activitiesDateFilter.endDate);this.filteredActivities=this.recentActivities.filter((d,s)=>{const o=new Date;return o.setDate(o.getDate()-(s+1)),o>=r&&o<=t}),this.showNotification("Activities filtered for selected date range")}else this.filteredActivities=this.recentActivities},updateQuickStatsData(){if(this.quickStatsDateFilter.startDate&&this.quickStatsDateFilter.endDate){const r=new Date(this.quickStatsDateFilter.startDate),t=new Date(this.quickStatsDateFilter.endDate);this.filteredQuickStats=this.quickStats.map(d=>{const s=Math.floor((t-r)/864e5),o=Math.max(.5,Math.min(1.5,s/30));return{...d,value:Math.floor(d.originalValue*o),percentage:Math.min(100,Math.floor(d.originalPercentage*o))}}),this.showNotification("Quick stats filtered for selected date range")}else this.filteredQuickStats=this.quickStats},updateEventsData(){if(this.eventsDateFilter.startDate&&this.eventsDateFilter.endDate){const r=new Date(this.eventsDateFilter.startDate),t=new Date(this.eventsDateFilter.endDate);this.filteredEvents=this.upcomingEvents.filter(d=>{const s=new Date(d.date);return s>=r&&s<=t}),this.showNotification("Events filtered for selected date range")}else this.filteredEvents=this.upcomingEvents},setSampleData(){this.incomeData={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Current Month",data:[32e4,38e4,41e4,39e4],backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"#3B82F6",borderWidth:2,borderRadius:4,borderSkipped:!1,tension:.4},{label:"Previous Month",data:[28e4,35e4,38e4,36e4],backgroundColor:"rgba(156, 163, 175, 0.8)",borderColor:"#9CA3AF",borderWidth:2,borderRadius:4,borderSkipped:!1,tension:.4}]},this.pieData={labels:["Tuition Fee","Examination Fee","Library Fee","Transport Fee","Other Fees"],datasets:[{data:[55,20,10,10,5],backgroundColor:["#3B82F6","#10B981","#F59E0B","#6366F1","#EC4899"],borderWidth:0}]},this.totalFee=185e4,this.receivedFee=152e4,this.presentStudents=487,this.absentStudents=42},async initCharts(){var r,t;try{const d=(r=this.$refs.incomeChart)==null?void 0:r.getContext("2d");d&&!this.incomeChart&&(this.incomeChart=new F(d,{type:this.chartView,data:this.incomeData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",align:"end",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{backgroundColor:"#1F2937",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},titleColor:"#F9FAFB",bodyColor:"#F9FAFB",cornerRadius:8,displayColors:!0,callbacks:{label:o=>`${o.dataset.label}: ₹${this.formatNumber(o.raw)}`,title:o=>`${o[0].label}`}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(229, 231, 235, 0.5)",drawTicks:!1},ticks:{padding:10,color:"#6B7280",callback:o=>"₹"+this.formatNumber(o)},border:{display:!1}},x:{grid:{display:!1},ticks:{color:"#6B7280"},border:{display:!1}}},animation:{duration:1500,easing:"easeOutQuart"},layout:{padding:{top:10,right:10}}}}));const s=(t=this.$refs.pieChart)==null?void 0:t.getContext("2d");s&&!this.pieChart&&(this.pieChart=new F(s,{type:"pie",data:this.pieData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,pointStyle:"circle",color:"#374151",font:{size:12}}},tooltip:{backgroundColor:"#1F2937",padding:12,bodyFont:{size:13},titleColor:"#F9FAFB",bodyColor:"#F9FAFB",cornerRadius:8,callbacks:{label:o=>{const i=o.label||"",a=o.raw||0,u=o.dataset.data.reduce((w,y)=>w+y,0),m=Math.round(a/u*100);return`${i}: ${m}% (₹${this.formatNumber(a/100*this.receivedFee)})`}}}},animation:{animateRotate:!0,animateScale:!0,duration:1500,easing:"easeOutQuart"}}})),this.chartRendered=!0}catch(d){console.error("Error initializing charts:",d)}},async fetchDashboardData(){try{this.loading=!0;const r=await E.get("/api/admin/dashboard/monthly-income",{params:{period:this.selectedPeriod}}),t=await E.get("/api/admin/dashboard/fee-distribution",{params:{period:this.feeDistributionPeriod}});this.incomeData.labels=r.data.data.labels,this.incomeData.datasets[0].data=r.data.data.currentMonth,this.incomeData.datasets[1].data=r.data.data.previousMonth,this.pieData.labels=t.data.data.labels,this.pieData.datasets[0].data=t.data.data.values,this.totalFee=r.data.data.totalFee,this.receivedFee=r.data.data.receivedFee,this.presentStudents=r.data.data.presentStudents,this.absentStudents=r.data.data.absentStudents,this.incomeChart&&(this.incomeChart.data=this.incomeData,this.incomeChart.update()),this.pieChart&&(this.pieChart.data=this.pieData,this.pieChart.update())}catch(r){console.error("Error fetching dashboard data:",r),this.setSampleData()}finally{this.loading=!1}},destroyCharts(){this.incomeChart&&(this.incomeChart.destroy(),this.incomeChart=null),this.pieChart&&(this.pieChart.destroy(),this.pieChart=null),this.chartRendered=!1},handleResize(){this.destroyCharts(),this.initCharts()}},watch:{selectedPeriod(){this.fetchDashboardData()},feeDistributionPeriod(){this.fetchDashboardData()}}},st={class:"relative w-full min-h-screen pl-0 pr-0 sm:pl-0 sm:pr-0 lg:pl-1 lg:pr-0 py-2 sm:py-3 lg:py-4"},it={class:"relative z-10 mb-6 rounded-xl border border-gray-200/50 bg-white/60 px-6 py-8 shadow-lg backdrop-filter backdrop-blur-xl"},rt={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6"},ot={class:"header-content"},nt={class:"text-base font-bold text-gray-900 tracking-tight"},lt={class:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent"},dt={class:"text-gray-600 mt-3 font-medium text-sm"},ct={class:"flex items-center gap-4 mt-4"},ut={class:"flex items-center gap-2 text-sm text-gray-500"},gt={class:"flex items-center gap-2 text-sm text-gray-500"},ht={class:"flex items-center gap-4"},ft=["disabled"],pt={class:"flex items-center gap-3 bg-gradient-to-r from-indigo-50 to-purple-50 px-5 py-3 rounded-xl border border-indigo-100 shadow-sm"},mt={class:"text-indigo-700 font-medium"},bt={class:"relative z-10 mb-6 rounded-xl border border-gray-200/50 bg-white/60 px-6 py-4 shadow-lg backdrop-filter backdrop-blur-xl"},xt={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},vt={class:"flex items-center gap-4"},Dt={class:"flex items-center gap-2"},wt={class:"flex items-center gap-2"},yt={class:"relative z-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Ct=["onClick"],kt={class:"flex items-center"},Ft={class:"flex-shrink-0"},St={class:"ml-5 flex-1"},At={class:"text-xs font-medium text-gray-500 tracking-wide"},Mt={class:"text-base font-extrabold text-gray-900 tracking-tight mt-1"},Et={class:"flex items-center text-sm mt-2"},Nt={class:"relative z-10 grid grid-cols-1 lg:grid-cols-3 gap-8"},Rt={class:"lg:col-span-2 space-y-8"},Pt={class:"rounded-2xl border border-gray-200/50 bg-white/60 p-8 shadow-lg backdrop-filter backdrop-blur-xl"},Tt={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-5 mb-8"},Vt={class:"flex items-center gap-4"},Bt={class:"flex items-center gap-2"},Qt={class:"h-80 relative"},_t={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/50 backdrop-blur-sm rounded-lg"},zt={ref:"incomeChart"},Lt={class:"rounded-2xl border border-gray-200/50 bg-white/60 p-8 shadow-lg backdrop-filter backdrop-blur-xl"},jt={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-5 mb-8"},qt={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4"},Ut={class:"flex items-center gap-2"},Wt={class:"flex items-center bg-indigo-50 rounded-xl p-1.5"},Ot=["onClick"],It={class:"h-80 relative"},Yt={key:0,class:"absolute inset-0 flex items-center justify-center bg-white/50 backdrop-blur-sm rounded-lg"},Ht={ref:"pieChart"},Gt={class:"space-y-8"},Jt={class:"rounded-2xl border border-gray-200/50 bg-white/60 p-7 shadow-lg backdrop-filter backdrop-blur-xl"},Xt={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"},Zt={class:"flex flex-col sm:flex-row items-start sm:items-center gap-3 w-full sm:w-auto"},Kt={class:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto"},$t={class:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto"},te={class:"relative"},ee={class:"relative"},ae={class:"space-y-4 max-h-96 overflow-y-auto"},se=["onClick"],ie={class:"flex-1 min-w-0"},re={class:"text-sm text-gray-900 font-medium leading-relaxed"},oe={class:"text-xs text-gray-500 mt-1.5 font-medium"},ne={class:"flex items-center gap-2 mt-2"},le={class:"rounded-2xl border border-gray-200/50 bg-white/60 p-7 shadow-lg backdrop-filter backdrop-blur-xl"},de={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"},ce={class:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto"},ue={class:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto"},ge={class:"relative"},he={class:"relative"},fe={class:"grid grid-cols-2 gap-4"},pe=["onClick"],me={class:"mt-2 w-full bg-white/20 rounded-full h-1"},be={class:"rounded-2xl border border-gray-200/50 bg-white/60 p-7 shadow-lg backdrop-filter backdrop-blur-xl"},xe={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6"},ve={class:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto"},De={class:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto"},we={class:"relative"},ye={class:"relative"},Ce={class:"space-y-4"},ke={class:"flex items-start gap-3"},Fe={class:"flex-1"},Se={class:"font-semibold text-gray-900 text-sm"},Ae={class:"text-xs text-gray-500 mt-1"},Me={class:"text-xs text-gray-600 mt-1"},Ee={class:"flex items-center gap-3"},Ne={class:"font-medium"},Re={class:"fixed bottom-6 right-6 z-40"},Pe={class:"relative group"},Te={key:0,class:"absolute bottom-16 right-0 bg-white rounded-xl shadow-2xl border border-gray-200 p-2 min-w-[200px]"},Ve={class:"space-y-1"};function Be(r,t,d,s,o,i){return h(),g("div",st,[t[76]||(t[76]=e("div",{class:"absolute left-0 bottom-0 w-[700px] h-[500px] bg-gradient-to-r from-purple-400/20 to-pink-400/20 blur-3xl rounded-full z-0 pointer-events-none animate-pulse"},null,-1)),t[77]||(t[77]=e("div",{class:"absolute right-0 top-0 w-[600px] h-[400px] bg-gradient-to-r from-blue-400/20 to-cyan-400/20 blur-3xl rounded-full z-0 pointer-events-none animate-pulse",style:{"animation-delay":"2s"}},null,-1)),t[78]||(t[78]=e("div",{class:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[400px] h-[300px] bg-gradient-to-r from-green-400/10 to-emerald-400/10 blur-2xl rounded-full z-0 pointer-events-none animate-pulse",style:{"animation-delay":"4s"}},null,-1)),e("div",it,[e("div",rt,[e("div",ot,[t[39]||(t[39]=e("div",{class:"flex items-center gap-3 mb-2"},[e("div",{class:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e("span",{class:"text-sm text-green-600 font-medium"},"System Online")],-1)),e("h1",nt,[C(" Good "+l(s.timeOfDay)+", ",1),e("span",lt,l(s.userName),1)]),e("p",dt,l(s.greetingMessage),1),e("div",ct,[e("div",ut,[t[37]||(t[37]=e("i",{class:"fas fa-clock"},null,-1)),e("span",null,l(s.currentTime),1)]),e("div",gt,[t[38]||(t[38]=e("i",{class:"fas fa-calendar"},null,-1)),e("span",null,l(s.currentDate),1)])])]),e("div",ht,[e("button",{onClick:t[0]||(t[0]=(...a)=>i.refreshData&&i.refreshData(...a)),disabled:s.refreshing,class:"h-12 px-6 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"},[e("i",{class:c([s.refreshing?"fas fa-spinner fa-spin":"fas fa-sync-alt","mr-2"])},null,2),C(" "+l(s.refreshing?"Refreshing...":"Refresh Data"),1)],8,ft),e("button",{onClick:t[1]||(t[1]=(...a)=>i.exportReport&&i.exportReport(...a)),class:"h-12 px-6 rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105"},t[40]||(t[40]=[e("i",{class:"fas fa-download mr-2"},null,-1),C(" Export Report ")])),e("div",pt,[t[41]||(t[41]=e("i",{class:"fas fa-calendar-alt text-indigo-600"},null,-1)),e("span",mt,l(s.currentDate),1)])])])]),e("div",bt,[e("div",xt,[t[44]||(t[44]=e("div",{class:"flex items-center gap-3"},[e("i",{class:"fas fa-calendar-days text-indigo-600"}),e("span",{class:"text-sm font-medium text-gray-900"},"Main Date Filter")],-1)),e("div",vt,[e("div",Dt,[t[42]||(t[42]=e("label",{class:"text-xs font-medium text-gray-600"},"From:",-1)),f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s.mainDateFilter.startDate=a),type:"date",class:"h-8 px-3 rounded-lg border border-gray-200 text-xs focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300",onChange:t[3]||(t[3]=(...a)=>i.applyMainDateFilter&&i.applyMainDateFilter(...a))},null,544),[[p,s.mainDateFilter.startDate]])]),e("div",wt,[t[43]||(t[43]=e("label",{class:"text-xs font-medium text-gray-600"},"To:",-1)),f(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>s.mainDateFilter.endDate=a),type:"date",class:"h-8 px-3 rounded-lg border border-gray-200 text-xs focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300",onChange:t[5]||(t[5]=(...a)=>i.applyMainDateFilter&&i.applyMainDateFilter(...a))},null,544),[[p,s.mainDateFilter.endDate]])]),e("button",{onClick:t[6]||(t[6]=(...a)=>i.clearMainDateFilter&&i.clearMainDateFilter(...a)),class:"h-8 px-3 rounded-lg bg-white text-gray-600 text-xs font-medium hover:bg-white transition-colors"}," Clear ")])])]),e("div",yt,[(h(!0),g(b,null,x(s.statisticsCards,(a,u)=>(h(),g("div",{key:u,class:"group relative overflow-hidden rounded-2xl border border-gray-200/50 bg-white/60 p-7 shadow-lg backdrop-filter backdrop-blur-xl hover:shadow-2xl transition-all duration-300 hover:scale-[1.02] cursor-pointer",onClick:m=>i.showStatDetails(a)},[e("div",{class:c(["absolute top-0 left-0 right-0 h-1.5",a.gradient])},null,2),e("div",kt,[e("div",Ft,[e("div",{class:c(["w-16 h-16 rounded-2xl flex items-center justify-center text-white shadow-xl transition-transform duration-300 group-hover:scale-110",a.iconBg])},[e("i",{class:c([a.icon,"text-xl"])},null,2)],2)]),e("div",St,[e("p",At,l(a.label),1),e("p",Mt,l(a.prefix)+l(i.formatNumber(a.value))+l(a.suffix),1),e("div",Et,[e("i",{class:c([a.trend==="up"?"fas fa-arrow-up text-green-500":"fas fa-arrow-down text-red-500","mr-1.5"])},null,2),e("span",{class:c([a.trend==="up"?"text-green-600":"text-red-600","font-medium"])},l(a.change),3)])])]),t[45]||(t[45]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent to-#ffffff/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))],8,Ct))),128))]),e("div",Nt,[e("div",Rt,[e("div",Pt,[e("div",Tt,[t[49]||(t[49]=e("div",null,[e("h3",{class:"text-base font-extrabold text-gray-900 tracking-tight"},"Monthly Income Overview"),e("p",{class:"text-gray-600 mt-2 font-normal text-xs"},"Fee collection trends over time")],-1)),e("div",Vt,[e("div",Bt,[t[46]||(t[46]=e("label",{class:"text-xs font-medium text-gray-600"},"Chart Date Range:",-1)),f(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>s.chartDateFilter.startDate=a),type:"date",class:"h-8 px-2 rounded-lg border border-gray-200 text-xs focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300",onChange:t[8]||(t[8]=(...a)=>i.updateChartData&&i.updateChartData(...a))},null,544),[[p,s.chartDateFilter.startDate]]),t[47]||(t[47]=e("span",{class:"text-xs text-gray-500"},"to",-1)),f(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>s.chartDateFilter.endDate=a),type:"date",class:"h-8 px-2 rounded-lg border border-gray-200 text-xs focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300",onChange:t[10]||(t[10]=(...a)=>i.updateChartData&&i.updateChartData(...a))},null,544),[[p,s.chartDateFilter.endDate]])]),f(e("select",{"onUpdate:modelValue":t[11]||(t[11]=a=>s.selectedPeriod=a),onChange:t[12]||(t[12]=(...a)=>i.updateChartData&&i.updateChartData(...a)),class:"h-8 rounded-lg border border-indigo-100 bg-white px-3 pr-8 text-xs font-medium text-gray-900 focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300 transition-all duration-200 appearance-none bg-[url('data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'12\\' height=\\'12\\' viewBox=\\'0 0 12 12\\'%3E%3Cpath fill=\\'%233b3b4f\\' d=\\'M6 8.825L1.175 4 2.05 3.125 6 7.075 9.95 3.125 10.825 4z\\'/%3E%3C/svg%3E')] bg-no-repeat bg-[length:12px] bg-[position:calc(100%-0.75rem)_center]"},t[48]||(t[48]=[e("option",{value:"6"},"Last 6 Months",-1),e("option",{value:"12"},"Last Year",-1),e("option",{value:"24"},"Last 2 Years",-1)]),544),[[tt,s.selectedPeriod]]),e("button",{onClick:t[13]||(t[13]=(...a)=>i.toggleChartView&&i.toggleChartView(...a)),class:"h-8 w-8 rounded-lg border border-indigo-100 bg-white flex items-center justify-center text-gray-500 hover:bg-indigo-50 transition-all duration-200 hover:scale-105"},[e("i",{class:c(s.chartView==="bar"?"fas fa-chart-line":"fas fa-chart-bar")},null,2)])])]),e("div",Qt,[s.chartLoading?(h(),g("div",_t,t[50]||(t[50]=[e("div",{class:"flex items-center gap-3"},[e("i",{class:"fas fa-spinner fa-spin text-indigo-600"}),e("span",{class:"text-indigo-600 font-medium"},"Loading chart...")],-1)]))):D("",!0),e("canvas",zt,null,512)])]),e("div",Lt,[e("div",jt,[t[53]||(t[53]=e("div",null,[e("h3",{class:"text-base font-extrabold text-gray-900 tracking-tight"},"Fee Collection Distribution"),e("p",{class:"text-gray-600 mt-2 font-normal text-xs"},"Breakdown by fee categories")],-1)),e("div",qt,[e("div",Ut,[t[51]||(t[51]=e("label",{class:"text-xs font-medium text-gray-600"},"Pie Chart Date Range:",-1)),f(e("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>s.pieChartDateFilter.startDate=a),type:"date",class:"h-8 px-2 rounded-lg border border-gray-200 text-xs focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300",onChange:t[15]||(t[15]=(...a)=>i.updatePieChartData&&i.updatePieChartData(...a))},null,544),[[p,s.pieChartDateFilter.startDate]]),t[52]||(t[52]=e("span",{class:"text-xs text-gray-500"},"to",-1)),f(e("input",{"onUpdate:modelValue":t[16]||(t[16]=a=>s.pieChartDateFilter.endDate=a),type:"date",class:"h-8 px-2 rounded-lg border border-gray-200 text-xs focus:ring-2 focus:ring-indigo-200 focus:border-indigo-300",onChange:t[17]||(t[17]=(...a)=>i.updatePieChartData&&i.updatePieChartData(...a))},null,544),[[p,s.pieChartDateFilter.endDate]])]),e("div",Wt,[(h(),g(b,null,x(["Daily","Weekly","Monthly"],a=>e("button",{key:a,class:c(["px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200",s.feeDistributionPeriod===a?"bg-white text-indigo-700 shadow-sm":"text-indigo-600 hover:text-indigo-700"]),onClick:u=>{s.feeDistributionPeriod=a,i.updatePieChart()}},l(a),11,Ot)),64))])])]),e("div",It,[s.pieChartLoading?(h(),g("div",Yt,t[54]||(t[54]=[e("div",{class:"flex items-center gap-3"},[e("i",{class:"fas fa-spinner fa-spin text-indigo-600"}),e("span",{class:"text-indigo-600 font-medium"},"Loading chart...")],-1)]))):D("",!0),e("canvas",Ht,null,512)])])]),e("div",Gt,[e("div",Jt,[e("div",Xt,[t[59]||(t[59]=e("h3",{class:"text-base font-extrabold text-gray-900 tracking-tight"},"Recent Activities",-1)),e("div",Zt,[e("div",Kt,[t[58]||(t[58]=e("label",{class:"text-xs font-semibold text-gray-600 uppercase tracking-wider #ffffffspace-nowrap"},"Activities Date Range:",-1)),e("div",$t,[e("div",te,[f(e("input",{"onUpdate:modelValue":t[18]||(t[18]=a=>s.activitiesDateFilter.startDate=a),type:"date",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none",onChange:t[19]||(t[19]=(...a)=>i.updateActivitiesData&&i.updateActivitiesData(...a))},null,544),[[p,s.activitiesDateFilter.startDate]]),t[55]||(t[55]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))]),t[57]||(t[57]=e("span",{class:"text-xs text-gray-500 hidden sm:inline"},"to",-1)),e("div",ee,[f(e("input",{"onUpdate:modelValue":t[20]||(t[20]=a=>s.activitiesDateFilter.endDate=a),type:"date",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none",onChange:t[21]||(t[21]=(...a)=>i.updateActivitiesData&&i.updateActivitiesData(...a))},null,544),[[p,s.activitiesDateFilter.endDate]]),t[56]||(t[56]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]),e("button",{onClick:t[22]||(t[22]=(...a)=>i.viewAllActivities&&i.viewAllActivities(...a)),class:"h-9 px-6 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 #ffffffspace-nowrap"}," View All ")])]),e("div",ae,[(h(!0),g(b,null,x(s.filteredActivities,(a,u)=>(h(),g("div",{key:u,class:"flex items-start gap-4 p-4 rounded-xl hover:bg-white/60 transition-all duration-200 cursor-pointer group",onClick:m=>i.showActivityDetails(a)},[e("div",{style:M({backgroundColor:a.color}),class:"w-12 h-12 rounded-xl flex items-center justify-center text-white flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform duration-200"},[e("i",{class:c([a.icon,"text-sm"])},null,2)],4),e("div",ie,[e("p",re,l(a.content),1),e("p",oe,l(a.time),1),e("div",ne,[e("span",{class:c([i.getStatusClass(a.type),"px-2 py-1 rounded-full text-xs font-medium"])},l(a.type),3)])])],8,se))),128))])]),e("div",le,[e("div",de,[t[64]||(t[64]=e("h3",{class:"text-base font-extrabold text-gray-900 tracking-tight"},"Quick Stats",-1)),e("div",ce,[t[63]||(t[63]=e("label",{class:"text-xs font-semibold text-gray-600 uppercase tracking-wider #ffffffspace-nowrap"},"Stats Date Range:",-1)),e("div",ue,[e("div",ge,[f(e("input",{"onUpdate:modelValue":t[23]||(t[23]=a=>s.quickStatsDateFilter.startDate=a),type:"date",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none",onChange:t[24]||(t[24]=(...a)=>i.updateQuickStatsData&&i.updateQuickStatsData(...a))},null,544),[[p,s.quickStatsDateFilter.startDate]]),t[60]||(t[60]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))]),t[62]||(t[62]=e("span",{class:"text-xs text-gray-500 hidden sm:inline"},"to",-1)),e("div",he,[f(e("input",{"onUpdate:modelValue":t[25]||(t[25]=a=>s.quickStatsDateFilter.endDate=a),type:"date",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none",onChange:t[26]||(t[26]=(...a)=>i.updateQuickStatsData&&i.updateQuickStatsData(...a))},null,544),[[p,s.quickStatsDateFilter.endDate]]),t[61]||(t[61]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])])]),e("div",fe,[(h(!0),g(b,null,x(s.filteredQuickStats,(a,u)=>(h(),g("div",{key:u,class:c(["bg-gradient-to-br p-5 rounded-xl border hover:shadow-md transition-all duration-200 cursor-pointer group",a.bgClass]),onClick:m=>i.showQuickStatDetails(a)},[e("p",{class:c(["text-xs font-bold mb-2 tracking-wide uppercase",a.textClass])},l(a.label),3),e("p",{class:c(["text-base font-black tracking-tight",a.valueClass])},l(a.value),3),e("p",{class:c(["text-xs font-semibold mt-1",a.changeClass])},l(a.change),3),e("div",me,[e("div",{class:c(["h-1 rounded-full transition-all duration-300",a.progressClass]),style:M({width:a.percentage+"%"})},null,6)])],10,pe))),128))])]),e("div",be,[e("div",xe,[t[69]||(t[69]=e("h3",{class:"text-base font-extrabold text-gray-900 tracking-tight"},"Upcoming Events",-1)),e("div",ve,[t[68]||(t[68]=e("label",{class:"text-xs font-semibold text-gray-600 uppercase tracking-wider #ffffffspace-nowrap"},"Events Date Range:",-1)),e("div",De,[e("div",we,[f(e("input",{"onUpdate:modelValue":t[27]||(t[27]=a=>s.eventsDateFilter.startDate=a),type:"date",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none",onChange:t[28]||(t[28]=(...a)=>i.updateEventsData&&i.updateEventsData(...a))},null,544),[[p,s.eventsDateFilter.startDate]]),t[65]||(t[65]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))]),t[67]||(t[67]=e("span",{class:"text-xs text-gray-500 hidden sm:inline"},"to",-1)),e("div",ye,[f(e("input",{"onUpdate:modelValue":t[29]||(t[29]=a=>s.eventsDateFilter.endDate=a),type:"date",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none",onChange:t[30]||(t[30]=(...a)=>i.updateEventsData&&i.updateEventsData(...a))},null,544),[[p,s.eventsDateFilter.endDate]]),t[66]||(t[66]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])])]),e("div",Ce,[(h(!0),g(b,null,x(s.filteredEvents,(a,u)=>(h(),g("div",{key:u,class:"p-4 rounded-xl border border-gray-200 hover:border-indigo-200 transition-all duration-200 cursor-pointer group"},[e("div",ke,[e("div",{class:c(["w-10 h-10 rounded-lg flex items-center justify-center text-white",a.colorClass])},[e("i",{class:c([a.icon,"text-sm"])},null,2)],2),e("div",Fe,[e("h4",Se,l(a.title),1),e("p",Ae,l(a.date),1),e("p",Me,l(a.description),1)])])]))),128))])])])]),i.showNotification?(h(),g("div",{key:0,class:c(["fixed top-4 right-4 z-50 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-4 rounded-xl shadow-2xl transform transition-all duration-300 border border-green-200",i.showNotification?"translate-x-0 opacity-100":"translate-x-full opacity-0"])},[e("div",Ee,[t[71]||(t[71]=e("i",{class:"fas fa-check-circle text-lg"},null,-1)),e("span",Ne,l(s.notificationMessage),1),e("button",{onClick:t[31]||(t[31]=a=>i.showNotification=!1),class:"ml-4 text-white/80 hover:text-white transition-colors"},t[70]||(t[70]=[e("i",{class:"fas fa-times"},null,-1)]))])],2)):D("",!0),e("div",Re,[e("div",Pe,[e("button",{onClick:t[32]||(t[32]=(...a)=>i.toggleQuickActions&&i.toggleQuickActions(...a)),class:"w-14 h-14 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-110 flex items-center justify-center"},[e("i",{class:c([s.showQuickActions?"fas fa-times":"fas fa-plus","text-xl transition-transform duration-300"])},null,2)]),s.showQuickActions?(h(),g("div",Te,[e("div",Ve,[e("button",{onClick:t[33]||(t[33]=a=>i.quickAction("addStudent")),class:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white transition-colors text-left"},t[72]||(t[72]=[e("i",{class:"fas fa-user-plus text-blue-600"},null,-1),e("span",{class:"text-gray-900 font-medium"},"Add Student",-1)])),e("button",{onClick:t[34]||(t[34]=a=>i.quickAction("addTeacher")),class:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white transition-colors text-left"},t[73]||(t[73]=[e("i",{class:"fas fa-chalkboard-teacher text-green-600"},null,-1),e("span",{class:"text-gray-900 font-medium"},"Add Teacher",-1)])),e("button",{onClick:t[35]||(t[35]=a=>i.quickAction("generateReport")),class:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white transition-colors text-left"},t[74]||(t[74]=[e("i",{class:"fas fa-file-alt text-purple-600"},null,-1),e("span",{class:"text-gray-900 font-medium"},"Generate Report",-1)])),e("button",{onClick:t[36]||(t[36]=a=>i.quickAction("scheduleEvent")),class:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-white transition-colors text-left"},t[75]||(t[75]=[e("i",{class:"fas fa-calendar-plus text-orange-600"},null,-1),e("span",{class:"text-gray-900 font-medium"},"Schedule Event",-1)]))])])):D("",!0)])])])}const ze=$(at,[["render",Be],["__scopeId","data-v-c23b91aa"]]);export{ze as default};
