import{_ as X,u as Z,s as r,x as ee,c as te,b as B,d as o,y as t,A as s,a2 as h,z as a,f as u,t as d,w as ae,E as ne,n as M}from"./index-z4YXot-9.js";const oe={class:"reports"},le={class:"page-header"},se={class:"header-actions"},re={class:"card-header"},de={class:"card-content"},ue={class:"card-header"},ie={class:"card-content"},ce={class:"card-header"},pe={class:"card-content"},_e={class:"card-header"},me={class:"card-content"},fe={class:"card-header"},ve={class:"card-header"},ge={class:"pagination-container"},ye={__name:"Reports",setup(he){const x=Z(),_=ref(!1),T=ref([]),C=ref("monthly"),R=ref("income"),b=ref(1),w=ref(10),L=ref(0),$=[{text:"Last week",value:()=>{const n=new Date,e=new Date;return e.setTime(e.getTime()-3600*1e3*24*7),[e,n]}},{text:"Last month",value:()=>{const n=new Date,e=new Date;return e.setTime(e.getTime()-3600*1e3*24*30),[e,n]}},{text:"Last 3 months",value:()=>{const n=new Date,e=new Date;return e.setTime(e.getTime()-3600*1e3*24*90),[e,n]}},{text:"Last year",value:()=>{const n=new Date,e=new Date;return e.setTime(e.getTime()-3600*1e3*24*365),[e,n]}}],S=ref([{date:"2024-03-15",category:"Tuition",description:"Tuition Payment",type:"income",amount:5e3,balance:5e3},{date:"2024-03-14",category:"Utilities",description:"Utility Bill",type:"expense",amount:500,balance:4500}]),m=computed(()=>S.value.filter(n=>n.type==="income").reduce((n,e)=>n+e.amount,0)),V=computed(()=>S.value.filter(n=>n.type==="expense").reduce((n,e)=>n+e.amount,0)),f=computed(()=>m.value-V.value),z=computed(()=>m.value===0?0:f.value/m.value*100),i=n=>n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),N=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),E=async()=>{try{_.value=!0,await new Promise(n=>setTimeout(n,1e3)),x.success("Report generated successfully")}catch{x.error("Failed to generate report")}finally{_.value=!1}},I=async()=>{try{_.value=!0,await new Promise(n=>setTimeout(n,1e3)),x.success("Report exported successfully")}catch{x.error("Failed to export report")}finally{_.value=!1}},A=n=>{w.value=n,E()},q=n=>{b.value=n,E()};return(n,e)=>{const Q=r("el-date-picker"),Y=r("Download"),v=r("el-icon"),j=r("el-button"),g=r("el-tag"),U=r("Money"),D=r("el-statistic"),c=r("el-card"),p=r("el-col"),G=r("TrendCharts"),k=r("el-row"),F=r("el-radio-button"),H=r("el-radio-group"),P=r("el-option"),J=r("el-select"),y=r("el-table-column"),K=r("el-table"),O=r("el-pagination"),W=ee("loading");return B(),te("div",oe,[o("div",le,[e[6]||(e[6]=o("h2",null,"Financial Reports",-1)),o("div",se,[t(Q,{modelValue:s(T),"onUpdate:modelValue":e[0]||(e[0]=l=>h(T)?T.value=l:null),type:"daterange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date",shortcuts:$,onChange:E},null,8,["modelValue"]),t(j,{type:"primary",onClick:I},{default:a(()=>[t(v,null,{default:a(()=>[t(Y)]),_:1}),e[5]||(e[5]=u(" Export Report "))]),_:1,__:[5]})])]),t(k,{gutter:20,class:"summary-cards"},{default:a(()=>[t(p,{span:6},{default:a(()=>[t(c,{shadow:"hover"},{header:a(()=>[o("div",re,[e[7]||(e[7]=o("span",null,"Total Revenue",-1)),t(g,{type:"success"},{default:a(()=>[u("+$"+d(i(s(m))),1)]),_:1})])]),default:a(()=>[o("div",de,[t(D,{value:i(s(m))},{prefix:a(()=>[t(v,null,{default:a(()=>[t(U)]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1}),t(p,{span:6},{default:a(()=>[t(c,{shadow:"hover"},{header:a(()=>[o("div",ue,[e[8]||(e[8]=o("span",null,"Total Expenses",-1)),t(g,{type:"danger"},{default:a(()=>[u("-$"+d(i(s(V))),1)]),_:1})])]),default:a(()=>[o("div",ie,[t(D,{value:i(s(V))},{prefix:a(()=>[t(v,null,{default:a(()=>[t(U)]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1}),t(p,{span:6},{default:a(()=>[t(c,{shadow:"hover"},{header:a(()=>[o("div",ce,[e[9]||(e[9]=o("span",null,"Net Profit",-1)),t(g,{type:s(f)>=0?"success":"danger"},{default:a(()=>[u(d(s(f)>=0?"+":"-")+"$"+d(i(Math.abs(s(f)))),1)]),_:1},8,["type"])])]),default:a(()=>[o("div",pe,[t(D,{value:i(s(f))},{prefix:a(()=>[t(v,null,{default:a(()=>[t(U)]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1}),t(p,{span:6},{default:a(()=>[t(c,{shadow:"hover"},{header:a(()=>[o("div",_e,[e[10]||(e[10]=o("span",null,"Profit Margin",-1)),t(g,{type:s(z)>=0?"success":"danger"},{default:a(()=>[u(d(s(z).toFixed(2))+"% ",1)]),_:1},8,["type"])])]),default:a(()=>[o("div",me,[t(D,{value:s(z).toFixed(2),suffix:"%"},{prefix:a(()=>[t(v,null,{default:a(()=>[t(G)]),_:1})]),_:1},8,["value"])])]),_:1})]),_:1})]),_:1}),t(k,{gutter:20,class:"charts"},{default:a(()=>[t(p,{span:12},{default:a(()=>[t(c,{class:"chart-card"},{header:a(()=>[o("div",fe,[e[14]||(e[14]=o("span",null,"Revenue vs Expenses",-1)),t(H,{modelValue:s(C),"onUpdate:modelValue":e[1]||(e[1]=l=>h(C)?C.value=l:null),size:"small"},{default:a(()=>[t(F,{label:"monthly"},{default:a(()=>e[11]||(e[11]=[u("Monthly")])),_:1,__:[11]}),t(F,{label:"quarterly"},{default:a(()=>e[12]||(e[12]=[u("Quarterly")])),_:1,__:[12]}),t(F,{label:"yearly"},{default:a(()=>e[13]||(e[13]=[u("Yearly")])),_:1,__:[13]})]),_:1},8,["modelValue"])])]),default:a(()=>[e[15]||(e[15]=o("div",{class:"chart-container"},[o("div",{class:"placeholder-chart"},"Revenue vs Expenses Chart")],-1))]),_:1,__:[15]})]),_:1}),t(p,{span:12},{default:a(()=>[t(c,{class:"chart-card"},{header:a(()=>e[16]||(e[16]=[o("div",{class:"card-header"},[o("span",null,"Expense Categories")],-1)])),default:a(()=>[e[17]||(e[17]=o("div",{class:"chart-container"},[o("div",{class:"placeholder-chart"},"Expense Categories Chart")],-1))]),_:1,__:[17]})]),_:1})]),_:1}),t(c,{class:"report-table"},{header:a(()=>[o("div",ve,[e[18]||(e[18]=o("span",null,"Detailed Report",-1)),t(J,{modelValue:s(R),"onUpdate:modelValue":e[2]||(e[2]=l=>h(R)?R.value=l:null),placeholder:"Select Report Type"},{default:a(()=>[t(P,{label:"Income Statement",value:"income"}),t(P,{label:"Balance Sheet",value:"balance"}),t(P,{label:"Cash Flow",value:"cash"})]),_:1},8,["modelValue"])])]),default:a(()=>[ae((B(),ne(K,{data:s(S),style:{width:"100%"}},{default:a(()=>[t(y,{prop:"date",label:"Date",width:"120"},{default:a(({row:l})=>[u(d(N(l.date)),1)]),_:1}),t(y,{prop:"category",label:"Category",width:"150"},{default:a(({row:l})=>[t(g,null,{default:a(()=>[u(d(l.category),1)]),_:2},1024)]),_:1}),t(y,{prop:"description",label:"Description"}),t(y,{prop:"amount",label:"Amount",width:"150"},{default:a(({row:l})=>[o("span",{class:M(l.type==="income"?"income":"expense")},d(l.type==="income"?"+":"-")+"$"+d(i(l.amount)),3)]),_:1}),t(y,{prop:"balance",label:"Balance",width:"150"},{default:a(({row:l})=>[o("span",{class:M(l.balance>=0?"income":"expense")},d(l.balance>=0?"+":"-")+"$"+d(i(Math.abs(l.balance))),3)]),_:1})]),_:1},8,["data"])),[[W,s(_)]]),o("div",ge,[t(O,{"current-page":s(b),"onUpdate:currentPage":e[3]||(e[3]=l=>h(b)?b.value=l:null),"page-size":s(w),"onUpdate:pageSize":e[4]||(e[4]=l=>h(w)?w.value=l:null),"page-sizes":[10,20,50,100],total:s(L),layout:"total, sizes, prev, pager, next",onSizeChange:A,onCurrentChange:q},null,8,["current-page","page-size","total"])])]),_:1})])}}},be=X(ye,[["__scopeId","data-v-47901413"]]);export{be as default};
