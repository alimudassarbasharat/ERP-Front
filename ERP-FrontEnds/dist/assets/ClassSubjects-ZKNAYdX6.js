import{_ as be,u as xe,r as c,l as H,q as W,o as he,c as n,b as i,d as e,e as D,U as T,f as h,t as u,K as z,w,v as Z,h as q,F as V,g as $,n as X,a5 as we,a as j}from"./index-z4YXot-9.js";const ye={class:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col items-center p-4 sm:p-6 lg:p-8"},ke={class:"w-full max-w-7xl mx-auto mt-2 mb-4 flex items-center justify-between bg-white/90 rounded-lg shadow-lg py-2 px-5 transition-all duration-500 border border-gray-200"},je={class:"text-base font-medium text-gray-600 tracking-tight flex items-center gap-2"},Ce={class:"w-full"},Se={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},_e={class:"flex flex-col w-full"},Ae={class:"relative"},Me={class:"flex flex-col w-full"},Fe={class:"relative"},Ne=["value"],Ve={class:"flex flex-col w-full"},$e={class:"relative"},Be={class:"flex flex-col w-full"},Le={class:"relative"},Ee={class:"flex justify-end gap-2 mt-2"},Pe={class:"flex gap-2"},De={class:"w-full max-w-7xl mx-auto flex items-center justify-between mb-8"},ze={class:"flex flex-col items-start"},Ue={class:"text-base font-medium text-gray-900 tracking-tight flex items-center gap-2"},Ie={key:0,class:"w-full"},He={key:1,class:"w-full"},Te={class:"border border-gray-200 rounded-xl p-8 bg-white/40 shadow-sm"},qe={class:"flex flex-col items-center justify-center py-12"},Oe={class:"w-full"},Re={key:2,class:"w-full"},Ze={class:"bg-white rounded-xl shadow-lg overflow-hidden"},Ke={class:"overflow-x-auto"},Qe={class:"min-w-full"},Ge={class:"py-3 px-4 text-gray-900 font-normal text-sm"},Je={class:"py-3 px-4"},We={class:"flex items-center gap-3"},Xe={class:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-sm font-medium"},Ye={class:"text-sm font-medium text-gray-900"},et={class:"text-xs text-gray-500"},tt={class:"py-3 px-4 text-center"},st={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},ot={class:"py-3 px-4 text-center"},lt={class:"py-3 px-4 text-center text-xs text-gray-500"},at={class:"py-3 px-4"},rt={class:"flex items-center justify-center gap-2"},nt=["onClick"],it=["onClick"],dt=["onClick"],ut=["onClick"],ct={key:0,class:"bg-white px-4 py-3 border-t border-purple-200"},vt={class:"flex items-center justify-between"},pt={class:"flex-1 flex justify-between sm:hidden"},mt=["disabled"],gt=["disabled"],ft={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},bt={class:"text-sm text-gray-900"},xt={class:"font-medium"},ht={class:"font-medium"},wt={class:"font-medium"},yt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},kt=["disabled"],jt=["onClick"],Ct=["disabled"],St={class:"w-full"},_t={class:"px-6 py-4 border-b border-gray-200"},At={class:"flex items-center justify-between"},Mt={class:"text-lg font-semibold text-gray-900"},Ft={class:"flex flex-col w-full"},Nt={class:"relative"},Vt={class:"flex flex-col w-full"},$t={class:"relative"},Bt={class:"flex gap-3 pt-4"},Lt={type:"submit",class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300"},Et={class:"w-full"},Pt={class:"p-6 space-y-6"},Dt={class:"flex flex-col w-full"},zt={class:"relative"},Ut=["value"],It={class:"flex flex-col w-full"},Ht={class:"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto border border-gray-200 rounded-lg p-4"},Tt=["value"],qt={class:"text-sm"},Ot={class:"w-full"},Rt={class:"px-6 py-4 border-b border-gray-200"},Zt={class:"flex items-center justify-between"},Kt={class:"text-lg font-semibold text-gray-900"},Qt={class:"p-6"},Gt={key:0,class:"space-y-3"},Jt={class:"text-sm font-medium text-gray-900"},Wt={key:1,class:"text-center py-8"},Xt={class:"pt-6"},Yt={__name:"ClassSubjects",setup(es){const v=xe(),g=c([]),C=c([]),B=c([]),r=c({subjectName:"",class:"",assignmentStatus:""}),L=c("name_asc"),a=c(1),S=c(20),E=c(!1),_=c(!1),P=c(!1),A=c(!1),M=c(!1),m=c({id:null,name:"",description:""}),b=c(""),x=c([]),O=c(null),U=c([]),y=H(()=>{let o=g.value.filter(s=>{const p=!r.value.subjectName||s.name&&s.name.toLowerCase().includes(r.value.subjectName.toLowerCase()),d=!r.value.class||s.classes&&s.classes.some(I=>I.id===parseInt(r.value.class)),f=r.value.assignmentStatus===""||r.value.assignmentStatus==="assigned"&&k(s.id)>0||r.value.assignmentStatus==="unassigned"&&k(s.id)===0;return p&&d&&f});const[t,l]=L.value.split("_");return o.sort((s,p)=>{var I,Q,G,J;let d,f;switch(t){case"name":d=((I=s.name)==null?void 0:I.toLowerCase())||"",f=((Q=p.name)==null?void 0:Q.toLowerCase())||"";break;case"classes":d=k(s.id),f=k(p.id);break;case"created":d=new Date(s.created_at||0),f=new Date(p.created_at||0);break;default:d=((G=s.name)==null?void 0:G.toLowerCase())||"",f=((J=p.name)==null?void 0:J.toLowerCase())||""}return l==="desc"?d<f?1:d>f?-1:0:d>f?1:d<f?-1:0})}),Y=H(()=>{const o=(a.value-1)*S.value,t=o+S.value;return y.value.slice(o,t)}),F=H(()=>Math.ceil(y.value.length/S.value)),ee=H(()=>{const o=[],t=F.value,l=a.value;if(t<=7)for(let s=1;s<=t;s++)o.push(s);else if(l<=4){for(let s=1;s<=5;s++)o.push(s);o.push("..."),o.push(t)}else if(l>=t-3){o.push(1),o.push("...");for(let s=t-4;s<=t;s++)o.push(s)}else{o.push(1),o.push("...");for(let s=l-1;s<=l+1;s++)o.push(s);o.push("..."),o.push(t)}return o.filter(s=>s!=="..."||o.indexOf(s)!==o.lastIndexOf(s))}),R=async()=>{var o,t,l;try{E.value=!0,console.log("Fetching subjects from API with authentication");const s=await j.get("/subjects");console.log("Subjects API Response:",s.data),Array.isArray(s.data)?g.value=s.data:Array.isArray(s.data.subjects)?g.value=s.data.subjects:Array.isArray((o=s.data.result)==null?void 0:o.data)?g.value=s.data.result.data:s.data.success&&Array.isArray(s.data.result)||s.data.status&&Array.isArray(s.data.result)?g.value=s.data.result:g.value=[],console.log("Subjects loaded:",g.value.length)}catch(s){console.error("Error fetching subjects:",s),v.error(((l=(t=s.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to fetch subjects"),g.value=[]}finally{E.value=!1}},te=async()=>{var o,t;try{console.log("Fetching classes from API with authentication");const l=await j.get("/classes");console.log("Classes API Response:",l.data),l.data.success?(C.value=l.data.result||[],console.log("Classes loaded:",C.value.length)):(console.error("Classes API Error:",l.data.message),v.error(l.data.message||"Failed to fetch classes"))}catch(l){console.error("Error fetching classes:",l),v.error(((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.message)||"Failed to fetch classes")}},K=async()=>{try{console.log("Fetching class-subjects...");const o=await j.get("/class-subjects");console.log("Class-Subjects API Response:",o.data),o.data.success?B.value=o.data.result||[]:B.value=[]}catch(o){console.error("Error fetching class-subjects:",o),B.value=[]}},k=o=>B.value.filter(t=>t.subject_id===o).length,se=()=>{var t;const o=[];if(r.value.subjectName&&o.push(`Search: "${r.value.subjectName}"`),r.value.class){const l=(t=C.value.find(s=>s.id===parseInt(r.value.class)))==null?void 0:t.name;l&&o.push(`Class: ${l}`)}return r.value.assignmentStatus&&o.push(`Status: ${r.value.assignmentStatus==="assigned"?"Assigned":"Not Assigned"}`),o.length>0?o.join(" | "):"All Subjects"},oe=async()=>{var o,t;if(!m.value.name.trim()){v.error("Subject name is required");return}try{let l;M.value&&m.value.id?l=await j.post(`/subjects/${m.value.id}/update`,m.value):l=await j.post("/subjects/store",m.value),l.data.status||l.data.success?(v.success(M.value?"Subject updated successfully!":"Subject added successfully!"),N(),await R()):v.error(l.data.message||"Failed to save subject")}catch(l){console.error("Error submitting form:",l),v.error(((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.message)||"Failed to submit form")}},le=o=>{m.value={id:o.id,name:o.name,description:o.description||""},M.value=!0,_.value=!0},ae=o=>{var t,l;if(confirm(`Are you sure you want to delete subject "${o.name}"?`))try{j.post(`/subjects/${o.id}/delete`).then(async s=>{s.data.status||s.data.success?(v.success("Subject deleted successfully!"),await R()):v.error(s.data.message||"Failed to delete subject")})}catch(s){console.error("Error deleting subject:",s),v.error(((l=(t=s.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to delete subject")}},re=()=>{b.value="",x.value=[],P.value=!0},ne=async()=>{var o,t;if(!b.value||x.value.length===0){v.warning("Please select a class and at least one subject");return}try{console.log("Assigning subjects to class:",{class_id:b.value,subject_ids:x.value});const l=x.value.map(d=>j.post("/class-subjects",{class_id:parseInt(b.value),subject_id:d})),s=await Promise.all(l);console.log("Assign Subjects Responses:",s.map(d=>d.data));const p=s.filter(d=>d.data.success).length;p>0?(v.success(`${p} subject(s) assigned successfully!`),N(),await K()):v.error("Assignment failed")}catch(l){console.error("Error assigning subjects:",l),v.error("Error: "+(((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.message)||l.message))}},ie=async o=>{O.value=o;const t=B.value.filter(l=>l.subject_id===o.id).map(l=>C.value.find(s=>s.id===l.class_id)).filter(Boolean);U.value=t,A.value=!0},de=o=>{x.value=[o.id],b.value="",P.value=!0},N=()=>{_.value=!1,P.value=!1,A.value=!1,M.value=!1,m.value={id:null,name:"",description:""},b.value="",x.value=[],O.value=null,U.value=[]},ue=()=>{a.value=1},ce=()=>{r.value={subjectName:"",class:"",assignmentStatus:""},L.value="name_asc",a.value=1},ve=()=>{a.value=1},pe=()=>{a.value=1},me=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ge=()=>{v.info("Excel export functionality will be implemented soon!")},fe=()=>{v.info("PDF export functionality will be implemented soon!")};return W([()=>r.value.subjectName,()=>r.value.class,()=>r.value.assignmentStatus],()=>{a.value=1},{deep:!0}),W(L,()=>{a.value=1}),he(async()=>{console.log("Component mounted, fetching data..."),await Promise.all([R(),te(),K()])}),(o,t)=>{var l;return i(),n("div",ye,[e("div",ke,[e("h2",je,[t[19]||(t[19]=e("div",{class:"w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"},null,-1)),h(" Subject Management - "+u(se()),1)]),t[20]||(t[20]=T('<nav class="flex items-center gap-2 text-base font-medium text-gray-500" data-v-7c19da06><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-7c19da06>Dashboard</span><span class="mx-2" data-v-7c19da06>|</span><span class="hover:text-purple-600 cursor-pointer transition-colors duration-200" data-v-7c19da06>Classes</span><span class="mx-2" data-v-7c19da06>|</span><span class="text-gray-900 font-bold" data-v-7c19da06>Subject Management</span></nav>',1))]),t[70]||(t[70]=e("div",{class:"w-full"},[e("div",{class:"flex flex-col items-start"},[e("h3",{class:"text-base font-medium text-gray-900 tracking-tight"},"Filter & Manage Subjects"),e("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-300",style:{"max-width":"180px"}})])],-1)),e("div",Ce,[e("form",{class:"w-full",onSubmit:z(ue,["prevent"])},[e("div",Se,[e("div",_e,[t[22]||(t[22]=e("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Search Subject",-1)),e("div",Ae,[w(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.value.subjectName=s),type:"text",placeholder:"Search by name",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[Z,r.value.subjectName]]),t[21]||(t[21]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",Me,[t[26]||(t[26]=e("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Filter by Class",-1)),e("div",Fe,[w(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>r.value.class=s),onChange:ve,class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},[t[23]||(t[23]=e("option",{value:""},"All Classes",-1)),(i(!0),n(V,null,$(C.value,s=>(i(),n("option",{key:s.id,value:s.id},u(s.name),9,Ne))),128))],544),[[q,r.value.class]]),t[24]||(t[24]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[25]||(t[25]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",Ve,[t[30]||(t[30]=e("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Assignment Status",-1)),e("div",$e,[w(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.value.assignmentStatus=s),class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},t[27]||(t[27]=[e("option",{value:""},"All Subjects",-1),e("option",{value:"assigned"},"Assigned to Classes",-1),e("option",{value:"unassigned"},"Not Assigned",-1)]),512),[[q,r.value.assignmentStatus]]),t[28]||(t[28]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[29]||(t[29]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",Be,[t[34]||(t[34]=e("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Sort Order",-1)),e("div",Le,[w(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>L.value=s),onChange:pe,class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8"},t[31]||(t[31]=[T('<option value="name_asc" data-v-7c19da06>Name (A-Z)</option><option value="name_desc" data-v-7c19da06>Name (Z-A)</option><option value="classes_desc" data-v-7c19da06>Most Classes</option><option value="classes_asc" data-v-7c19da06>Least Classes</option><option value="created_desc" data-v-7c19da06>Newest First</option><option value="created_asc" data-v-7c19da06>Oldest First</option>',6)]),544),[[q,L.value]]),t[32]||(t[32]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[33]||(t[33]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])])]),e("div",Ee,[e("button",{type:"button",onClick:ce,class:"h-9 px-8 rounded-full bg-gradient-to-r from-gray-500 to-slate-500 text-sm font-bold text-white shadow hover:from-gray-600 hover:to-slate-600 transition-all duration-300 transform hover:scale-105"}," Clear "),e("div",Pe,[e("button",{type:"button",onClick:t[4]||(t[4]=s=>_.value=!0),class:"h-9 px-8 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 text-sm font-bold text-white shadow hover:from-green-600 hover:to-emerald-600 transition-all duration-300 transform hover:scale-105"}," Add Subject "),e("button",{type:"button",onClick:re,class:"h-9 px-8 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 text-sm font-bold text-white shadow hover:from-blue-600 hover:to-indigo-600 transition-all duration-300 transform hover:scale-105"}," Assign to Class "),t[35]||(t[35]=e("button",{type:"submit",class:"h-9 px-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105"}," Filter ",-1))])])],32)]),e("div",De,[e("div",ze,[e("h3",Ue,[t[36]||(t[36]=e("div",{class:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 animate-bounce"},null,-1)),h(" Subject Results ("+u(y.value.length)+") ",1)]),t[37]||(t[37]=e("div",{class:"h-[2px] bg-purple-200 w-full transition-all duration-500",style:{"max-width":"160px"}},null,-1))]),e("div",{class:"flex items-center gap-3"},[e("button",{onClick:ge,class:"px-6 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-sm font-medium rounded-full hover:from-green-600 hover:to-emerald-600 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 flex items-center gap-2"},t[38]||(t[38]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),h(" Export Excel ")])),e("button",{onClick:fe,class:"px-6 py-2 bg-gradient-to-r from-red-500 to-pink-500 text-white text-sm font-medium rounded-full hover:from-red-600 hover:to-pink-600 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105 flex items-center gap-2"},t[39]||(t[39]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),h(" Export PDF ")]))])]),t[71]||(t[71]=e("div",{class:"w-full"},[e("div",{class:"h-[2px] w-full bg-purple-200 mb-4"})],-1)),E.value?(i(),n("div",Ie,t[40]||(t[40]=[T('<div class="border border-gray-200 rounded-xl p-8 bg-white/40 shadow-sm" data-v-7c19da06><div class="flex flex-col items-center justify-center py-12" data-v-7c19da06><div class="relative mb-6" data-v-7c19da06><div class="w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin" data-v-7c19da06></div><div class="absolute inset-0 w-16 h-16 border-4 border-transparent border-r-indigo-500 rounded-full animate-ping opacity-20" data-v-7c19da06></div></div><div class="text-center" data-v-7c19da06><p class="text-gray-600 font-medium text-lg mb-1" data-v-7c19da06>Loading Subjects</p><p class="text-gray-500 text-sm font-normal" data-v-7c19da06>Please wait while we fetch the subject data...</p><div class="flex justify-center mt-3 space-x-1" data-v-7c19da06><div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce" data-v-7c19da06></div><div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce" style="animation-delay:0.1s;" data-v-7c19da06></div><div class="w-2 h-2 bg-purple-400 rounded-full animate-bounce" style="animation-delay:0.2s;" data-v-7c19da06></div></div></div></div></div>',1)]))):!E.value&&y.value.length===0?(i(),n("div",He,[e("div",Te,[e("div",qe,[t[43]||(t[43]=T('<div class="relative mb-6" data-v-7c19da06><div class="w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center" data-v-7c19da06><svg class="w-12 h-12 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7c19da06><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" data-v-7c19da06></path></svg></div><div class="absolute -top-2 -right-2 w-4 h-4 bg-purple-300 rounded-full animate-ping opacity-30" data-v-7c19da06></div><div class="absolute -bottom-2 -left-2 w-3 h-3 bg-indigo-300 rounded-full animate-pulse" data-v-7c19da06></div></div>',1)),e("div",Oe,[t[41]||(t[41]=e("h3",{class:"text-gray-600 font-medium text-xl mb-2"},"No Subjects Found",-1)),t[42]||(t[42]=e("p",{class:"text-gray-500 text-sm font-normal leading-relaxed mb-4"}," No subjects match your current filters. Try adjusting your search criteria or add new subjects to get started. ",-1)),e("button",{onClick:t[5]||(t[5]=s=>_.value=!0),class:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-medium rounded-full hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-sm hover:shadow-md transform hover:scale-105"}," Add First Subject ")])])])])):!E.value&&y.value.length>0?(i(),n("div",Re,[e("div",Ze,[e("div",Ke,[e("table",Qe,[t[48]||(t[48]=e("thead",{class:"bg-gradient-to-r from-indigo-50 to-purple-50"},[e("tr",null,[e("th",{class:"text-left py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"#"),e("th",{class:"text-left py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Subject Details"),e("th",{class:"text-center py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Assigned Classes"),e("th",{class:"text-center py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Assignment Status"),e("th",{class:"text-center py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Created Date"),e("th",{class:"text-center py-3 px-4 font-medium text-gray-600 text-sm tracking-wider border-b-2 border-purple-400"},"Actions")])],-1)),e("tbody",null,[(i(!0),n(V,null,$(Y.value,(s,p)=>(i(),n("tr",{key:s.id,class:"hover:bg-indigo-50 transition-colors border-b border-purple-200"},[e("td",Ge,u((a.value-1)*S.value+p+1),1),e("td",Je,[e("div",We,[e("div",Xe,u(s.name.charAt(0).toUpperCase()),1),e("div",null,[e("div",Ye,u(s.name),1),e("div",et,u(s.description||"No description available"),1)])])]),e("td",tt,[e("span",st,u(k(s.id))+" classes ",1)]),e("td",ot,[e("span",{class:X(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",k(s.id)>0?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},u(k(s.id)>0?"Assigned":"Not Assigned"),3)]),e("td",lt,u(me(s.created_at)),1),e("td",at,[e("div",rt,[e("button",{onClick:d=>le(s),class:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors duration-200 hover:scale-110",title:"Edit Subject"},t[44]||(t[44]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,nt),e("button",{onClick:d=>ie(s),class:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors duration-200 hover:scale-110",title:"View Assigned Classes"},t[45]||(t[45]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,it),e("button",{onClick:d=>de(s),class:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors duration-200 hover:scale-110",title:"Quick Assign to Class"},t[46]||(t[46]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)]),8,dt),e("button",{onClick:d=>ae(s),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 hover:scale-110",title:"Delete Subject"},t[47]||(t[47]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ut)])])]))),128))])])]),F.value>1?(i(),n("div",ct,[e("div",vt,[e("div",pt,[e("button",{onClick:t[6]||(t[6]=s=>a.value>1&&a.value--),disabled:a.value<=1,class:"relative inline-flex items-center px-4 py-2 border border-gray-200 text-sm font-medium rounded-md text-gray-900 bg-white hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,mt),e("button",{onClick:t[7]||(t[7]=s=>a.value<F.value&&a.value++),disabled:a.value>=F.value,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-200 text-sm font-medium rounded-md text-gray-900 bg-white hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,gt)]),e("div",ft,[e("div",null,[e("p",bt,[t[49]||(t[49]=h(" Showing ")),e("span",xt,u((a.value-1)*S.value+1),1),t[50]||(t[50]=h(" to ")),e("span",ht,u(Math.min(a.value*S.value,y.value.length)),1),t[51]||(t[51]=h(" of ")),e("span",wt,u(y.value.length),1),t[52]||(t[52]=h(" subjects "))])]),e("div",null,[e("nav",yt,[e("button",{onClick:t[8]||(t[8]=s=>a.value>1&&a.value--),disabled:a.value<=1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-200 bg-white text-sm font-medium text-gray-500 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed"},t[53]||(t[53]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,kt),(i(!0),n(V,null,$(ee.value,s=>(i(),n("button",{key:s,onClick:p=>a.value=s,class:X(["relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors duration-200",s===a.value?"z-10 bg-purple-50 border-purple-500 text-purple-600":"bg-white border-gray-200 text-gray-500 hover:bg-white"])},u(s),11,jt))),128)),e("button",{onClick:t[9]||(t[9]=s=>a.value<F.value&&a.value++),disabled:a.value>=F.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-200 bg-white text-sm font-medium text-gray-500 hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed"},t[54]||(t[54]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,Ct)])])])])])):D("",!0)])])):D("",!0),_.value?(i(),n("div",{key:3,class:"relative z-10 bg-white rounded-lg shadow-xl border border-gray-200",onClick:t[12]||(t[12]=z(s=>_.value=!1,["self"]))},[e("div",St,[e("div",_t,[e("div",At,[e("h3",Mt,u(M.value?"Edit Subject":"Add New Subject"),1),e("button",{onClick:N,class:"text-gray-500 hover:text-gray-600"},t[55]||(t[55]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("form",{onSubmit:z(oe,["prevent"]),class:"p-6 space-y-4"},[e("div",Ft,[t[57]||(t[57]=e("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Subject Name",-1)),e("div",Nt,[w(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>m.value.name=s),type:"text",placeholder:"Enter subject name",required:"",class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full"},null,512),[[Z,m.value.name]]),t[56]||(t[56]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",Vt,[t[59]||(t[59]=e("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Description",-1)),e("div",$t,[w(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=s=>m.value.description=s),placeholder:"Enter subject description",rows:"3",class:"border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full resize-none"},null,512),[[Z,m.value.description]]),t[58]||(t[58]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",Bt,[e("button",{type:"button",onClick:N,class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-gray-500 to-slate-500 text-sm font-bold text-white shadow hover:from-gray-600 hover:to-slate-600 transition-all duration-300"}," Cancel "),e("button",Lt,u(M.value?"Update":"Add")+" Subject ",1)])],32)])])):D("",!0),P.value?(i(),n("div",{key:4,class:"relative z-10 bg-white rounded-lg shadow-xl border border-gray-200",onClick:t[15]||(t[15]=z(s=>P.value=!1,["self"]))},[e("div",Et,[e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("div",{class:"flex items-center justify-between"},[t[61]||(t[61]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Assign Subjects to Class",-1)),e("button",{onClick:N,class:"text-gray-500 hover:text-gray-600"},t[60]||(t[60]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",Pt,[e("div",Dt,[t[65]||(t[65]=e("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Select Class",-1)),e("div",zt,[w(e("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>b.value=s),class:"h-10 border-0 bg-transparent px-0 text-sm font-light text-gray-600 focus:ring-0 focus:outline-none w-full appearance-none pr-8",required:""},[t[62]||(t[62]=e("option",{value:""},"Choose a class",-1)),(i(!0),n(V,null,$(C.value,s=>(i(),n("option",{key:s.id,value:s.id},u(s.name),9,Ut))),128))],512),[[q,b.value]]),t[63]||(t[63]=e("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 5v14m0 0l-5-5m5 5l5-5"})])],-1)),t[64]||(t[64]=e("div",{class:"absolute left-0 right-0 bottom-0 h-[2px] bg-purple-200 pointer-events-none"},null,-1))])]),e("div",It,[t[66]||(t[66]=e("label",{class:"mb-1 text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Select Subjects",-1)),e("div",Ht,[(i(!0),n(V,null,$(g.value,s=>(i(),n("label",{key:s.id,class:"flex items-center gap-2 p-2 rounded-lg hover:bg-white cursor-pointer transition-colors"},[w(e("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":t[14]||(t[14]=p=>x.value=p),class:"w-4 h-4 text-purple-600 border-gray-200 rounded focus:ring-purple-500"},null,8,Tt),[[we,x.value]]),e("span",qt,u(s.name),1)]))),128))])]),e("div",{class:"flex gap-3 pt-4"},[e("button",{onClick:N,class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-gray-500 to-slate-500 text-sm font-bold text-white shadow hover:from-gray-600 hover:to-slate-600 transition-all duration-300"}," Cancel "),e("button",{onClick:ne,class:"flex-1 h-10 px-6 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300"}," Assign Subjects ")])])])])):D("",!0),A.value?(i(),n("div",{key:5,class:"relative z-10 bg-white rounded-lg shadow-xl border border-gray-200",onClick:t[18]||(t[18]=z(s=>A.value=!1,["self"]))},[e("div",Ot,[e("div",Rt,[e("div",Zt,[e("h3",Kt,"Classes for "+u((l=O.value)==null?void 0:l.name),1),e("button",{onClick:t[16]||(t[16]=s=>A.value=!1),class:"text-gray-500 hover:text-gray-600"},t[67]||(t[67]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),e("div",Qt,[U.value.length>0?(i(),n("div",Gt,[(i(!0),n(V,null,$(U.value,s=>(i(),n("div",{key:s.id,class:"flex items-center gap-3 p-3 bg-white rounded-lg"},[t[68]||(t[68]=e("div",{class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),e("span",Jt,u(s.name),1)]))),128))])):(i(),n("div",Wt,t[69]||(t[69]=[e("svg",{class:"w-12 h-12 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),e("p",{class:"text-gray-500"},"No classes assigned yet",-1)]))),e("div",Xt,[e("button",{onClick:t[17]||(t[17]=s=>A.value=!1),class:"w-full h-10 px-6 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-sm font-bold text-white shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300"}," Close ")])])])])):D("",!0)])}}},ss=be(Yt,[["__scopeId","data-v-7c19da06"]]);export{ss as default};
